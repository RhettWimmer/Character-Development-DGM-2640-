!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(window,function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{0:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n(38),r=n.n(i),o=n(1),a=n(47),s=n.n(a),u=n(108),l=n.n(u),c=n(102),d=n.n(c);function f(e){function t(t,n,i,r,o,a){var s=n[i];return a=a||i,null===s||void 0===s?t?new Error("Required "+o+" `"+a+"` was not specified in `"+r+"`."):null:e(n,i,r,o,a,d.a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function h(e){return Array.isArray(e)?"array":r()(e)}function p(e){return f(function(t,n,i,r,o){var a=t[n],u=h(a);if(!function(e){return e instanceof s.a.Model}(a))return new Error("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected `Backbone.Model`.");for(var l in e){var c=e[l];if(c){var f=c(a.attributes,l,i,r,n+".get('"+l+"')",d.a);if(f)return f}}return null})}var g=p({}),m=f(function(e,t,n,i,r){var o=e[t],a=h(o);return function(e){return e instanceof s.a.Collection}(o)?null:new Error("Invalid "+i+" `"+r+"` of type `"+a+"` supplied to `"+n+"`, expected `Backbone.Collection`.")}),v=Object(o.extend)({},l.a);v.valuesOf=function(e){return f(function(t,n,i,r,o){var a=function(e,t,n,i){if("function"!=typeof e)return new Error("Property `"+t+"` of `"+n+"` has invalid OptionType notation inside "+i+".")}(e,o,i,"valuesOf");if(a)return a;var s=t[n],u=h(s);if("object"!==u)return new Error("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected an object.");for(var l in s){var c=e(s,l,i,r,o+"."+l,d.a);if(c instanceof Error)return c}return null})},v.modelShape=p,v.model=g,v.collection=m,v.numberBetween=function(e,t){return f(function(n,i,r,o,a){var s=l.a.number(n,i,r,o,a,d.a);if(s)return s;var u=n[i];return u<e||u>t?new Error("Invalid "+o+" `"+i+"` of value `"+u+"` supplied to `"+r+"`, expected number between "+e+" and "+t+"."):null})},v.component=v.oneOfType([v.shape({viewClass:v.func.isRequired,options:v.object}).isRequired,v.arrayOf(v.shape({viewClass:v.func.isRequired,options:v.object})).isRequired]),v.selectOptionListOf=function(e){return v.arrayOf(v.shape({title:v.string.isRequired,value:e,default:v.bool}).isRequired)},t.b=v;var b=l.a.checkPropTypes},10:function(e,t,n){"use strict";var i=n(1),r=n(27);window.webpackPublicPath=Object(r.o)("webpack-public-path");var o=Object(r.o)("sketchfab-runtime","json");n.p=window.webpackPublicPath;var a={__webpack_public_path__:window.webpackPublicPath,isFeatureEnabled:function(e){var t=this.features[e];return t&&void 0!==t.enabled?t.enabled:!t||void 0===t.flag||t.flag>0}};Object(i.extend)(a,o);var s=a;t.a=Object(i.extend)({},s,{buildMode:"dist",routes:{"categories:detail":"categories/<slug:category>","categories:list":"categories","collections:collection_display":"<username:username>/collections/<slug:collection_slug>","collections:explore_collections":"collections","collections:popular":"collections/popular","feeds:activity":"feed/activity","feeds:following":"feed","feeds:suggestions":"feed/suggestions","models:brands":"models/brands","models:edit":"models/<uid:model_id>/edit","models:embed":"models/<uid:model_id>/embed","models:embed_legacy_redirect":"embed/<uid:model_id>","models:embed_password":"models/<uid:model_id>/embed/password","models:explore":"models","models:explore_by_category":"models/categories/<slug:category>","models:model_categories_redirect":"models/categories","models:password_legacy_redirect":"models/<uid:model_id>/password","models:playlists_embed":"playlists/embed","models:popular":"models/popular","models:review":"models/<uid:model_id>/review","models:show_legacy_redirect":"show/<uid:model_id>","models:staffpicks":"models/staffpicks","models:view":"3d-models/<slug:slug>-<uid:model_id>","models:view_old":"models/<uid:model_id>","models:view_password":"3d-models/<slug:slug>-<uid:model_id>/password","models:view_password_without_slug":"3d-models/<uid:model_id>/password","models:view_without_slug":"3d-models/<uid:model_id>","pages:1million":"1million","pages:about":"about","pages:advertising":"3d-advertising","pages:animation":"animation","pages:careers":"careers","pages:configurator":"3d-configurators","pages:developers":"developers","pages:developers_data":"developers/data-api","pages:developers_exporters":"developers/exporters","pages:developers_support":"developers/support","pages:download":"download","pages:education":"education","pages:enterprise":"enterprise","pages:exporters":"exporters","pages:exporters_detail":"exporters/<slug:exporter>","pages:features":"features","pages:features_animation":"features/animation","pages:features_download":"features/download","pages:features_gltf":"features/gltf","pages:features_pbr":"features/pbr","pages:gltf":"gltf","pages:importers":"importers","pages:index":"","pages:licenses":"licenses","pages:mobile":"mobile","pages:oauth2_success":"oauth2/success","pages:pbr":"pbr","pages:plans":"plans","pages:press":"press","pages:privacy":"privacy","pages:render_test_viewer":"tests/models/<uid:model_id>/render-test","pages:terms":"terms","pages:tests_grid_playground":"tests/playground/grid","pages:verticals_games":"games","pages:verticals_museums":"museums","pages:virtual_reality":"virtual-reality","pages:vr":"vr","pages:vr_browser":"vr-browser","pages:vr_launcher":"vr-launcher","search:search":"search","store:cart":"store/cart","store:categories_list":"store/categories","store:checkout":"store/checkout","store:home":"store","store:invoice":"<username:username>/invoices/<uid:uid>","store:invoice_redirect":"<username:username>/invoices","store:search":"store/3d-models","store:search_by_keyword":"store/3d-models/<slug:keyword>","store:user":"<username:username>/store","tags:tag_detail_view":"tags/<slug:tag>","users:explore_users":"members","users:explore_users_pro":"members/pros","users:farewell":"farewell","users:onboarding":"signup/onboarding","users:onboarding_step":"signup/onboarding/<str:usage>/<str:step>","users:profile_collections":"<username:username>/collections","users:profile_followers":"<username:username>/followers","users:profile_following":"<username:username>/followings","users:profile_likes":"<username:username>/likes","users:profile_models":"<username:username>/models","users:profile_purchases":"<username:username>/purchases","users:profile_sales":"<username:username>/sales","users:profile_subscriptions":"<username:username>/subscriptions","users:profile_summary":"<username:username>","users:profile_uploads":"<username:username>/uploads","users:reset_password":"login/reset-password","users:reset_password_confirm":"login/reset-password-confirm","users:settings_account":"settings/account","users:settings_apps":"settings/apps","users:settings_avatar":"settings/avatar","users:settings_dotme":"settings/dotme","users:settings_email":"settings/email","users:settings_notifications":"settings/notifications","users:settings_password":"settings/password","users:settings_profile":"settings/profile","users:settings_unsubscribe":"settings/unsubscribe","users:signin":"login","users:signin_hololens":"login/hololens","users:signout":"logout","users:signup":"signup","users:signup_connect":"signup/connect","users:signup_email_confirmation":"signup/email-confirmation","users:signup_finalize":"signup/finalize","users:upgrade_welcome":"upgrade/<str:account>/<str:cycle>/welcome"},modelFiletypes:["wrl","obj","ive","3ds","dae","ply","osg2","osgt","osgb","osgx","osgs","gem","geo","mdl","rgb","lws","dxf","tgz","osgterrain","shp","zae","stl","sta","bvh","ac","flt","ogr","osga","md2","x","txp","dw","osgtgz","3dc","asc","lw","lwo","gdal","bsp","osg","iv","blend","blend1","fbx","dat","mc2obj","dwf","vpk","zip","7z","rar","gz","kmz","craft","wrz","mu","q3d","gltf","glb","iges","igs","abc","las","vox"],environmentFiletypes:["hdr","exr"],exportersFiletypes:{"3dslash":"3dslash",blend:"blender",c4d:"cinema4d",craft:"kerbalspaceprogram",fmz:"formz",gh:"grasshopper",ghx:"grasshopper",ic3d:"ironcad",ipt:"inventor",lws:"lightwave",lxo:"modo",ma:"maya",mat:"unity",max:"3dsmax",mb:"maya",prefab:"unity",psd:"photoshop",qb:"qubicle",qef:"qubicle",qmo:"qubicle",s3d:"strata",sbs:"substance",skp:"sketchup",sldprt:"solidworks",spp:"substance",unity:"unity",ztl:"zbrush"},textureFileTypes:["jpg","jpeg","png","tga"],avatarFiletypes:["jpg","jpeg","png"],backgroundFiletypes:["jpg","jpeg","png"],matcapFiletypes:["jpg","jpeg","png","tga"],additionalUploadableFileTypes:["mtl","psd","bin"],soundFiletypes:["mp3"],maxBackgroundFilesize:4194304,maxMatcapFilesize:4194304,maxEnvironmentFilesize:52428800,maxAvatarFilesizes:{basic:1048576,biz:1048576,ent:1048576,prem:1048576,pro:1048576},maxModelFilesizes:{basic:52428800,biz:524288e3,ent:524288e3,prem:524288e3,pro:209715200},maxHotspotsPerModel:{basic:5,biz:75,ent:100,prem:50,pro:20},maxSoundFilesize:5242880,maxSoundtracksPerModel:{basic:1,biz:15,ent:15,prem:10,pro:5},plansPrivateModelLimit:{basic:0,biz:500,ent:"Custom",prem:200,pro:20},textureMaxFileSize:78643200,cameraConstraintsEditing:{basic:0,biz:1,ent:1,prem:1,pro:1},analyticsReferrerOverrides:["facebook.com/.*?/?dialog/oauth.*?","facebook.com/login$","facebook.com/l.php$"],oauthRedirectUris:{},usernameMaxLength:30,usernameValidatorRegex:"^[a-zA-Z0-9._-]{2,30}$",usernameValidatorTitle:"Letters, numbers, -, _ and . only",userUsageTypeChoices:{buyer:"buyer",uploader:"uploader",visitor:"visitor"},proPlanTypes:["pro","prem","biz","ent"],planLabels:{basic:"basic",biz:"business",ent:"enterprise",prem:"premium",pro:"pro"},deflatableModelFiletypes:["stl","ply","obj","dae"],minDeflatableFilesize:524288,maxLevenshteinDistance:2,prodHookDomainsBlacklist:["sketchfab.com"],inspectorBlacklist:["3dexport.com","3docean.net","3dsquirrel.co.uk","blendermarket.com","cgtrader.com","creativemarket.com","crytek.com","cubebrush.co","daz3d.com","evermotion.org","flippednormals.com","gumroad.com","pond5.com","renderosity.com","stock.adobe.com","turbosquid.com","unity3d.com","unrealengine.com"],maxExtraArchiveSize:524288e3,apiPageSize:24,internalDomains:[{domain:"2mdn.net",allowSubdomains:!0},{domain:"3dtotal.com",allowSubdomains:!0},{domain:"80.lv",allowSubdomains:!0},{domain:"artstation.com",allowSubdomains:!0},{domain:"blendernation.com",allowSubdomains:!0},{domain:"cgsociety.org",allowSubdomains:!0},{domain:"fatvoxel.com",allowSubdomains:!0},{domain:"guidigo.com",allowSubdomains:!0},{domain:"moddb.com",allowSubdomains:!0},{domain:"nearpod.com",allowSubdomains:!0},{domain:"serving-sys.com",allowSubdomains:!0},{domain:"sketchfab.com",allowSubdomains:!0},{domain:"skfb-local.com",allowSubdomains:!0},{domain:"syncsketch.com",allowSubdomains:!0},{domain:"therookies.co",allowSubdomains:!0},{domain:"yeggi.com",allowSubdomains:!0},{domain:"yobi3d.com",allowSubdomains:!0}],hosts:{faq:"https://help.sketchfab.com/hc/en-us"},optionsVersion:9,channelNames:{Matcap:["matcap"],Displacement:["displacement"],Opacity:["transparency","transparent","opacity","mask","alpha"],SubsurfaceScattering:["scattering","subsurface"],SubsurfaceTranslucency:["translucency","thickness"],DiffuseColor:["diffuse","albedo","basecolor"],DiffusePBR:["diffuse","albedo","basecolor"],AlbedoPBR:["diffuse","albedo","basecolor"],ClearCoat:["clearcoat"],ClearCoatRoughness:["clearcoat roughness"],ClearCoatNormalMap:["clearcoat normal map"],SpecularColor:["specular","spec","s"],DiffuseIntensity:["ambient occlusion","ao","occlusion","lightmap","diffuseintensity"],SpecularPBR:["specular","spec","s"],MetalnessPBR:["metalness","metallic","metal","m"],GlossinessPBR:["glossiness","glossness","gloss","g","glossy"],RoughnessPBR:["roughness","rough","r"],NormalMap:["normal","nrm","normalmap"],BumpMap:["bump","bumpmap","heightmap"],AOPBR:["ambient occlusion","ao","occlusion","lightmap","diffuseintensity"],EmitColor:["emission","emit","emissive"],CavityPBR:["cavity"],SpecularHardness:["glossiness","glossness","gloss","g","glossy"],SpecularF0:["specularf0","f0"],Inspector:[]},shortcuts:{viewerRendering:{name:"Rendering",shortcuts:[{id:"defaultRenderingMode",name:"Lit: ",description:"Shows default rendering mode",keyCombinations:["1"]},{id:"shadelessRenderingMode",name:"Shadeless: ",description:"Shows shadeless rendering mode",keyCombinations:"2"},{id:"matcapRenderingMode",name:"MatCap: ",description:"Shows matcap rendering mode",keyCombinations:"3"},{id:"toggleWireframe",name:"Wireframe: ",description:"Toggles wireframe visibility",keyCombinations:"5"},{id:"inspector",name:"Inspector: ",keyCombinations:["i"]}]},generalControls:{name:"General",shortcuts:[{id:"fullscreen",name:"Fullscreen: ",keyCombinations:["f"]}]},animationControl:{name:"Animations",shortcuts:[{id:"prevFrame",name:"Previous frame: ",keyCombinations:["b","ctrl+b","shift+b"]},{id:"nextFrame",name:"Next frame: ",keyCombinations:["n","ctrl+n","shift+n"]},{id:"toggleTextEdition",name:"Go to time/frame : ",keyCombinations:["enter"]}]},annotationControl:{name:"Annotations",shortcuts:[{id:"prevAnnotation",name:"Previous: ",keyCombinations:["j","pageup"]},{id:"nextAnnotation",name:"Next: ",keyCombinations:["k","pagedown"]}]},inspectorControl:{name:"Inspector",shortcuts:[{id:"render",name:"Render: ",keyCombinations:["1"]},{id:"materials",name:"Materials: ",keyCombinations:["2"]},{id:"geometry",name:"Geometry: ",keyCombinations:["3"]},{id:"uv",name:"UV: ",keyCombinations:["4"]},{id:"animation",name:"Animation: ",keyCombinations:["6"]}]},sound:{name:"Sound",shortcuts:[{id:"mute",name:"Mute: ",keyCombinations:["m"]}]}},vr:{launcherUid:"c0022acc4f3242e2bcae8043e08df8cc"},defaultMatcapUid:"35c4d334eded44d8a657f390954a32dd",facebookApiVersion:"v2.10",modelMinPrice:399,reviewsUsageOptions:[{title:"Game development",value:"game"},{title:"Real-Time Rendering",value:"rtr"},{title:"Rendering & Visual FX",value:"vfx"},{title:"Animation/Motion Design",value:"anim"},{title:"VR",value:"vr"},{title:"3D Printing, Maker Projects & DIY",value:"print"},{title:"Architecture / Interior Design",value:"archi"},{title:"Education",value:"edu"},{title:"AR",value:"ar"},{title:"Art",value:"art"},{title:"Other",value:"other"}],fileFormatOptions:[{title:".fbx (Autodesk FBX)",value:"fbx"},{title:".3ds (3ds Max)",value:"3ds"},{title:".max (3ds Max)",value:"max"},{title:".blend (Blender)",value:"blend"},{title:".obj (OBJ wavefront)",value:"obj"},{title:".c4d (Cinema 4D)",value:"c4d"},{title:".mb (Maya)",value:"mb"},{title:".ma (Maya)",value:"ma"},{title:".lwo (LightWave)",value:"lwo"},{title:".lxo (Modo)",value:"lxo"},{title:".skp (SketchUp)",value:"skp"},{title:".stl (Stereolithography)",value:"stl"},{title:".unitypackage (Unity)",value:"unitypackage"},{title:".uasset (Unreal)",value:"uasset"},{title:".dae (Collada)",value:"dae"},{title:".ply (Polygon File Format)",value:"ply"}],storeCartMaxSize:50,countries:[{title:"Afghanistan",value:"AF"},{title:"Åland Islands",value:"AX"},{title:"Albania",value:"AL"},{title:"Algeria",value:"DZ"},{title:"American Samoa",value:"AS"},{title:"Andorra",value:"AD"},{title:"Angola",value:"AO"},{title:"Anguilla",value:"AI"},{title:"Antarctica",value:"AQ"},{title:"Antigua and Barbuda",value:"AG"},{title:"Argentina",value:"AR"},{title:"Armenia",value:"AM"},{title:"Aruba",value:"AW"},{title:"Australia",value:"AU"},{title:"Austria",value:"AT"},{title:"Azerbaijan",value:"AZ"},{title:"Bahamas",value:"BS"},{title:"Bahrain",value:"BH"},{title:"Bangladesh",value:"BD"},{title:"Barbados",value:"BB"},{title:"Belarus",value:"BY"},{title:"Belgium",value:"BE"},{title:"Belize",value:"BZ"},{title:"Benin",value:"BJ"},{title:"Bermuda",value:"BM"},{title:"Bhutan",value:"BT"},{title:"Bolivia, Plurinational State of",value:"BO"},{title:"Bonaire, Sint Eustatius and Saba",value:"BQ"},{title:"Bosnia and Herzegovina",value:"BA"},{title:"Botswana",value:"BW"},{title:"Bouvet Island",value:"BV"},{title:"Brazil",value:"BR"},{title:"British Indian Ocean Territory",value:"IO"},{title:"Brunei Darussalam",value:"BN"},{title:"Bulgaria",value:"BG"},{title:"Burkina Faso",value:"BF"},{title:"Burundi",value:"BI"},{title:"Cambodia",value:"KH"},{title:"Cameroon",value:"CM"},{title:"Canada",value:"CA"},{title:"Cabo Verde",value:"CV"},{title:"Cayman Islands",value:"KY"},{title:"Central African Republic",value:"CF"},{title:"Chad",value:"TD"},{title:"Chile",value:"CL"},{title:"China",value:"CN"},{title:"Christmas Island",value:"CX"},{title:"Cocos (Keeling) Islands",value:"CC"},{title:"Colombia",value:"CO"},{title:"Comoros",value:"KM"},{title:"Congo",value:"CG"},{title:"Congo, Democratic Republic of the",value:"CD"},{title:"Cook Islands",value:"CK"},{title:"Costa Rica",value:"CR"},{title:"Côte d'Ivoire",value:"CI"},{title:"Croatia",value:"HR"},{title:"Cuba",value:"CU"},{title:"Curaçao",value:"CW"},{title:"Cyprus",value:"CY"},{title:"Czechia",value:"CZ"},{title:"Denmark",value:"DK"},{title:"Djibouti",value:"DJ"},{title:"Dominica",value:"DM"},{title:"Dominican Republic",value:"DO"},{title:"Ecuador",value:"EC"},{title:"Egypt",value:"EG"},{title:"El Salvador",value:"SV"},{title:"Equatorial Guinea",value:"GQ"},{title:"Eritrea",value:"ER"},{title:"Estonia",value:"EE"},{title:"Ethiopia",value:"ET"},{title:"Falkland Islands (Malvinas)",value:"FK"},{title:"Faroe Islands",value:"FO"},{title:"Fiji",value:"FJ"},{title:"Finland",value:"FI"},{title:"France",value:"FR"},{title:"French Guiana",value:"GF"},{title:"French Polynesia",value:"PF"},{title:"French Southern Territories",value:"TF"},{title:"Gabon",value:"GA"},{title:"Gambia",value:"GM"},{title:"Georgia",value:"GE"},{title:"Germany",value:"DE"},{title:"Ghana",value:"GH"},{title:"Gibraltar",value:"GI"},{title:"Greece",value:"GR"},{title:"Greenland",value:"GL"},{title:"Grenada",value:"GD"},{title:"Guadeloupe",value:"GP"},{title:"Guam",value:"GU"},{title:"Guatemala",value:"GT"},{title:"Guernsey",value:"GG"},{title:"Guinea",value:"GN"},{title:"Guinea-Bissau",value:"GW"},{title:"Guyana",value:"GY"},{title:"Haiti",value:"HT"},{title:"Heard Island and McDonald Islands",value:"HM"},{title:"Holy See",value:"VA"},{title:"Honduras",value:"HN"},{title:"Hong Kong",value:"HK"},{title:"Hungary",value:"HU"},{title:"Iceland",value:"IS"},{title:"India",value:"IN"},{title:"Indonesia",value:"ID"},{title:"Iran, Islamic Republic of",value:"IR"},{title:"Iraq",value:"IQ"},{title:"Ireland",value:"IE"},{title:"Isle of Man",value:"IM"},{title:"Israel",value:"IL"},{title:"Italy",value:"IT"},{title:"Jamaica",value:"JM"},{title:"Japan",value:"JP"},{title:"Jersey",value:"JE"},{title:"Jordan",value:"JO"},{title:"Kazakhstan",value:"KZ"},{title:"Kenya",value:"KE"},{title:"Kiribati",value:"KI"},{title:"Korea, Democratic People's Republic of",value:"KP"},{title:"Korea, Republic of",value:"KR"},{title:"Kosovo",value:"XK"},{title:"Kuwait",value:"KW"},{title:"Kyrgyzstan",value:"KG"},{title:"Lao People's Democratic Republic",value:"LA"},{title:"Latvia",value:"LV"},{title:"Lebanon",value:"LB"},{title:"Lesotho",value:"LS"},{title:"Liberia",value:"LR"},{title:"Libya",value:"LY"},{title:"Liechtenstein",value:"LI"},{title:"Lithuania",value:"LT"},{title:"Luxembourg",value:"LU"},{title:"Macao",value:"MO"},{title:"Macedonia, the former Yugoslav Republic of",value:"MK"},{title:"Madagascar",value:"MG"},{title:"Malawi",value:"MW"},{title:"Malaysia",value:"MY"},{title:"Maldives",value:"MV"},{title:"Mali",value:"ML"},{title:"Malta",value:"MT"},{title:"Marshall Islands",value:"MH"},{title:"Martinique",value:"MQ"},{title:"Mauritania",value:"MR"},{title:"Mauritius",value:"MU"},{title:"Mayotte",value:"YT"},{title:"Mexico",value:"MX"},{title:"Micronesia, Federated States of",value:"FM"},{title:"Moldova, Republic of",value:"MD"},{title:"Monaco",value:"MC"},{title:"Mongolia",value:"MN"},{title:"Montenegro",value:"ME"},{title:"Montserrat",value:"MS"},{title:"Morocco",value:"MA"},{title:"Mozambique",value:"MZ"},{title:"Myanmar",value:"MM"},{title:"Namibia",value:"NA"},{title:"Nauru",value:"NR"},{title:"Nepal",value:"NP"},{title:"Netherlands",value:"NL"},{title:"New Caledonia",value:"NC"},{title:"New Zealand",value:"NZ"},{title:"Nicaragua",value:"NI"},{title:"Niger",value:"NE"},{title:"Nigeria",value:"NG"},{title:"Niue",value:"NU"},{title:"Norfolk Island",value:"NF"},{title:"Northern Mariana Islands",value:"MP"},{title:"Norway",value:"NO"},{title:"Oman",value:"OM"},{title:"Pakistan",value:"PK"},{title:"Palau",value:"PW"},{title:"Palestine, State of",value:"PS"},{title:"Panama",value:"PA"},{title:"Papua New Guinea",value:"PG"},{title:"Paraguay",value:"PY"},{title:"Peru",value:"PE"},{title:"Philippines",value:"PH"},{title:"Pitcairn",value:"PN"},{title:"Poland",value:"PL"},{title:"Portugal",value:"PT"},{title:"Puerto Rico",value:"PR"},{title:"Qatar",value:"QA"},{title:"Réunion",value:"RE"},{title:"Romania",value:"RO"},{title:"Russian Federation",value:"RU"},{title:"Rwanda",value:"RW"},{title:"Saint Barthélemy",value:"BL"},{title:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{title:"Saint Kitts and Nevis",value:"KN"},{title:"Saint Lucia",value:"LC"},{title:"Saint Martin (French part)",value:"MF"},{title:"Saint Pierre and Miquelon",value:"PM"},{title:"Saint Vincent and the Grenadines",value:"VC"},{title:"Samoa",value:"WS"},{title:"San Marino",value:"SM"},{title:"Sao Tome and Principe",value:"ST"},{title:"Saudi Arabia",value:"SA"},{title:"Senegal",value:"SN"},{title:"Serbia",value:"RS"},{title:"Seychelles",value:"SC"},{title:"Sierra Leone",value:"SL"},{title:"Singapore",value:"SG"},{title:"Sint Maarten (Dutch part)",value:"SX"},{title:"Slovakia",value:"SK"},{title:"Slovenia",value:"SI"},{title:"Solomon Islands",value:"SB"},{title:"Somalia",value:"SO"},{title:"South Africa",value:"ZA"},{title:"South Georgia and the South Sandwich Islands",value:"GS"},{title:"South Sudan",value:"SS"},{title:"Spain",value:"ES"},{title:"Sri Lanka",value:"LK"},{title:"Sudan",value:"SD"},{title:"Suriname",value:"SR"},{title:"Svalbard and Jan Mayen",value:"SJ"},{title:"Eswatini",value:"SZ"},{title:"Sweden",value:"SE"},{title:"Switzerland",value:"CH"},{title:"Syrian Arab Republic",value:"SY"},{title:"Taiwan, Province of China",value:"TW"},{title:"Tajikistan",value:"TJ"},{title:"Tanzania, United Republic of",value:"TZ"},{title:"Thailand",value:"TH"},{title:"Timor-Leste",value:"TL"},{title:"Togo",value:"TG"},{title:"Tokelau",value:"TK"},{title:"Tonga",value:"TO"},{title:"Trinidad and Tobago",value:"TT"},{title:"Tunisia",value:"TN"},{title:"Turkey",value:"TR"},{title:"Turkmenistan",value:"TM"},{title:"Turks and Caicos Islands",value:"TC"},{title:"Tuvalu",value:"TV"},{title:"Uganda",value:"UG"},{title:"Ukraine",value:"UA"},{title:"United Arab Emirates",value:"AE"},{title:"United Kingdom of Great Britain and Northern Ireland",value:"GB"},{title:"United States of America",value:"US"},{title:"United States Minor Outlying Islands",value:"UM"},{title:"Uruguay",value:"UY"},{title:"Uzbekistan",value:"UZ"},{title:"Vanuatu",value:"VU"},{title:"Venezuela, Bolivarian Republic of",value:"VE"},{title:"Viet Nam",value:"VN"},{title:"Virgin Islands, British",value:"VG"},{title:"Virgin Islands, U.S.",value:"VI"},{title:"Wallis and Futuna",value:"WF"},{title:"Western Sahara",value:"EH"},{title:"Yemen",value:"YE"},{title:"Zambia",value:"ZM"},{title:"Zimbabwe",value:"ZW"}],usStates:[{title:"Alabama",value:"AL"},{title:"Alaska",value:"AK"},{title:"Arizona",value:"AZ"},{title:"Arkansas",value:"AR"},{title:"California",value:"CA"},{title:"Colorado",value:"CO"},{title:"Connecticut",value:"CT"},{title:"Delaware",value:"DE"},{title:"District of Columbia",value:"DC"},{title:"Florida",value:"FL"},{title:"Georgia",value:"GA"},{title:"Hawaii",value:"HI"},{title:"Idaho",value:"ID"},{title:"Illinois",value:"IL"},{title:"Indiana",value:"IN"},{title:"Iowa",value:"IA"},{title:"Kansas",value:"KS"},{title:"Kentucky",value:"KY"},{title:"Louisiana",value:"LA"},{title:"Maine",value:"ME"},{title:"Maryland",value:"MD"},{title:"Massachusetts",value:"MA"},{title:"Michigan",value:"MI"},{title:"Minnesota",value:"MN"},{title:"Mississippi",value:"MS"},{title:"Missouri",value:"MO"},{title:"Montana",value:"MT"},{title:"Nebraska",value:"NE"},{title:"Nevada",value:"NV"},{title:"New Hampshire",value:"NH"},{title:"New Jersey",value:"NJ"},{title:"New Mexico",value:"NM"},{title:"New York",value:"NY"},{title:"North Carolina",value:"NC"},{title:"North Dakota",value:"ND"},{title:"Ohio",value:"OH"},{title:"Oklahoma",value:"OK"},{title:"Oregon",value:"OR"},{title:"Pennsylvania",value:"PA"},{title:"Rhode Island",value:"RI"},{title:"South Carolina",value:"SC"},{title:"South Dakota",value:"SD"},{title:"Tennessee",value:"TN"},{title:"Texas",value:"TX"},{title:"Utah",value:"UT"},{title:"Vermont",value:"VT"},{title:"Virginia",value:"VA"},{title:"Washington",value:"WA"},{title:"West Virginia",value:"WV"},{title:"Wisconsin",value:"WI"},{title:"Wyoming",value:"WY"}]})},101:function(e,t,n){"use strict";var i,r=n(1);i=n(56).a.extend({},{get:function(e){e=Object(r.extend)({},e);var t=new this;return!1!==e.allowPrefetching?(void 0===this.singleton&&(this.singleton=t),this.singleton.fetch(e),this.singleton):t.fetch(e)}}),t.a=i},105:function(e,t,n){"use strict";t.a=function(e,t,n){return e?0===(i=e.images?e.images:e).length?"":1===i.length?i[0].url:i.reduce(function(e,i){var r=Math.abs(t-e.width)+Math.abs(n-e.height),o=Math.abs(t-i.width)+Math.abs(n-i.height);return(e.width<t||e.height<n)&&(r+=t*n),(i.width<t||i.height<n)&&(o+=t*n),r<o?e:i}).url:"";var i}},111:function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(2),a=n.n(o),s=n(1),u=n(19),l=n(9),c=Symbol("WithGlobalState");t.a=function(e){return{name:"WithGlobalState",initialize:function(){var t=this;this.set(e(l.b.store.getState(),this)),this[c]={unsubscribe:l.b.store.subscribe(Object(s.debounce)(function(){var n=e(l.b.store.getState(),t),i=Object.keys(n).reduce(function(e,n){return a()({},e,r()({},n,t.get(n)))},{});Object(u.g)(i,n)||t.set(n)},16))}},destroy:function(){this[c].unsubscribe()}}}},112:function(e,t,n){"use strict";function i(e,t,n){return e.filter(n)[0]||t}function r(e){return Array.prototype.slice.call(e)}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},113:function(e,t,n){"use strict";var i,r=n(198),o=n(33),a=[{type:"VERTEX_SHADER",text:["attribute vec3 aPosition;","void main() {","gl_Position = vec4(aPosition, 1.0);","}"].join("\n")},{type:"FRAGMENT_SHADER",text:["#version 100","#ifdef GL_FRAGMENT_PRECISION_HIGH","  precision highp float;","#else"," precision mediump float;","#endif","uniform sampler2D uT0;","uniform sampler2D uT1;","uniform sampler2D uT2;","uniform sampler2D uT3;","uniform ivec4 uR;","varying vec2 vT;","varying vec3 vC;","varying vec3 vColor;","varying vec4 vColor2;","void f(in vec3 a, out vec3 b) {","b = 2.0 * a;","}","#define LIN_SRGB(x) x < 0.0031308 ? x * 12.92 : 1.055 * pow(x, 1.0/2.4) - 0.055","#define SRGB_LIN(x) x < 0.04045 ? x * (1.0 / 12.92) : pow((x + 0.055) * (1.0 / 1.055), 2.4)","float linearTosRGB(const in float color) { return LIN_SRGB(color); }","vec3 linearTosRGB(const in vec3 color) { return vec3(LIN_SRGB(color.r), LIN_SRGB(color.g), LIN_SRGB(color.b)); }","vec4 linearTosRGB(const in vec4 color) { return vec4(LIN_SRGB(color.r), LIN_SRGB(color.g), LIN_SRGB(color.b), color.a); }","void main(void) {","vec4 col;","col.r = linearTosRGB(vColor2.r);","col.rgb = linearTosRGB(vColor);","f(vC, col.xyz);","if ( uR.x == 3 ) {","  col.rgb = texture2D( uT0, vT ).aaa;","  col.a = uR.y == 0 ? texture2D( uT1, vT ).r : texture2D( uT1, vT ).a;","} else if ( uR.x == 2 ) {","  col.rgb = texture2D( uT0, vT ).rgb;","  col.a = uR.y == 0 ? texture2D( uT1, vT ).r : texture2D( uT1, vT ).a;","} else {","  col.r = uR.x == 0 ? texture2D( uT0, vT ).r : texture2D( uT0, vT ).a;","  col.g = uR.y == 0 ? texture2D( uT1, vT ).r : texture2D( uT1, vT ).a;","  col.b = uR.z == 0 ? texture2D( uT2, vT ).r : texture2D( uT2, vT ).a;","  col.a = uR.w == 0 ? texture2D( uT3, vT ).r : texture2D( uT3, vT ).a;","}","gl_FragColor = gl_FrontFacing ? vec4(col.rgb, 1.0) : col;","}"].join("\n")}];t.a=function(){if(void 0!==window.sketchfabWebGLSupport)return window.sketchfabWebGLSupport;if(i=!1,window.sketchfabWebGLSupport=i,!window.Set||!window.Map||!window.Uint8ClampedArray)return!1;if(Object(r.a)())return!1;try{var e=["webgl","experimental-webgl"],t={antialias:!1},n=null,s=document.createElement("canvas");if(!s||!s.getContext)return!1;for(var u=0;u<e.length&&!(n=s.getContext(e[u],t));u++);if(!(n&&n.getParameter&&n.getExtension&&n.getShaderPrecisionFormat))return!1;var l=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS);if(!l||l<64)return!1;var c=n.getParameter(n.MAX_VARYING_VECTORS);if(!c||c<8)return!1;var d=n.getExtension("WEBGL_debug_renderer_info");if(d&&"Google SwiftShader"===n.getParameter(d.UNMASKED_RENDERER_WEBGL)&&!Object(o.a)().allowSwiftShader)return!1;i=a.every(function(e){return function(e,t,n){var i=t;"string"==typeof i&&(i=e[t]);var r=e.createShader(i);return e.shaderSource(r,n),e.compileShader(r),!(!e.getShaderParameter(r,e.COMPILE_STATUS)&&!e.isContextLost()&&(console.warn("Could't compile shader "+n),console.warn(e.getShaderInfoLog(r)),console.warn("You may want to consider a browser that fully supports WebGL."),1))}(n,e.type,e.text)})}catch(e){return!1}return window.sketchfabWebGLSupport=i,i}},114:function(e,t,n){"use strict";var i,r=n(101),o=n(156),a=n(94);i=r.a.extend({mixins:[Object(a.a)("categories")],model:o.a,endpoint:"/categories",defaultOptions:{pageSize:""},queryParams:function(){return{}}}),t.a=i},118:function(e,t,n){"use strict";var i=n(149);t.a={client:i,debounceMap:{},blacklistedUrls:[/extensions\//i,/^chrome:\/\//i,/^moz-extension:\/\//i,/webtoolbar\//i],install:function(){return console.warn("Sentry was not installed ; it is manually disabled."),i},onBeforeSend:function(e,t){var i={message:(t&&t.originalException&&t.originalException.message||e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].value||"No Error Message").toString().replace("Error: ",""),exception:e.exception};if("No Error Message"===i.message&&(void 0===i.exception||!i.exception.values.length))return!1;if("plugin.setSuspendState is not a function"===i.message||"undefined"===i.message)return!1;if(-1!==i.message.indexOf("NS_ERROR"))return!1;if(i.message.indexOf("undefined")&&(-1!==i.message.indexOf("osgjs/osg/GLObject")||-1!==i.message.indexOf("window.Map")))return!1;var r=Date.now(),o="";try{o=i.exception.values[0].stacktrace.frames.reduce(function(e,t){t.filename+t.lineno+";"},"")}catch(e){}var a=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(i.message+o),s="No Error Message"!==i.message&&r-this.debounceMap[a]<500;if(this.debounceMap[a]=Date.now(),s)return!1;if((0,n(164).default)()&&window.MSInputMethodContext&&document.documentMode)return!1;var u=navigator.userAgent.toLowerCase();return(-1===u.indexOf("msie")||9!==parseInt(u.split("msie")[1]))&&e}}},126:function(e,t,n){"use strict";var i=n(15),r=n(1),o=n(3),a=n.n(o),s=n(6),u=n(86),l=n(0);n(282);t.a=i.a.extend({displayName:"Notification",optionTypes:{parent:l.b.string,class:l.b.string,content:l.b.string,delay:l.b.number},defaultOptions:{parent:".flashmessage-container"},events:{'click [data-action="close"]':"onClickClose"},template:function(){return s.default.getFromMacro("skfb_front/macros/notification","flashmessage",[this.options.class,this.options.content,{safecontent:"True"}])},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.render(),this.options.delay&&this.close(this.options.delay)},render:function(){this.$el.html(Object(r.result)(this,"template")),a()(this.options.parent).append(this.$el);var e=this.$el.find(".notification");e.addClass("hidden"),Object(r.defer)(e.removeClass.bind(e,"hidden"))},onClickClose:function(e){e&&e.preventDefault&&e.preventDefault(),this.close(0)},close:function(e){var t=this;e=e||0;var n=this.$el.find(".notification");return setTimeout(function(){n.addClass("hidden"),Object(u.a)(n).then(function(){t.$el.parent()[0].removeChild(t.el)})},e),this}})},131:function(e,t,n){"use strict";var i=n(1);n(0);function r(e,t){var n=e.__withChildren.childrenConfigs[t];return"function"==typeof n.selector?n.selector.call(e):n.selector}function o(e,t){var n=e.__withChildren.childrenConfigs[t];return"function"==typeof n.options?n.options.call(e):n.options}function a(e,t){var n=e.__withChildren.childrenConfigs[t];return n.viewClass.isView?n.viewClass:n.viewClass.call(e)}var s={options:function(){return{}}};t.a={name:"WithChildren",dependencies:["WithOptionTypes"],children:{},constructor:function(){this.__withChildren={childrenConfigs:{}},Object.keys(this.children).forEach(function(e){this.updateChildConfig(e,this.children[e])}.bind(this)),this.children={}},setElement:function(){return this.setChildrenElements(),this},beforeRemove:function(){this.removeChildren()},createChild:function(e){var t=r(this,e),n=o(this,e),s=new(a(this,e))(Object(i.extend)({},n,t?{el:this.$(t)}:{}));return this.children[e]=s,this},removeChild:function(e){return this.hasChild(e)&&this.getChild(e).remove(),delete this.children[e],this},removeChildren:function(){return Object.keys(this.__withChildren.childrenConfigs).forEach(this.removeChild.bind(this)),this},refreshChild:function(e){var t=function(e,t){var n=e.__withChildren.childrenConfigs[t];return!n.shouldCreateChild||n.shouldCreateChild.call(e)}(this,e),n=this.hasChild(e);return t?n?this.refreshChildViewClass(e).setChildElement(e):this.createChild(e):this.removeChild(e),this},refreshChildren:function(){Object.keys(this.__withChildren.childrenConfigs).forEach(this.refreshChild.bind(this))},initializeChild:function(e){this.refreshChild(e)},initializeChildren:function(){this.refreshChildren()},setChildElement:function(e){var t=r(this,e);return t&&this.getChild(e).setElement(this.$(t)),this},setChildrenElements:function(){return Object.keys(this.__withChildren.childrenConfigs).filter(this.hasChild.bind(this)).forEach(this.setChildElement.bind(this)),this},setChildOptions:function(e){return this.getChild(e).setOptions(o(this,e)),this},setChildrenOptions:function(){return Object.keys(this.__withChildren.childrenConfigs).filter(this.hasChild.bind(this)).forEach(this.setChildOptions.bind(this)),this},refreshChildViewClass:function(e){var t=a(this,e);return this.getChild(e)instanceof t||(this.removeChild(e),this.createChild(e)),this},renderChild:function(e){if(this.refreshChild(e),this.hasChild(e)){var t=this.getChild(e);t.isMounted?this.setChildOptions(e):t.render()}},renderChildren:function(){Object.keys(this.__withChildren.childrenConfigs).forEach(this.renderChild.bind(this))},getChildrenConfigs:function(){return this.__withChildren.childrenConfigs},updateChildConfig:function(e,t){var n=Object(i.extend)({},s,t);return this.__withChildren.childrenConfigs[e]=n,this},getChild:function(e){return this.children[e]},hasChild:function(e){return!!this.children[e]}}},132:function(e,t,n){"use strict";var i=n(97),r=n(145),o="";Object(r.a)()||Object(i.a)()||(o+="?optimized=1");t.a=function(e,t,n){var i="/i/models/"+t;if(e&&(i+="/"+e+o),n&&!window.prefetchedData[i])throw console.error("Missing prefetch "+i),new Error("Missing prefetch "+i);return i}},133:function(e,t,n){"use strict";var i,r=n(25).a.extend({});i=n(101).a.extend({model:r,url:"/i/skills"});t.a=i},134:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(10),a=n(49);t.a={isMaintenance:function(){return r()('meta[property="skfb:maintenance"]').attr("content")},showPopup:function(){var e="?utm_source=website&utm_campaign=maintenance_error",t='An unknown error occurred. Please try again later or <a href="'+o.a.hosts.faq+"/requests/new"+e+'&type=website" target="_blank">contact our support team</a> if the problem persists.',n=this.isMaintenance(),i=new a.default({title:n?"Maintenance":"Error",text:n?'Sketchfab is undergoing maintenance.<br>See: <a href="https://forum.sketchfab.com/t/sketchfab-operations/6678?utm_source=website&utm_campaign=maintenance_error" target=_blank>Operations forum post</a>':t,buttons:{ok:!0},safe:!0});return i.open().then(function(){i.close()}),i}}},14:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(1),a=n(19),s=(n(0),n(15)),u=n(76),l=n(112),c={name:"WithRefs",refs:{},initialize:function(){this.refreshRefs()},afterRender:function(){this.refreshRefs()},refreshRefs:function(){this.refs=Object(l.b)(this.$("[data-ref]")).reduce(function(e,t){var n=t.getAttribute("data-ref");return e["$"+n]=r()(t),e[n]=t,e},{})}},d=s.a.extend({displayName:"Component",mixins:[u.a,c],isComponent:!0,setElement:function(){return s.a.prototype.setElement.apply(this,arguments),this.isRenderedManually()&&(this.$el.attr("data-component")||this.$el.attr("data-component",""),this.$el.attr("id")||this.$el.attr("id",this.cid)),this},$:function(e){var t=this.$el;return this.$el.find(e).filter(function(){return r()(this).parent().closest("[data-component]").is(t)})},delegate:function(e,t,n){var i=this.$el;return this.$el.on(e+".delegateEvents"+this.cid,t,function(e){r()(e.currentTarget).closest("[data-component]").is(i)&&n.apply(this,arguments)}),this},_removeElement:function(){this.isRenderedManually()&&this.$el.html("")},isRenderedManually:function(){return!this.options._isChildOfAComponent},getItemKey:function(e,t,n){return e.options&&e.options.key||t},normalizeChildConfig:function(e,t){var n=t||{};return Object(o.extend)({viewClass:d},n,{options:Object(o.extend)({},n.options,{_isChildOfAComponent:!0,el:void 0})})},_getLazyComponent:function(e,t){return function(){var n=this,i=this.updateChildConfig(e,this.normalizeChildConfig(e,t)).refreshChild(e).getChild(e);return{isComponentElement:!0,template:function(){var t=n.setChildOptions(e).getChild(e);return t.isMounted?t.shouldUpdate?t._template:"":(t._template=t.template(),t._template)},cid:i.cid,displayName:i.displayName}}.bind(this)},createChildComponent:function(e,t){var n=this;return Array.isArray(t)?t.map(function(i,r){var o=n.getItemKey(i,r,t);return n._getLazyComponent(e+o,i)}):this._getLazyComponent(e,t)},createChildrenComponents:function(e){return Object(o.mapValues)(e,function(e,t){return this.createChildComponent(t,e)}.bind(this))},beforeRender:function(){s.a.prototype.beforeRender.apply(this,arguments),Object.keys(this.children).map(this.getChild.bind(this)).filter(Object(a.k)("isComponent")).forEach(function(e){e.beforeRender()})},removeUnmountedChildren:function(e){Object.keys(this.children).filter(function(t){return this.getChild(t).isComponent&&!e.match('id="'+this.getChild(t).cid+'"')}.bind(this)).forEach(this.removeChild.bind(this))},onViewUpdate:function(e,t,n,i,r,o){e&&(o||this.isRenderedManually()?(this.render(),this.viewDidUpdate(t,n)):(this._template=this.template(),this.removeUnmountedChildren(this._template),this._executeAfterRender=this.viewDidUpdate.bind(this,t,n)))},render:function(){this._template=this.template(),this.removeUnmountedChildren(this._template),this.renderDiff(this._template)},afterRender:function(){var e=this;s.a.prototype.afterRender.apply(this,arguments),Object.keys(this.children).map(this.getChild.bind(this)).filter(Object(a.k)("isComponent")).map(function(t){var n=e.el.querySelector("#".concat(t.cid));return n&&t.el!==n&&t.setElement(n),t}).forEach(function(e){e.afterRender()}),this._executeAfterRender&&(this._executeAfterRender(),this._executeAfterRender=null)}});t.a=d},140:function(e,t){e.exports={websiteTopHeight:"60px",websiteBigTopHeight:"86px",websiteBannerHeight:"50px",websiteResponsiveTopHeight:"40px",websiteResponsiveNavigationWidth:"250px",editorHeaderHeight:"55px",editorPanelWidth:"320px",editorScrollbarWidth:"10px",editorGroupWidgetHeaderHeight:"30px",editorGroupWidgetSwitchWidth:"50px",editorGroupWidgetSwitchHeight:"24px",editorGroupWidgetSwitchMargin:"2px",editorGroupWidgetSwitchCursorWidth:"12px",editorNestedGroupWidgetSwitchMargin:"3px",editorImageWidgetWidth:"30px",editorImageWidgetHeight:"30px",viewerControlSize:"30px",websiteMaxWidth:"2000px",responsiveBreakpointXXLarge:"1910px",responsiveBreakpointXLarge:"1400px",responsiveBreakpointLarge:"1280px",responsiveBreakpointMedium:"1100px",responsiveBreakpointSmall:"950px",responsiveBreakpointXSmall:"800px",responsiveBreakpointXXSmall:"480px",responsiveGridOneColumn:"700px",responsiveGridTwoColumn:"1015px",responsiveGridThreeColumn:"1910px",viewerResponsiveHeight:"calc(100vh - 40px - 130px)"}},141:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var i=n(2),r=n.n(i),o=["tag","user"];function a(e){return{tags:e.filter(function(e){return"tag"===e.command}).map(function(e){return e.term.trim()}),user:e.filter(function(e){return"user"===e.command}).map(function(e){return e.term.trim()})[0]}}function s(e){var t=/[^\s]+:[^\s]+/g;return{originalTerm:e,commands:(e.match(t)||[]).map(function(e){return{command:e.split(":")[0],term:e.split(":")[1]}}).filter(function(e){return o.includes(e.command)}),term:e.replace(t,function(e){return o.includes(e.split(":")[0])?" ":e}).trim()}}function u(e){var t=s(e);return r()({},a(t.commands),{q:t.term})}t.a={commandsToQueryParams:a,parseQuery:s,getSearchQueryParams:u}},143:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(1),a=n(41);t.a=function(){var e=r.a.ajax;r.a.ajax=function(){var t=arguments.length>=2?arguments[1]:arguments[0];if((t=Object(o.extend)({allowPrefetching:!0,cacheBusting:!0},t)).method)throw new Error('The "method" option is actually "type" ;)');if(t.allowPrefetch)throw new Error('The "allowPrefetch" option is actually "allowPrefetching" ;)');if(t.immediate&&!t.allowPrefetching)throw new Error('The "immediate" option cannot be used with "allowPrefetching" false (mutually exclusives)');if("GET"===t.type.toUpperCase()){var n=a.b.get(t.url);if(!n&&t.immediate)throw new Error('The "'+t.url+'" URL should be prefetched: immediate loading required');if(n&&t.allowPrefetching){var i={status:200,data:n};t.success&&t.success(i.data,"success",i),t.complete&&t.complete(i,"success");var s=r.a.Deferred().resolve(i.data,"success",i);return s.readyState=4,s.status=200,s.abort=function(){},s}var u=e.apply(this,arguments);return u.then(function(e,n,i){return a.b.register(t.url,e),r.a.Deferred().resolve(e,n,i)}),u}return"PATCH"===t.type.toUpperCase()?(a.b.update(t.url,"string"==typeof t.data?JSON.parse(t.data):t.data),e.apply(this,arguments)):t.cacheBusting?(a.b.invalidate(t.url),e.apply(this,arguments)):e.apply(this,arguments)}}},148:function(e,t,n){"use strict";var i=n(1),r=n(3),o=n.n(r),a=n(47),s=n.n(a),u=n(430),l=function(e,t){if(Array.isArray(e))this.shortcuts=e||[];else{if(!Object(i.isObject)(e))throw new Error("Shortcut manager needs a shortcut object to function");this.shortcutGroup=e,this.shortcuts=e.shortcuts||[]}this.options=t||{},this.handlers={},this.options=Object(i.defaults)({},this.options,{listen:!1}),this.options.listen&&this.listen()},c=new(n.n(u).a);c.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&("button"===document.activeElement.tagName.toLowerCase()||("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&"true"===t.contentEditable))},Object(i.extend)(l.prototype,s.a.Events),l.prototype.listen=function(e){void 0===e?this.shortcuts.forEach(this._listen.bind(this)):Array.isArray(e)?(this.shortcuts=this.shortcuts.concat(e),e.forEach(this._listen.bind(this))):this._listen(e)},l.prototype.stopListening=function(e){e.forEach(function(e){c.unbind(this._getShortcut(e).keyCombinations),delete this.handlers[e]}.bind(this))},l.prototype.getTitle=function(){return this.shortcutGroup&&this.shortcutGroup.name||""},l.prototype.getShortcut=function(e){return this.shortcuts.filter(function(t){return t.id===e})[0]||""},l.prototype.getShortDescriptionById=function(e){var t="";return this.shortcuts.forEach(function(n){n.id===e&&(t=this._formatKeyCombination(n.keyCombinations).replace("<br />",""))}.bind(this)),t},l.prototype.generateHelpSection=function(){var e=o()("<div />"),t=this.getTitle();return t&&e.append("<h2>"+t+"</h2>"),this.shortcuts.filter(this._validate).forEach(function(t){t.name&&e.append("<b>"+t.name+"</b>"),e.append(this._formatKeyCombination(t.keyCombinations))}.bind(this)),e.html()||""},l.prototype.hasKeyCombination=function(e){var t=!1;return this.shortcuts.forEach(function(n){t||(Array.isArray(n.shortcuts)?n.shortcuts.forEach(function(n){t=n===e}):t=n.shortcuts===e)}),t},l.prototype._formatKeyCombination=function(e){return[].concat(e).map(function(e){return"<kbd>"+e+"</kbd>"}).join(" or ")+"<br />"},l.prototype._listen=function(e){this._validate(e)&&!this.handlers[e.id]&&(this.handlers[e.id]=this._notify.bind(this,e),c.bind(e.keyCombinations,this.handlers[e.id]))},l.prototype._getShortcut=function(e){return Object(i.find)(this.shortcuts,function(t){return t.id===e})},l.prototype._validate=function(e){return!!e.keyCombinations&&!!e.id},l.prototype._notify=function(e,t){this.trigger(e.id,e,t)},t.a=l},15:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(2),a=n.n(o),s=n(3),u=n.n(s),l=n(1),c=n(19),d=n(18),f=n(62),h=n(131),p=n(45),g=n(76);function m(e){return e.__withState.nextState||e.state}var v={name:"WithState",state:{},constructor:function(){var e=this;this.__withState={planRender:Object(d.e)(function(t){var n=m(e);!function(e){delete e.__withState.nextState}(e),e.update(e.options,n,!0,t)},{leading:!1})}},setState:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=m(this),i=Object(l.isFunction)(e)?e(n):e;!function(e,t){e.__withState.nextState=t}(this,Object(l.extend)({},n,i)),this.__withState.planRender(t)}};t.a=f.a.extend({mixins:[v,p.b,h.a],defaultOptions:function(){return{}},isInitialized:!1,isMounted:!1,constructor:function(){this.options=Object(l.extend)({},this.defaultOptions(),Object(l.pickBy)(arguments[0]||{},function(e){return void 0!==e})),f.a.apply(this,arguments)},initialize:function(){f.a.prototype.initialize.apply(this,arguments),this.isInitialized=!0},setElement:function(e){var t=e[0]||e;return this.isInitialized&&this.el===t||f.a.prototype.setElement.apply(this,arguments),this.el&&(this.el[g.b]=this),this},_removeElement:function(){this.$el.html("")},template:function(){return""},update:function(e,t,n,i){this.shouldUpdate=i||this.shouldViewUpdate(e,t);var r=this.isMounted&&this.shouldUpdate;r&&this.viewWillUpdate(e,t);var o=this.options,a=this.state;return this.options=e,this.state=t,this.onViewUpdate(r,o,a,e,t,n)},onViewUpdate:function(e,t,n){e&&(this.render(),this.viewDidUpdate(t,n))},viewWillReceiveOptions:function(e){var t=this,n=this.getDerivedStateFromOptions(e,this.state);n&&Object.keys(n).some(function(e){return n[e]!==t.state[e]})&&(this.state=a()({},this.state,n))},getDerivedStateFromOptions:function(){},shouldViewUpdate:function(){return!0},viewWillUpdate:function(){},viewDidUpdate:function(){},forceUpdate:function(){this.setState({},!0)},afterRender:function(){f.a.prototype.afterRender.apply(this,arguments),this.isMounted||(this.isMounted=!0,this.viewDidMount())},beforeRemove:function(){f.a.prototype.beforeRemove.apply(this,arguments),this.isMounted&&(this.viewWillUnmount(),this.isMounted=!1,this.el&&delete this.el[g.b])},automagicErrors:function(e){if(this.$(".form-global-error").removeAttr("data-error"),this.$(".form-global-error").hide(),this.$("[data-error-for]").removeAttr("data-error"),null!==e)if("object"===r()(e)){var t=this.$("[data-error-for]");Object.keys(e).forEach(function(n){t.filter(function(){return u()(this).attr("data-error-for").split(",").indexOf(n)>-1}).attr("data-error",e[n].join("\n")).focus()}.bind(this))}else this.$(".form-global-error .message").text(e),this.$(".form-global-error").attr("data-error",e),this.$(".form-global-error").fadeIn()}},{isView:!0,extend:function(e,t){var n=Object(l.extend)({},e,{defaultOptions:Object(c.h)(Object(d.g)(this.prototype.defaultOptions||{}),Object(d.g)(e.defaultOptions||{})),events:Object(l.extend)({},this.prototype.events||{},e.events||{}),children:Object(l.extend)({},this.prototype.children||{},e.children||{}),optionTypes:Object(l.extend)({},this.prototype.optionTypes||{},e.optionTypes||{})});return f.a.extend.call(this,n,t)}})},151:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(5),a=n.n(o),s=n(29),u={"http:":"80","https:":"443"};t.a=function(){var e=r.a.ajax;r.a.ajax=function(){var t=this,n=arguments,i=arguments.length>=2?arguments[1]:arguments[0];return"GET"===i.type.toUpperCase()||"HEAD"===i.type.toUpperCase()||s.a.get("sb_csrftoken")?e.apply(this,arguments):new a.a(function(i,r){var o=new XMLHttpRequest;o.open("GET","/i/csrf"),o.addEventListener("load",function(){i(e.apply(t,n))}),o.addEventListener("error",function(e){r(e)}),o.send()})},r()(document).ajaxSend(function(e,t,n){var i=window.location,r=document.createElement("a");r.href=n.url,r.href=r.href;var o=r.port;o=(o="0"!==o?o:u[r.protocol])!==u[r.protocol]?o:"",r.protocol!==i.protocol||r.hostname!==i.hostname||o!==i.port||t.setRequestHeader("X-CsrfToken",s.a.get("sb_csrftoken"))})}},156:function(e,t,n){"use strict";var i=n(25);t.a=i.a.extend({})},16:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var i=n(35),r=n.n(i),o=n(2),a=n.n(o),s=n(39),u=n.n(s),l=n(10),c=n(82),d=n(1),f=n(8),h=n(18),p=n(19),g=n(5),m=n.n(g),v=function(e){return Object.entries(e).reduce(function(e,t){var n=u()(t,2),i=n[0],r=n[1];return Array.isArray(r)?r.forEach(function(t){return e.append(i,t)}):e.append(i,r),e},new FormData)},b=function(t){return function(n){return e.all(Object(d.chunk)(n,l.a.apiPageSize).map(function(e){return t(e)})).then(function(e){return e.reduce(function(e,t){return a()({},e,t)},{})})}},w=function(e){var t=Object(h.a)(b(function(t){return e.get("".concat("/i","/users/me/followings").concat(Object(f.b)("?",{user_uids:t}))).then(function(e){return e.results})})),n=Object(h.a)(b(function(t){return e.get("".concat("/i","/users/me/likes").concat(Object(f.b)("?",{model_uids:t}))).then(function(e){return e.results})})),i=Object(h.a)(b(function(t){return e.get("".concat("/i","/users/me/upvotes").concat(Object(f.b)("?",{review_uids:t}))).then(function(e){return e.results})})),o=Object(h.a)(b(function(t){return e.get("".concat("/i","/users/me/purchases").concat(Object(f.b)("?",{model_uids:t}))).then(function(e){return e.results})})),s=Object(h.a)(b(function(t){return e.get("".concat("/i","/collections/subscribed").concat(Object(f.b)("?",{uid:t}))).then(function(e){return e.results})})),u=Object(h.a)(b(function(t){return e.get("".concat("/i","/collections/thumbnails").concat(Object(f.b)("?",{uids:t,count:4})))})),l=Object(h.a)(b(function(t){return e.get("".concat("/i","/users/thumbnails").concat(Object(f.b)("?",{uids:t,count:2})))})),c={login:function(t){var n=t.email,i=t.password,r=t.next;return e.post("/login",Object(f.b)({email:n,password:i,next:r}))},logout:function(){return e.post("/logout")},finalizeConnect:function(t){var n=t.email,i=t.password;return e.post("/signup/connect",Object(f.b)({email:n,password:i}))},finalizeSignup:function(t){var n=t.email,i=t.username;return e.post("/signup/finalize",Object(f.b)({email:n,username:i}))},getCurrentUser:function(t){var n=t.allowPrefetching;return e.get("".concat("/i","/users/me"),{allowPrefetching:n})},getCurrentUserFollowings:t,doesCurrentUserFollow:function(e){return t([e]).then(function(t){return t[e]})},getCurrentUserLikes:n,doesCurrentUserLike:function(e){return n([e]).then(function(t){return t[e]})},getCurrentUserUpvotes:i,hasCurrentUserUpvoted:function(e){return i([e]).then(function(t){return t[e]})},getCurrentUserPurchases:o,hasCurrentUserPurchased:function(e){return o([e]).then(function(t){return t[e]})},getCurrentUserSubscriptions:s,hasCurrentUserSubscribed:function(e){return s([e]).then(function(t){return t[e]})},getCurrentUserPrivateLimits:function(){return e.get("".concat("/i","/users/me/account"),{allowPrefetching:!1})},getCurrentUserReview:function(t){return e.get("".concat("/i","/users/me/review").concat(Object(f.b)("?",{model:t})))},getCurrentUserBillingAddress:function(){return e.get("".concat("/i","/users/me/billing"))},updateCurrentUserBillingAddress:function(t){return e.patch("".concat("/i","/users/me/billing"),t)},getUserByName:function(t){return e.get("".concat("/i","/users/@").concat(t))},getUserSummary:function(t){return e.get("".concat("/i","/users/").concat(t,"/summary"))},getUsersThumbnails:l,getUserThumbnails:function(e){return l([e]).then(function(t){return t[e]||[]})},getUsersAutoComplete:function(t){return e.get("".concat("/i","/users/autocomplete").concat(Object(f.b)("?",{q:t})))},getSeller:function(t){return e.get("".concat("/i","/store/sellers/").concat(t))},becomeASeller:function(){return e.post("".concat("/i","/store/sellers"))},removeSeller:function(t){return e.delete("".concat("/i","/store/sellers/").concat(t))},followUsers:function(t){return e.post("".concat("/i","/users/follow"),{uids:t})},followUser:function(t){return e.post("".concat("/i","/users/").concat(t,"/followers"))},unfollowUser:function(t){return e.delete("".concat("/i","/users/").concat(t,"/followers"))},updateUserAvatar:function(t){return e.post("".concat("/i","/avatars"),v({imageFile:t}))},updateCurrentUserEmail:function(t,n){return e.patch("".concat("/i","/users/me/email"),{email:t,password_confirmation:n})},updateCurrentUserPassword:function(t,n){return e.patch("".concat("/i","/users/me/password"),{password:t,password_confirmation:n})},updateUserEmailSettings:function(t,n){return e.patch("".concat("/i","/users/").concat(t,"/email_settings"),n)},updateUserUsageType:function(t,n){return e.patch("".concat("/i","/users/").concat(t),{usageType:n})},sendAccountConfirmationMail:function(t){var n=t.after;return e.get("".concat("/i","/users/email_confirmation").concat(Object(f.b)("?",{after:n})))},sendEmailInvitations:function(t){return e.post("".concat("/i","/invites"),{emails:t})},patchAppsSettings:function(t,n){return e.patch("".concat("/i","/users/").concat(t,"/apps_settings"),n)},disconnectSocialAuth:function(t){return e.post("/social/disconnect/".concat(t,"/"))},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.q,i=t.type,o=t.user,s=t.collection,u=t.account,l=t.likedBy,c=t.sortBy,d=t.tags,h=t.date,g=t.categories,m=t.fileFormats,v=t.licenses,b=t.faceCount,w=t.minFaceCount,y=t.maxFaceCount,C=t.minPrice,S=t.maxPrice,k=t.inStore,x=t.minRating,_=t.downloadable,O=t.staffpicked,E=t.animated,M=t.sound,P=t.pbr,T=t.rigged,j=t.published,R=t.processingStatus,I=t.disabled,A=t.publishedSince,F=t.private,D=t.restricted,N=t.search,B=r()(t,["q","type","user","collection","account","likedBy","sortBy","tags","date","categories","fileFormats","licenses","faceCount","minFaceCount","maxFaceCount","minPrice","maxPrice","inStore","minRating","downloadable","staffpicked","animated","sound","pbr","rigged","published","processingStatus","disabled","publishedSince","private","restricted","search"]);return e.get("".concat("/i","/search").concat(Object(f.b)("?",Object(p.i)(a()({type:i,q:n,user:o,collection:s,account:u,likedBy:l,sortBy:c,tags:d,date:h,categories:g,fileFormats:m,licenses:v,faceCount:b,minFaceCount:w,maxFaceCount:isFinite(y)?y:void 0,minPrice:C,maxPrice:S,inStore:k,minRating:x,downloadable:_,staffpicked:O,animated:E,sound:M,pbr:P,rigged:T,published:j,processingStatus:R,disabled:I,publishedSince:A,private:F,restricted:D,search:N},B)))))},searchModels:function(e){return c.search(a()({},e,{type:"models"}))},getModelManagementData:function(t,n){var i=n.allowPrefetching;return e.get("".concat("/i","/models/").concat(t,"/management"),{allowPrefetching:i})},getModelStatus:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,i=void 0!==n&&n;return e.get("".concat("/i","/models/").concat(t,"/status"),{allowPrefetching:i})},getModelSharing:function(t){return e.get("".concat("/i","/models/").concat(t,"/sharing"))},getModelCollections:function(t,n){return e.get("".concat("/i","/models/").concat(t,"/collections").concat(Object(f.b)("?",{uid:n})))},getModelRelatedCollections:function(t){return e.get("".concat("/i","/models/").concat(t,"/related-collections").concat(Object(f.b)("?",{count:3})))},getModelRelatedModels:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.get("".concat("/i","/models/").concat(t,"/related").concat(Object(f.b)("?",{count:6,cursor:n})))},getModelExtraArchive:function(t){return e.get("".concat("/i","/archives/extra").concat(Object(f.b)("?",{model:t})))},getModelRatings:function(t){return e.get("".concat("/i","/models/").concat(t,"/ratings"))},getModelFallback:function(t){return e.get("".concat("/i","/models/").concat(t,"/fallback"))},updateModelExtraArchive:function(t,n){return e.post("".concat("/i","/archives/extra"),v({model:t,extraFile:n}))},removeModelExtraArchive:function(t){return e.delete("".concat("/i","/archives/extra"),v({model:t}))},getModelOwnershipStatus:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching;return e.get("".concat("/i","/models/").concat(t,"/download"),{allowPrefetching:n})},getModelVersions:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,i=void 0!==n&&n;return e.get("".concat("/i","/models/").concat(t,"/versions"),{allowPrefetching:i})},getModelComments:function(t,n){return e.get("".concat("/i","/comments").concat(Object(f.b)("?",{model:t,count:24,offset:n})))},postComment:function(t){var n=t.body,i=t.modelUid;return e.post("".concat("/i","/comments"),{body:n,model:i})},deleteComment:function(t){return e.delete("".concat("/i","/comments/").concat(t))},reprocessModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/reprocess"))},duplicateModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/duplicate"))},viewModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/views"))},likeModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/likes"))},unlikeModel:function(t){return e.delete("".concat("/i","/models/").concat(t,"/likes"))},publishModel:function(t){return e.patch("".concat("/i","/models/").concat(t),{isPublished:!0})},canReviewModel:function(t){return e.get("".concat("/i","/models/").concat(t,"/can-review"))},upvoteReview:function(t){return e.post("".concat("/i","/reviews/").concat(t,"/upvotes"))},downvoteReview:function(t){return e.delete("".concat("/i","/reviews/").concat(t,"/upvotes"))},patchReview:function(t,n){return e.patch("".concat("/i","/reviews/").concat(t),n)},patchAnimation:function(t,n){return e.patch("".concat("/i","/animations/").concat(t),n)},patchModelOptions:function(t,n){return e.patch("".concat("/i","/models/").concat(t,"/options"),n)},createThumbnail:function(t){var n=t.imageFile,i=t.source,r=t.modelUid;return e.post("".concat("/i","/thumbnails"),v({imageFile:n,source:i,modelUid:r}))},searchCollections:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.q,i=t.cursor,o=t.count,s=t.date,u=t.subscribedBy,l=t.user,c=t.private,d=t.restricted,h=t.sortBy,g=t.allowPrefetching,m=void 0===g||g,v=r()(t,["q","cursor","count","date","subscribedBy","user","private","restricted","sortBy","allowPrefetching"]);return e.get("".concat("/i","/search").concat(Object(f.b)("?",Object(p.i)(a()({q:n,type:"collections",cursor:i,count:o,date:s,subscribedBy:u,user:l,private:c,restricted:d,sortBy:h},v)))),{allowPrefetching:m})},getCollectionsFromUser:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.get("".concat("/i","/collections").concat(Object(f.b)("?",Object(p.i)(a()({user:t},n)))))},getCollectionsThumbnails:u,getCollectionThumbnails:function(e){return u([e]).then(function(t){return t[e]||[]})},getCollectionSharing:function(t){return e.get("".concat("/i","/collections/").concat(t,"/sharing"))},createCollection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,i=void 0===n?"":n,r=t.models,o=void 0===r?[]:r;return e.post("".concat("/i","/collections"),{name:i,models:o})},addModelsToCollection:function(t,n){return e.post("".concat("/i","/collections/").concat(t,"/models"),{models:n})},removeModelsFromCollection:function(t,n){return e.delete("".concat("/i","/collections/").concat(t,"/models"),{models:n})},subscribeToCollection:function(t){return e.post("".concat("/i","/collections/").concat(t,"/subscribe"))},unsubscribeFromCollection:function(t){return e.post("".concat("/i","/collections/").concat(t,"/unsubscribe"))},payOrder:function(t,n){return e.post("".concat("/i","/store/orders/").concat(t,"/pay"),{buyerId:n})},cancelOrder:function(t){return e.post("".concat("/i","/store/orders/").concat(t,"/cancel"))},getOrderStatus:function(t){return e.get("".concat("/i","/store/orders/").concat(t,"/status"),{allowPrefetching:!1})},getCart:function(){return e.get("".concat("/i","/store/cart"))},addModelsToCart:function(t){return e.post("".concat("/i","/store/cart"),{models:t})},removeModelsFromCart:function(t){return e.delete("".concat("/i","/store/cart"),{models:t})},validateCoupon:function(t){return e.get("".concat("/i","/store/coupons/").concat(t.toUpperCase(),"/validate"))},getUnseenActivitiesCount:function(){return e.get("".concat("/i","/feeds/unseen"),{allowPrefetching:!1}).then(function(e){return e.count})},seeActivities:function(){return e.post("".concat("/i","/feeds/seen"))},readActivities:function(t){return e.post("".concat("/i","/feeds/read"),{uids:t})},getLicenses:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).free;return e.get("".concat("/i","/licenses").concat(Object(f.b)("?",{free:t})))},getCategories:function(){return e.get("".concat("/i","/categories"))},getMarkdownPreview:function(t){return t.trim()?e.post("".concat("/i","/markdown/preview"),{text:t}):m.a.resolve({result:""})},revokeApp:function(t){return e.post("/oauth2/revoke_app/",Object(f.b)({app_id:t}))},getCsrf:function(){return e.get("".concat("/i","/csrf"))},getEnvironmentProcessingStatus:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,i=void 0===n||n;return e.get("".concat("/i","/environments/").concat(t,"/status"),{allowPrefetching:i})},getVersion:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,i=void 0===n||n;return e.get("".concat("/i","/version/").concat(t),{allowPrefetching:i})}};return c};t.b=w(c.b)}).call(this,n(162))},164:function(e,t,n){"use strict";n.r(t);var i=!1;t.default=function(e){return void 0!==e&&(i=e),i}},17:function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return S}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return O}),n.d(t,"c",function(){return E});var i=n(35),r=n.n(i),o=n(4),a=n.n(o),s=n(2),u=n.n(s),l=n(40),c=n.n(l),d=n(53),f=n.n(d),h=n(26),p=n.n(h),g=n(5),m=n.n(g),v=n(1),b=n(32),w=n(19),y=n(37),C=p.a.createContext({}),S={Pending:"EffectStatus.Pending",Resolved:"EffectStatus.Resolved",Rejected:"EffectStatus.Rejected"},k=function(){function e(t){c()(this,e),this.isEffect=!0,this.ORIGINAL=t,this.PENDING="".concat(t,".PENDING"),this.RESOLVED="".concat(t,".RESOLVED"),this.REJECTED="".concat(t,".REJECTED")}return f()(e,[{key:"toSring",value:function(){return this.ORIGINAL}}]),e}(),x=function(e){return new k(e)},_=Object(w.j)(1/0),O=function(e){return Object(y.a)(function(t,n){if(n.meta&&n.meta.isEffect)switch(n.meta.effectStatus){case S.Pending:return function(t,n){var i=e(t,n);if(i===t)return t;var r=Object(w.a)(i,t);return u()({},i,{__optimistic:a()({},n.meta.effectId,r)})}(t,n);case S.Rejected:return function(t,n){var i=e(t,n);return i.__optimistic[n.meta.effectId]?u()({},_(i,i.__optimistic[n.meta.effectId]),{__optimistic:Object(v.omit)(i.__optimistic,[n.meta.effectId])}):i}(t,n);case S.Resolved:return function(t,n){var i=e(t,n);return i.__optimistic[n.meta.effectId]?u()({},i,{__optimistic:Object(v.omit)(i.__optimistic,[n.meta.effectId])}):i}(t,n)}return e(t,n)},function(e){return e&&!e.__optimistic?u()({},e,{__optimistic:{}}):e})},E=function(e){return function(t){var n=t.getState,i=t.dispatch,o=u()({getState:n,dispatch:i},e);return function(e){return function(t){if(!t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(!t.type.isEffect)return e(t);var n=t.payload,a=n.effect,s=r()(n,["effect"]);if(!a||!Object(v.isFunction)(a))throw new Error("\n                Wrong payload for action type '".concat(t.type.ORIGINAL,"'.\n                Your action payload must contain an 'effect' function.\n                example: {\n                    type,\n                    payload: {\n                    effect() { ... }\n                    }\n                }\n            "));var l={isEffect:!0,effectId:Object(v.uniqueId)(),originalType:t.type.ORIGINAL},c=function(e){i({type:t.type.REJECTED,payload:u()({},s,{effect:e}),meta:u()({},l,{effectStatus:S.Rejected})}),console.error("Effect error:",e)},d=function(e){i({type:t.type.RESOLVED,payload:u()({},s,{effect:e}),meta:u()({},l,{effectStatus:S.Resolved})})};i({type:t.type.PENDING,payload:s,meta:u()({},l,{effectStatus:S.Pending})});try{var f=a(o);return Object(b.d)(f)?f.catch(function(e){throw c(e),e}).then(function(e){return d(e),e}):(d(f),m.a.resolve(f))}catch(e){return c(e),m.a.reject(e)}}}}}},171:function(e,t){e.exports={skfbWhite:"#ffffff",skfbRed:"#cc211f",skfbBrightRed:"#f02624",skfbLighterBlue:"#edf6f9",skfbLightBlue:"#49cdf8",skfbBlue:"#1caad9",skfbDarkBlue:"#1c88bb",skfbLightYellow:"#ffe9b4",skfbYellow:"#fed600",skfbOrange:"#ff9e3a",skfbGreen:"#35cba7",skfbBrightGreen:"#1ac95d",skfbPurple:"#df1660",skfbBlack:"#222222",skfbGrey0:"#555555",skfbGrey1:"#888888",skfbGrey2:"#999999",skfbGrey3:"#cccccc",skfbGrey4:"#dddddd",skfbGrey5:"#e7e7e7",skfbGrey6:"#f2f2f2",skfbDarkAlpha:"rgba(0, 0, 0, 0.2)",skfbEditorGrey0:"#000000",skfbEditorGrey1:"#1a1a1a",skfbEditorGrey2:"#333333",skfbEditorGrey3:"#595959",skfbEditorGrey4:"#666666",skfbEditorGrey5:"#777777",skfbEditorGrey6:"#888888",skfbEditorGrey7:"#cccccc",containerInfoBg:"#ddf6fa",containerInfoBorder:"#8bdded",containerWarningBg:"#ffe9b4",containerWarningBorder:"#fed600",containerDangerBg:"#f6d3d6",containerDangerBorder:"#e07881",colorPositive:"#1ac95d",colorError:"#db6f6f",colorRestricted:"#cc211f",colorDanger:"#cc211f",colorWarning:"#fed600",colorStaff:"#ff9e3a",colorMaster:"#35cba7",websiteBackgroundColor:"#f2f2f2",websiteTopBackgroundColor:"white",websiteTopTextColor:"#222222",websiteTopHoverColor:"#1caad9",websiteTopSearchColor:"#999999",websiteTopSearchActiveColor:"black",websiteOddTextColor:"#555555",websiteOddLinkColor:"#1caad9",websiteOddHoverLinkColor:"#1c88bb",websiteEvenTextColor:"#eeeeee",websiteEvenLinkColor:"white",websiteEvenHoverLinkColor:"#f2f2f2",websiteSidebarIconColor:"#999999",editorColor:"#333333",editorImportantColor:"#0d0d0d",editorKeyColor:"#1a1a1a",editorMinorColor:"#4d4d4d",editorTrivialColor:"#595959",editorTextColor:"#cccccc",editorStrongColor:"white",editorBorderColor:"black",editorActiveColor:"#1caad9",editorScrollbarTrackColor:"#a3a3a3",editorScrollbarThumbColor:"#444444",viewerRadialBackgroundFrom:"#f2f2f2",viewerRadialBackgroundTo:"#b3b3b3",viewerPrimaryLoadingColor:"#1caad9",viewerSecondaryLoadingColor:"#1caad9",viewerBackgroundColor:"black",brandColor:"#1caad9",facebookColor:"#3a589a",twitterColor:"#00c4fc",googleButtonColor:"#4285f4",pinterestColor:"#ce1d21",linkedinColor:"#1884bc",instagramColor:"#125688",tumblrColor:"#36465d",redditColor:"#ff5700",mailColor:"#555555",websiteSuccessColor:"#00a317",storeColor:"#df1660",storeHoverColor:"#c81859",storeGradient:"linear-gradient(45deg, #a60b43 0%, #f42671 100%)",websiteStoreCheckoutGradient:"linear-gradient(45deg, #1caad9, #49cdf8)",labelColor:"#888888",dropdownArrowColor:"#b8b8b8",dropdownArrowColorHighlight:"#222222",linkColor:"#1caad9",linkHoverColor:"#1c88bb",privateLimitInfoBg:"#ffe9b4",privateLimitInfoBorder:"#fed600",privateLimitReachedBg:"#f6d3d6",privateLimitReachedBorder:"#e07881",colorProUser:"#00aad8",colorPremUser:"#007395",colorBizUser:"#003748",colorEntUser:"#222222",userFlagPro:"#00aad8",userFlagPrem:"#007395",userFlagBiz:"#003748",userFlagEnt:"#222222",userFlagStaff:"#ff9e3a",userFlagMaster:"#35cba7"}},1718:function(e,t,n){"use strict";n.r(t);n(191);var i=n(3),r=n.n(i),o=n(5),a=n.n(o),s=n(372),u=n(33),l=n(700),c=n(428),d=n(151),f=n(487),h=n(482),p=n(118),g=n(143);a.a.config({warnings:!1,longStackTraces:!1,cancellation:!0,monitoring:!1}),Object(d.a)(),Object(h.a)(),Object(g.a)(),document.addEventListener("DOMContentLoaded",function(){p.a.client.configureScope(function(e){e.setTag("frontend","3d")});var e=r()(".viewer"),t=e.find("[data-modeluid]").attr("data-modeluid");if(t=Object(u.a)().model||t){e.addClass("started");var n=new s.a({el:e});f.a.resolve(n);var i,o=Object(u.a)().apiVersion;o&&(i=l.a.create(Object(u.a)().apiId,o,n,t)),n.setScene({uid:t,features:c.a}),i?(i.ready(),i.clientReady().then(function(){n.start(!0)})):n.start(!0),p.a.client.configureScope(function(e){e.setTag("frontend","web")})}})},18:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"a",function(){return h});var i=n(28),r=n.n(i),o=n(1),a=n(32);function s(e){return e}function u(){return Array.prototype.slice.call(arguments).reduce(function(e,t){return function(){return e(t.apply(t,arguments))}},s)}function l(e){return Object(o.isFunction)(e)?e:Object(o.constant)(e)}function c(){}var d=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).leading,n=void 0===t||t,i=!0,o=!0,a=[];return function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];if(a=s,i&&n)i=!1,e.apply(void 0,r()(a));else{if(!o)return;o=!1,window.requestAnimationFrame(function(){o=!0,e.apply(void 0,r()(a))})}}},f=Object(o.curry)(function(e,t,n){var i=t;return function(t){return i=e(i,t),n(i)}}),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=[],i=Object(a.c)(function(){var t=r()(n);return n=[],e(t)},t);return function(e){return n=Object(o.uniq)(n.concat(e)),i()}}},183:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(1);t.a={name:"LazyLoading",handleLazyLoading:function(e){e=e||{},Object(o.defaults)(e,{onBeforeLoad:function(){},onAfterLoad:function(){}});var t=function(){this.$(".lazyload").each(function(){var t=r()(this),n=t.attr("data-uri"),i=new Image;i.classList.add("lazyloaded"),i.onload=i.onerror=function(){var n,r=t.width();if(n=i.naturalWidth>r?i.naturalHeight*(r/i.naturalWidth):i.naturalHeight,e.onBeforeLoad(n),t.is(":visible")){var o=function(){t.append(i),t.addClass("loaded").one("transitionend webkittransitionend moztransitionend",function(){t.replaceWith(i),e.onAfterLoad()})}.bind(this);n!==t.outerHeight()?t.css("min-height",n).one("transitionend webkittransitionend moztransitionend",o):o()}else t.replaceWith(i),e.onAfterLoad()},i.src=n})}.bind(this);"complete"===document.readyState?t():r()(window).load(t)},afterInitialize:function(){this.handleLazyLoading()},afterViewDidMount:function(){this.handleLazyLoading()},afterViewDidUpdate:function(){this.handleLazyLoading()}}},184:function(e,t,n){"use strict";var i,r=n(145);window.requestAnimationFrame&&(i=Object(r.a)()?function(){return 0}:window.requestAnimationFrame.bind(window)),t.a={get:function(){return i}}},186:function(e,t,n){"use strict";var i=n(1),r=n(6);t.a=function(e){var t={fileTypes:function(e,t){var n=t.name.replace(/^.*\.([^.]*)$/,"$1").toLowerCase();if(!(-1!==e.indexOf(n)))return{type:"fileTypes",message:"<p>Unsupported format. Please upload a "+e.join(", ").toUpperCase()+".</p>"}},maxFileSize:function(e,t){if(!(t.size<e)){var n=Math.floor(e/1024/1024)+"MB",i=Math.ceil(t.size/1024/1024)+"MB";return{type:"maxFileSize",message:r.default.getFromString('<p>The {{ fileName | default("selected") }} image file size is too large. The maximum file size is {{ maxSizeLabel}} (your file is {{ currentSizeLabel }}).<p/>',{fileName:t.name,maxSizeLabel:n,currentSizeLabel:i})}}}},n={fileTypes:"<p>The file type you tried to upload is not currently supported by Sketchfab.</p>",maxFileSize:'        <p>To reduce your file size, you can:</p>        <ul class="--disc">            <li>resize your image to a lower resolution.</li>            <li>use a more efficient file format like JPEG.</li>            <li>reduce the JPEG quality.</li>        </ul>        '};return{name:"Validator",validateFile:function(n,r){if(null==e)return console.error("Ruleset not defined");var o,a=[];return Object(i.each)(e,function(e,i){(o=t[i](e,n))&&a.push(o)}),r?a.length>0?a:void 0:this.concatErrorMessages(a)},concatErrorMessages:function(e){return e.reduce(function(e,t){return e.concat(e,t.message)},"")},getExtraErrorInformation:function(e){return n[e]}}}},19:function(e,t,n){"use strict";n.d(t,"e",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"k",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return v}),n.d(t,"i",function(){return b}),n.d(t,"f",function(){return w}),n.d(t,"l",function(){return C}),n.d(t,"j",function(){return S}),n.d(t,"a",function(){return k});var i=n(38),r=n.n(i),o=n(4),a=n.n(o),s=n(2),u=n.n(s),l=n(1),c=n(31);function d(e,t){return Object.keys(e).reduce(function(n,i){return u()({},n,t(e[i],i))},{})}function f(e,t){return d(e,function(e,n){return t(e,n)?a()({},n,e):{}})}var h=Object(l.curry)(function(e,t){return t[e]});function p(e){return f(e,function(e){return void 0!==e&&null!==e&&""!==e})}function g(e){return f(e,function(e){return void 0!==e})}function m(e,t){return function(){return u()({},e.call(this),t.call(this))}}function v(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var i in t)if(!(i in e)||e[i]!==t[i])return!1;return!0}function b(e){return Object(l.mapKeys)(e,function(e,t){return Object(c.camelToSnakeCase)(t)})}var w=function(e){return Object(l.isObject)(e)&&!Object(l.isFunction)(e)&&!Array.isArray(e)},y=function e(t){return Object(l.isFunction)(t)?void 0:Array.isArray(t)?t.map(function(t){return e(t)}):Object(l.isObject)(t)?Object(l.mapValues)(t,function(t){return e(t)}):t},C=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"obj";if(n&&"function"!=typeof t&&r()(t)!==r()(n))throw new Error("update error: ".concat(i," doesn't match between your updater and your value"));return void 0===n?y(t):Object(l.isFunction)(t)?t(n):Array.isArray(t)?t.map(function(t,r){return e(t,n[r],"".concat(i,"[").concat(r,"]"))}):w(t)?Object.assign({},n,Object(l.mapValues)(t,function(t,r){return e(t,n[r],"".concat(i,".").concat(r))})):y(t)},S=function e(t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.reduce(function(n,i){return 0!==t&&w(n)&&w(i)?1===t?u()({},n,i):u()({},Object(l.mapValues)(n,function(n,r){return i.hasOwnProperty(r)?e(t-1)(n,i[r]):n}),Object(l.mapValues)(Object(l.omit)(i,Object.keys(n)),function(i,r){return e(t-1)(n[r],i)})):i},{})}},k=function e(t,n){return w(t)&&w(n)?u()({},d(t,function(t,i){return t!==n[i]?a()({},i,e(t,n[i])):{}}),d(n,function(n,i){return n!==t[i]?a()({},i,e(t[i],n)):{}})):n}},191:function(e,t){Array.prototype.find||(Array.prototype.find=function(e){for(var t=0,n=this.length;t<n;++t)if(e(this[t]))return this[t]}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r=0|t,o=Math.max(r>=0?r:i-Math.abs(r),0);function a(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;o<i;){if(a(n[o],e))return!0;o++}return!1}}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e}),Math.log2||(Math.log2=function(e){return Math.log(e)*Math.LOG2E}),Math.log10||(Math.log10=function(e){return Math.log(e)*Math.LOG10E}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>=this.length)&&(t=this.length),this.substr(t-e.length,e.length)===e}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e});var n=window.Image;delete window.Image,window.Image||(window.Image=n)},195:function(e,t,n){"use strict";var i=n(47),r=n.n(i),o=n(3),a=n.n(o),s=n(1),u=n(91);t.a=u.a.extend({el:['<div class="widget slider-widget">','          <div class="widget-wrapper">','              <div class="bar">','                  <div class="slide">','                      <div class="cursor"></div>',"                  </div>","              </div>","          </div>","      </div>"].join(""),events:Object(s.extend)({},u.a.prototype.events,{"mousedown .bar":"trackDrag","mousedown .cursor":"cursorDrag","touchstart .bar":"trackDrag","touchstart .cursor":"cursorDrag"}),constructor:function(e,t){t=Object(s.defaults)(t||{},{model:new r.a.Model,name:"value",minimum:0,maximum:1,step:.01,orientation:"horizontal"}),u.a.prototype.constructor.call(this,e,t),void 0===this.get()&&this.set(0)},initialize:function(){this.$slide=this.$(".slide"),"vertical"===this.options.orientation&&this.$el.addClass("--vertical"),this.started=!1,this.render()},delegateEvents:function(){u.a.prototype.delegateEvents.apply(this,arguments),a()(window).on("mousemove.delegateEvents"+this.cid,this.moveEvent.bind(this)),a()(window).on("mouseup.delegateEvents"+this.cid,this.stopEvent.bind(this)),a()(window).on("touchmove.delegateEvents"+this.cid,this.moveEvent.bind(this)),a()(window).on("touchend.delegateEvents"+this.cid,this.stopEvent.bind(this))},undelegateEvents:function(){u.a.prototype.undelegateEvents.apply(this,arguments),a()(window).off(".delegateEvents"+this.cid)},render:function(){var e=this.options.maximum-this.options.minimum,t=(this.get()-this.options.minimum)/e*100,n={};"vertical"===this.options.orientation?n.height=t+"%":n.width=t+"%",this.$slide.css(n)},startEvent:function(e){e.preventDefault(),this.$el.addClass("fast"),this.started=!0},stopEvent:function(e){this.started&&(e.preventDefault(),this.$el.removeClass("fast"),this.started=!1)},moveEvent:function(e){this.started&&(e.preventDefault(),this.selectEvent(e))},selectEvent:function(e){var t,n;if(e.preventDefault(),"horizontal"===this.options.orientation){var i=this.$el.offset().left,r=this.$el.width();void 0===(n=e.pageX)&&(n=e.originalEvent.touches[0].pageX),t=(n-i)/r}else if("vertical"===this.options.orientation){var o=this.$el.offset().top,a=this.$el.height();(n=e.pageY)||(n=e.originalEvent.touches[0].pageY),t=(o+a-n)/a}t=Math.min(Math.max(0,t),1),t=this.options.minimum+t*(this.options.maximum-this.options.minimum),this.change(t)},cursorDrag:function(e){this.startEvent(e),e.stopPropagation()},trackDrag:function(e){this.startEvent(e),this.moveEvent(e)}})},198:function(e,t,n){"use strict";t.a=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return(t>=0||n>=0)&&(document.all&&!window.atob)}},217:function(e,t,n){"use strict";var i=n(70);t.a=i.a.extend({events:{"click .close":"hide","touchstart .close":"hide"},show:function(e){e&&e.preventDefault&&e.preventDefault(),this.$el.removeClass("hidden")},hide:function(e){e&&e.preventDefault&&e.preventDefault(),this.$el.addClass("hidden")},isVisible:function(){return!this.el.classList.contains("hidden")}})},22:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return x});var i=n(20),r=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id,n=void 0===t?"uid":t;return new i.c.Entity(e,{},{idAttribute:n})},o=r("categories"),a=r("licenses"),s=r("users"),u=r("comments"),l=r("reviews"),c=r("models"),d=r("collections"),f=r("uploadActivities"),h=r("collectionActivities"),p=r("collectActivities"),g=r("commentActivities"),m=r("mentionActivities"),v=r("followActivities"),b=r("subscribeActivities"),w=r("likeActivities"),y=r("staffpickActivities"),C=r("reviewActivities"),S=r("reviewReplyActivities"),k=r("blogpostActivities");f.define({obj:c,actor:s}),h.define({obj:d,actor:s}),p.define({actor:s,obj:c,target:d}),g.define({obj:u,actor:s,target:c}),m.define({obj:u,actor:s,target:c}),v.define({actor:s,target:s}),b.define({actor:s,target:d}),w.define({actor:s,target:c}),y.define({obj:c,actor:s}),C.define({obj:l,actor:s,target:c}),S.define({obj:l,actor:s,target:c}),s.define({models:[c]}),u.define({user:s}),l.define({user:s}),c.define({user:s,license:a,categories:[o]}),d.define({user:s});var x=new i.c.Union({upload:f,collection:h,collect:p,comment:g,mention:m,follow:v,subscribe:b,like:w,staffpick:y,review:C,reviewReply:S,blogpost:k},"verb")},228:function(e,t,n){"use strict";var i=n(1),r=n(36),o=n(33),a=n(254),s=n(68),u=n.n(s),l=r.a.osg,c=function(e,t,n,i){var r=n-e,o=i-t;return r*r+o*o},d=function(e){return a.a.isPowerOf2(e.width)&&a.a.isPowerOf2(e.height)},f={isVideoURL:function(e){var t=e.split("."),n=t[t.length-1].toLowerCase();return"ogv"===n||"ogg"===n||"mp4"===n||"avi"===n||"webm"===n},isVideo:function(){return this.isVideoURL(this.get("images")[0].url)},getUID:function(){return this.get("uid")},getImages:function(){return this.get("images")},getURL:function(){console.error("dont call ImageSet.getURL")},filterPng:function(e,t){var n=e[0];if(!n)return e;for(var r=1;r<e.length;++r)if(e[r].width===n.width&&e[r].height===n.height)return Object(i.filter)(e,function(e){return e.url.endsWith(".png")===t});return e},findFormat:function(e){var t=Object(i.filter)(this.get("images"),function(t){return!t.options||t.options.format===e});return"N"===e&&Object(o.a)().preferOriginalNormalMap?this.filterPng(t,!u.a.any):t},getFilteredImages:function(e){if(!e||!Object(o.a)().imageCompression)return this.findFormat();var t;switch(e){case l.Texture.ALPHA:if((t=this.findFormat("A")).length>0)return t;break;case l.Texture.RGB:if((t=this.findFormat("RGB")).length>0)return t;if((t=this.findFormat("N")).length>0)return t;break;case l.Texture.LUMINANCE:if((t=this.findFormat("R")).length>0)return t;if((t=this.findFormat("RGB")).length>0)return t;if((t=this.findFormat("N")).length>0)return t}return this.findFormat()},findImageNearestPowerOfTwoUpToResolution:function(e,t,n){return this.findImageNearestUpToResolution(e,t,!0,n)},findImageNearestUpToResolution:function(e,t,n,i){for(var r,o,a=1/0,s=!1,u=1/0,l=this.getFilteredImages(i),f=0,h=l.length;f<h;++f){var p=l[f],g=c(e,t,p.width,p.height);if(g<a&&(a=g,r=p),!(p.width>e||p.height>t))if(n){var m=d(p);s&&!m||(!o||!s&&m||g<u||u===1/0&&p.width>o.width&&p.height>o.height)&&(o=p,s=m,u=g)}else(!o||g<u||u===1/0&&p.width>o.width&&p.height>o.height)&&(o=p,u=g)}return o||r},findImageSmallest:function(e){return this.findImageNearestToResolution(0,0,e)},findImageWidget:function(){return this.findImageNearestToResolution(0,0,l.Texture.RGB)},findImageNearestToResolution:function(e,t,n){for(var i,r=1/0,o=this.getFilteredImages(n),a=0,s=o.length;a<s;++a){var u=o[a],l=c(e,t,u.width,u.height);l<r&&(r=l,i=u)}return i}};t.a=f},23:function(e,t,n){"use strict";var i=n(5),r=n.n(i),o=n(8),a=n(29),s=n(18),u=!1;function l(e){return u||(u=void 0!==window.ga)?function(e){return new r.a(function(t){window.ga.apply(window,["send"].concat(e,{hitCallback:t}))})}(e).timeout(1e3).catch(s.d):(console.info("Tracking event skipped : "+JSON.stringify(e)),r.a.resolve())}t.a={wrapLink:function(e,t){var n=e.currentTarget,i=n.target,r=n.href;"_blank"===i||e.metaKey||e.ctrlKey||(e.preventDefault(),t.timeout(800).catch(s.d).then(function(){window.location.href=r}))},saveCurrentReferrer:function(){var e=document.referrer,t=document.location.href,n=o.c.string("utm_source"),i=a.a.get("utm_source"),r=new Date;return r.setSeconds(240),-1===t.indexOf(e)&&n&&(e=n),-1===t.indexOf(e)&&i&&(e=i),a.a.set("skfb_referrer_override",e,{expires:r}),e},setSegment:function(e){void 0!==window.ga&&window.ga("set",{dimension5:e?e.get("name"):"None",dimension6:e?e.get("kind"):"None"})},pageView:function(e){return void 0===e&&(e=window.location.pathname+window.location.search),l(["pageview",e])},userRegistered:function(e){return l(["event","user","registered",e])},userUnregistrationSurveyNotCompleted:function(e){return l(["event","user","unregistrationSurveyNotCompleted",e])},userUnregistrationSurveyCompleted:function(e,t){return l(["event","user","unregistrationSurveyCompleted",e,t])},userUpgraded:function(e){return l(["event","user","upgraded",e])},userUpgradeCanceled:function(e){return l(["event","user","upgradeCanceled",e])},userSettingsAvatarUpdated:function(e){return l(["event","userSettings","avatarUpdated",e])},userSettingsNotificationsUpdated:function(e){return l(["event","userSettings","notificationsUpdated",e])},userSettingsPasswordUpdated:function(e){return l(["event","userSettings","passwordUpdated",e])},userSettingsProfileUpdated:function(e){return l(["event","userSettings","profileUpdated",e])},userSettingsAppConnected:function(e){return l(["event","userSettings","appConnected",e])},userSettingsAppDisconnected:function(e){return l(["event","userSettings","appDisconnected",e])},userSummaryFollowButtonClicked:function(e,t){return l(["event","userSummary","followButtonClicked",e,t?1:0])},userProfileFollowButtonClicked:function(e,t){return l(["event","userProfile","followButtonClicked",e,t?1:0])},userProfileContactButtonClicked:function(e){return l(["event","userProfile","contactButtonClicked",e])},userProfileWebsiteLinkClicked:function(e){return l(["event","userProfile","websiteLinkClicked",e])},userProfileSocialLinkClicked:function(e,t){return l(["event","userProfile","socialLinkClicked",t])},followSuggestionsSuggestFollowButtonClicked:function(e,t){return l(["event","followSuggestionsPopupSuggest","followButtonClicked",e,t?1:0])},followSuggestionsSearchFollowButtonClicked:function(e,t){return l(["event","followSuggestionsPopupSearch","followButtonClicked",e,t?1:0])},followSuggestionsSuggestFollowAllButtonClicked:function(e){return l(["event","followSuggestionsPopupSuggest","followAllButtonClicked",e])},followSuggestionsSearchFollowAllButtonClicked:function(e){return l(["event","followSuggestionsPopupSearch","followAllButtonClicked",e])},modelPageFollowButtonClicked:function(e,t){return l(["event","modelPage","followButtonClicked",e,t?1:0])},modelPageSettingsButtonClicked:function(e){return l(["event","modelPage","settingsButtonClicked",e])},modelPage3dSettingsButtonClicked:function(e){return l(["event","modelPage","3dSettingsButtonClicked",e])},modelPageAnnotationsButtonClicked:function(e){return l(["event","modelPage","AnnotationsButtonClicked",e])},modelPageAddToCollectionButtonClicked:function(e){return l(["event","modelPage","addToCollectionButtonClicked",e])},modelPageCreateCollectionButtonClicked:function(e){return l(["event","modelPage","createCollectionButtonClicked",e])},modelPageReuploadButtonClicked:function(e){return l(["event","modelPage","reuploadButtonClicked",e])},modelPageDeleteButtonClicked:function(e){return l(["event","modelPage","deleteButtonClicked",e])},modelPageEmbedButtonClicked:function(e){return l(["event","modelPage","embedButtonClicked",e])},modelPageShareButtonClicked:function(e){return l(["event","modelPage","shareButtonClicked",e])},modelPageFavoriteButtonClicked:function(e,t){return l(["event","modelPage","favoriteButtonClicked",e,t?1:0])},modelPageDownloadButtonClicked:function(e){return l(["event","modelPage","downloadButtonClicked",e])},modelPageNewCommentPosted:function(e,t){return l(["event","modelPage","newCommentPosted",e,t?1:0])},modelPageCommentDeleted:function(e,t){return l(["event","modelPage","commentDeleted",e,t?1:0])},modelPageExporterLinkClicked:function(e){return l(["event","modelPage","exporterLinkClicked",e])},modelPageModelInformationClicked:function(){return l(["event","modelPage","modelInformationClicked"])},modelRipperBlocked:function(e,t){return l(["event","modelRipper",e+"Blocked",t])},modelCardSettingsButtonClicked:function(e){return l(["event","modelCard","settingsButtonClicked",e])},modelCardReuploadButtonClicked:function(e){return l(["event","modelCard","reuploadButtonClicked",e])},modelCardDeleteButtonClicked:function(e){return l(["event","modelCard","deleteButtonClicked",e])},modelCard3dSettingsButtonClicked:function(e){return l(["event","modelCard","3dSettingsButtonClicked",e])},modelCardAnnotationsButtonClicked:function(e){return l(["event","modelCard","AnnotationsButtonClicked",e])},modelCardAddToCollectionButtonClicked:function(e){return l(["event","modelCard","addToCollectionButtonClicked",e])},modelCardPreviewButtonClicked:function(e){return l(["event","modelCard","previewButtonClicked",e])},modelCardFavoriteButtonClicked:function(e,t){return l(["event","modelCard","favoriteButtonClicked",e,t?1:0])},modelCardCommentsButtonClicked:function(e,t){return l(["event","modelCard","commentsButtonClicked",e,t])},modelListCardFavoriteButtonClicked:function(e,t){return l(["event","modelListCard","favoriteButtonClicked",e,t?1:0])},modelListCardCommentsButtonClicked:function(e,t){return l(["event","modelListCard","commentsButtonClicked",e,t])},modelPreviewClosePopupButtonClicked:function(e){return l(["event","modelPreview","closePopupButtonClicked",e])},modelPreviewViewModelButtonClicked:function(e){return l(["event","modelPreview","viewModelButtonClicked",e])},modelPreviewShareButtonClicked:function(e){return l(["event","modelPreview","shareButtonClicked",e,status?1:0])},modelPreviewFavoriteButtonClicked:function(e,t){return l(["event","modelPreview","favoriteButtonClicked",e,t?1:0])},modelPreviewCommentsButtonClicked:function(e,t){return l(["event","modelPreview","commentsButtonClicked",e,t])},modelPreviewDownloadButtonClicked:function(e){return l(["event","modelPreview","downloadButtonClicked",e])},modelPreviewCollectionButtonClicked:function(e){return l(["event","modelPreview","collectionButtonClicked",e])},modelSettingsDownloadButtonClicked:function(e,t){return l(["event","modelSettings","downloadButtonClicked",e,t])},modelDownloadFavoriteButtonClicked:function(e,t){return l(["event","modelDownload","favoriteButtonClicked",e,t?1:0])},modelSettingsLicenseChanged:function(e){return l(["event","modelSettings","licenseChanged",e])},modelSettingsSaveButtonClicked:function(e){return l(["event","modelSettings","saveButtonClicked",e])},modelSettingsCancelButtonClicked:function(e){return l(["event","modelSettings","cancelButtonClick",e])},modelEmbedDownloadButtonClicked:function(e){return l(["event","modelEmbed","downloadButtonClicked",e])},modelEmbedFavoriteButtonClicked:function(e,t){return l(["event","modelEmbed","favoriteButtonClicked",e,t?1:0])},modelEmbedShareButtonClicked:function(e){return l(["event","modelEmbed","shareButtonClicked",e])},modelEmbedInfosButtonClicked:function(e,t){return l(["event","modelEmbed","infosButtonClicked",e,t?1:2])},modelEmbedAutostart:function(e){return l(["event","modelEmbed","autostart",e])},modelEmbedPlayButtonClicked:function(e){return l(["event","modelEmbed","playButtonClicked",e])},modelEmbedStopButtonClicked:function(e){return l(["event","modelEmbed","stopButtonClicked",e])},modelEmbedModelInteraction:function(e,t){return l(["event","modelEmbed","modelInteraction"+t,e])},modelEmbedViewModelButtonClicked:function(e){return l(["event","modelEmbed","viewModelButtonClicked",e])},modelEmbedWatermarkClicked:function(e){return l(["event","modelEmbed","watermarkClicked",e])},modelViewerRenderingOptionsButtonClicked:function(){return l(["event","modelViewer","renderingOptionsButtonClicked"])},modelViewerViewerModeButtonClicked:function(){return l(["event","modelViewer","viewerModeButtonClicked"])},modelViewerFullscreenButtonClicked:function(e){return l(["event","modelViewer","fullscreenButtonClicked",e?1:0])},modelViewerTheatreModeButtonClicked:function(e){return l(["event","modelViewer","theatreButtonClicked",e?1:0])},modelViewerVrButtonClicked:function(e){return l(["event","modelViewer","vrButtonClicked",e])},modelViewerInspectorShortcut:function(){return l(["event","modelViewer","inspectorShortcut"])},modelViewerInspectorButtonClicked:function(){return l(["event","modelViewer","inspectorButtonShortcut"])},modelViewerViewerModeSelected:function(e){return l(["event","modelViewer","viewerModeSelected",e])},modelViewerShadingSelected:function(e){return l(["event","modelViewer","shadingSelected",e])},modelViewerAnnotationsToggled:function(e,t){return l(["event","modelViewer","annotationsToggled",e,t?1:0])},modelViewerAnnotationListClicked:function(e){return l(["event","modelViewer","annotationListClicked",e])},modelViewerAnnotationsCycleToggled:function(e,t){return l(["event","modelViewer","annotationsCycleToggled",e,t?1:0])},modelViewerWireframeToggleClicked:function(e){return l(["event","modelViewer","wireframeEnable",e])},modelViewerWireframeColorSelected:function(e){return l(["event","modelViewer","wireframeColorSelected",e])},modelViewerWireframeShortcut:function(e){return l(["timing","modelViewer","wireframeEnable",e])},modelViewerTextureQualitySelected:function(e){return l(["event","modelViewer","textureQualitySelected",e])},modelViewerPolygonLoaded:function(e){return l(["timing","modelViewer","polygonLoaded",e])},modelViewerWireframeLoaded:function(e){return l(["timing","modelViewer","wireframeLoaded",e])},modelViewerHighResTexturesLoaded:function(e,t){return l(["timing","modelViewer","highResTexturesLoaded",e,{metric2:t}])},modelViewerLowResTexturesLoaded:function(e,t){return l(["timing","modelViewer","lowResTexturesLoaded",e,{metric2:t}])},modelViewerModelDisplayed:function(e){return l(["timing","modelViewer","modelDisplayed",e])},modelViewerNextAnnotationClicked:function(e){return l(["event","modelViewer","nextAnnotationClicked",e])},modelViewerPreviousAnnotationClicked:function(e){return l(["event","modelViewer","previousAnnotationClicked",e])},modelViewerAnnotationClicked:function(e){return l(["event","modelViewer","annotationClicked",e])},modelViewerAnimationPlayClicked:function(e){return l(["event","modelViewer","animationPlayClicked",e])},modelViewerAnimationPauseClicked:function(e){return l(["event","modelViewer","animationPauseClicked",e])},modelViewerAnimationSpeedSelected:function(e){return l(["event","modelViewer","animationSpeedSelected",e])},modelViewerAnimationRepeatModeSelected:function(e){return l(["event","modelViewer","animationRepeatModeSelected",e])},modelViewerAnimationListClicked:function(e){return l(["event","modelViewer","animationListClicked",e])},modelViewerAnimationNoAnimationClicked:function(e){return l(["event","modelViewer","animationNoAnimationClicked",e])},modelViewerAnimationSeeked:function(e,t){return l(["event","modelViewer","animationSeeked",e,t])},modelViewerFallbackDisplayed:function(e){return l(["event","modelViewer","fallbackDisplayed",e])},modelViewerHelpButtonCliked:function(e){return l(["event","modelViewer","helpButtonClicked",e])},modelViewerResetCameraButtonClicked:function(){return l(["event","modelViewer","resetCameraButtonClicked"])},modelViewerHelpTabClicked:function(e){return l(["event","modelViewer","helpTabClicked",e])},modelViewerMuteButtonClicked:function(e){return l(["event","modelViewer","muteButtonClicked"])},headerSearchInitiated:function(e){return l(["event","header","searchInitiated",e])},headerUploadButtonClicked:function(){return l(["event","header","uploadButtonClicked",window.location.pathname+window.location.search])},headerUploadSignupButtonClicked:function(){return l(["event","header","uploadSignupButtonClicked"])},headerStoreSellerSignupButtonClicked:function(){return l(["event","header","storeSellerSignupButtonClicked"])},embedPopupEmbedFormatSelected:function(e){return l(["event","embedPopup","embedFormatSelected",e])},embedPopupShowOptionsButtonClicked:function(){return l(["event","embedPopup","showOptionsButtonClicked"])},embedPopupOptionToggleChanged:function(e,t){return l(["event","embedPopup","optionToggleChanged",e,t?1:0])},collectionEmbedPopupShowOptionsButtonClicked:function(){return l(["event","collectionEmbedPopup","showOptionsButtonClicked"])},collectionEmbedPopupOptionToggleChanged:function(e,t){return l(["event","collectionEmbedPopup","optionToggleChanged",e,t?1:0])},modelBrowseTagFilterAdded:function(e){return l(["event","modelBrowse","tagFilterAdded",e])},modelBrowseDateFilterChanged:function(e){return l(["event","modelBrowse","dateFilterChanged",e])},modelBrowseSortFilterChanged:function(e){return l(["event","modelBrowse","sortFilterChanged",e])},modelBrowseFaceCountFilterChanged:function(e){return l(["event","modelBrowse","faceCountFilterChanged",e])},modelBrowseFeaturesFilterChanged:function(e){return l(["event","modelBrowse","featuresFilterChanged",e])},modelBrowseCategoryFilterChanged:function(e){return l(["event","modelBrowse","categoryFilterChanged",e])},modelBrowseFlagFilterChanged:function(e){return l(["event","modelBrowse","flagFilterChanged",e])},modelUploadStarted:function(){return l(["event","modelUpload","started"])},modelUploadCanceled:function(){return l(["event","modelUpload","canceled"])},modelUploadProcessed:function(e){return l(["event","modelUpload","processed",e?1:0])},collectionCardDeleteButtonClicked:function(e){return l(["event","collectionCard","deleteButtonClicked",e])},collectionCardPreviewButtonClicked:function(e){return l(["event","collectionCard","previewButtonClicked",e])},collectionSettingsSaveButtonClicked:function(e){return l(["event","collectionSettings","saveButtonClicked",e])},collectionSettingsCancelButtonClicked:function(e){return l(["event","collectionSettings","cancelButtonClicked",e])},collectionPageDeleteButtonClicked:function(e){return l(["event","collectionPage","deleteButtonClicked",e])},collectionPageEmbedButtonClicked:function(e){return l(["event","collectionPage","embedCollectionButtonClicked",e])},collectionPageShareButtonClicked:function(e){return l(["event","collectionPage","shareCollectionButtonClicked",e])},collectionPreviewViewCollectionButtonClicked:function(e){return l(["event","collectionPreview","viewCollectionButtonClicked",e])},collectionPreviewShareButtonClicked:function(e){return l(["event","collectionPreview","shareButtonClicked",e])},collectionPreviewClosePopupButtonClicked:function(e){return l(["event","collectionPreview","closePopupButtonClicked",e])},landingVideoTourButtonClicked:function(){return l(["event","landing","videoTourButtonClicked"])},studentsPageCheckEligibilitySucceeded:function(e){return l(["event","studentsPage","eligibilityCheckSucceeded",e])},studentsPageCheckEligibilityFailed:function(e){return l(["event","studentsPage","eligibilityCheckFailed",e])},studentsPageContactUsButtonClicked:function(){return l(["event","studentsPage","contactUsButtonClicked"])},annotationEditorCreateButtonClicked:function(e){return l(["event","annotationEditor","createButtonClicked",e])},annotationEditorDeleteButtonClicked:function(e){return l(["event","annotationEditor","deleteButtonClicked",e])},annotationEditorPositionMoved:function(e){return l(["event","annotationEditor","positionMoved",e])},annotationEditorListReordered:function(e){return l(["event","annotationEditor","listReordered",e])},annotationEditorCameraButtonClicked:function(e){return l(["event","annotationEditor","cameraButtonClicked",e])},annotationEditorTooltipEdited:function(e){return l(["event","annotationEditor","tooltipEdited",e])},annotationEditorWidgetDoneButtonClicked:function(e){return l(["event","annotationEditor","widgetDoneButtonClicked",e])},annotationEditorLimitReachedUpgradeButtonClicked:function(e){return l(["event","annotationEditor","annotationEditorLimitReachedUpgradeButtonClicked",e.get("uid")])},soundEditorSoundAdded:function(){return l(["event","soundEditor","soundAdded"])},soundEditorSoundRemoved:function(){return l(["event","soundEditor","soundRemoved"])},soundEditorPreviewSoundButtonClicked:function(){return l(["event","soundEditor","previewSoundButtonClicked"])},soundEditorChangeSoundButtonClicked:function(){return l(["event","soundEditor","changeSoundButtonClicked"])},soundEditor3DSoundButtonClicked:function(){return l(["event","soundEditor","3DSoundButtonClicked"])},soundEditorLoopButtonClicked:function(){return l(["event","soundEditor","LoopButtonClicked"])},postProcessEditorEffectToggled:function(e,t){return l(["event","postProcessEditor","effectToggled",e,t?1:0])},categoryPageFollowSuggestionsButtonClicked:function(e,t){return l(["event","categoryPage","followSuggestionsFollowButtonClicked",e,t?1:0])},tagPageFollowSuggestionsButtonClicked:function(e,t){return l(["event","tagPage","followSuggestionsFollowButtonClicked",e,t?1:0])},shareButtonClicked:function(e,t,n){return l(["event",e,t,n])},deleteModelPopupReasonSelected:function(e){return l(["event","deleteModelPopup","deleteReasonSelected",e])},invitePageSendEmailClicked:function(e){return l(["event","invitePage","sendEmailClicked","",e=parseInt(e)])},invitePageTwitterButtonClicked:function(){return l(["event","invitePage","twitterButtonClicked"])},invitePageFacebookButtonClicked:function(){return l(["event","invitePage","facebookButtonClicked"])},modelIssueReported:function(e,t){return l(["event","modelIssueReported",e,t])},newsfeedFollowCardFollowButtonClicked:function(e,t){return l(["event","newsfeedFollowCard","followButtonClicked",e,t?1:0])},newsfeedPageFollowSuggestionsButtonClicked:function(e,t){return l(["event","newsfeedPage","followSuggestionsFollowButtonClicked",e,t?1:0])},newsfeedCardFollowButtonClicked:function(e,t){return l(["event","newsfeedCard","followButtonClicked",e,t?1:0])},newsfeedCardModelPreviewButtonClicked:function(e){return l(["event","newsfeedCard","modelPreviewButtonClicked",e])},newsfeedCardFavoriteButtonClicked:function(e,t){return l(["event","newsfeedCard","favoriteButtonClicked",e,t?1:0])},onboardingUsageType:function(e){return l(["event","onboarding","usageType",e])},newsfeedUsersFollowed:function(e){return l(["event","newsfeed","usersFollowed",e])},newsfeedInterestsSelected:function(e){return l(["event","newsfeed","interestsSelected",e])},playlistNextButtonClicked:function(){return l(["event","playlist","nextButtonClicked"])},playlistPreviousButtonClicked:function(){return l(["event","playlist","previousButtonClicked"])},playlistItemClicked:function(){return l(["event","playlist","tocItemClicked"])},profileWizardGeolocationClicked:function(){return l(["event","profileWizard","geolocationClicked"])},uploadCardCollectionCreated:function(e){return l(["event","uploadCard","collectionCreated",e])},uploadCardCollectionEnabled:function(e){return l(["event","uploadCard","collectionEnabled",e])},uploadCardCollectionDisabled:function(e){return l(["event","uploadCard","collectionDisabled",e])},uploadCardSettingsButtonClicked:function(e){return l(["event","uploadCard","settingsButtonClicked",e])},uploadCardReuploadButtonClicked:function(e){return l(["event","uploadCard","reuploadButtonClicked",e])},uploadCardDeleteButtonClicked:function(e){return l(["event","uploadCard","deleteButtonClicked",e])},uploadCard3dSettingsButtonClicked:function(e){return l(["event","uploadCard","3dSettingsButtonClicked",e])},uploadCardAnnotationsButtonClicked:function(e){return l(["event","uploadCard","AnnotationsButtonClicked",e])},inspectorDisplayViewClicked:function(e,t){return l(["event","inspector","displayViewClicked",e+":"+t])},inspectorModeShortcut:function(e,t){return l(["event","inspector","displayViewShortcut",e+":"+t])},inspectorSplitTypeClicked:function(e){return l(["event","inspector","splitTypeClicked",e])},inspectorUIVisibilityToggleClicked:function(){return l(["event","inspector","UIVisibilityToggleClicked"])},storeCheckoutInitiated:function(e,t){return l(["event","store","InitiateCheckout",e,t])},storeModelAddedToCart:function(e,t){return l(["event","store","AddToCart",e,t])},storePurchaseCompleted:function(e,t){return l(["event","store","Purchase",e,t])}}},239:function(e,t,n){"use strict";var i=n(1),r=n(51),o=n(6),a=n(112),s=n(0),u=n(77),l=n(290),c=Object(i.curry)(function(e,t){return e+t}),d=function(e,t){return Object(a.a)(e,{},function(e){return e.value===t})},f=r.a.extend({displayName:"DropdownOptionList",mixins:[u.a],optionTypes:{value:s.b.string.isRequired,options:s.b.arrayOf(s.b.shape({title:s.b.string.isRequired,value:s.b.string.isRequired,default:s.b.bool}).isRequired).isRequired,onSelectOption:s.b.func.isRequired,dropdown:s.b.shape({isOpen:s.b.bool.isRequired,onToggle:s.b.func.isRequired,scrollToHeightPercent:s.b.func.isRequired}).isRequired,color:s.b.string,theme:s.b.string,closeOnSelection:s.b.bool},events:{'click [data-action="select-option"]':"onOptionClick",'mouseenter [data-action="select-option"]':"onMouseEnterOption",'mouseleave [data-action="select-option"]':"onMouseLeaveOption","keydown window":"onWindowKeyDown"},viewDidMount:function(){this.updateScrollPosition()},viewDidUpdate:function(){this.updateScrollPosition()},getSelectedIndex:function(){return this.options.options.indexOf(d(this.options.options,this.options.value))},onOptionClick:function(e){this.options.onSelectOption(e.target.getAttribute("data-value")),this.options.closeOnSelection&&this.options.dropdown.isOpen&&this.options.dropdown.onToggle()},onMouseEnterOption:function(e){e.target.style.color=this.options.color},onMouseLeaveOption:function(e){e.target.getAttribute("data-active")||(e.target.style.color="")},onWindowKeyDown:function(e){this.options.dropdown.isOpen&&this.options.options.length&&(38!==e.which&&40!==e.which||e.preventDefault(),38===e.which&&this.selectIndex(c(-1)),40===e.which&&this.selectIndex(c(1)))},selectIndex:function(e){var t=this.getSelectedIndex(),n=this.options.options.length,i=(n+e(t))%n;this.options.onSelectOption(this.options.options[i].value),this.scrollAtNextRender=!0},scrollToSelectedOption:function(){var e=(this.getSelectedIndex()-1)/this.options.options.length;this.options.dropdown.scrollToHeightPercent(e)},updateScrollPosition:function(){this.scrollAtNextRender&&(this.scrollAtNextRender=!1,this.scrollToSelectedOption())},template:function(){return o.default.getFromString(["<ul class=\"c-dropdown-select {{ '--' + theme + '-theme' if theme else '' }}\">","    {% for optionItem in options %}","        {% set isActive = optionItem.value == value %}","        <li",'            class="c-dropdown-select__option {{ {',"                '--active': isActive",'            } | class_names }}"','            style="{{ {',"                'color': color if isActive else ''",'            } | style }}"','            {% if isActive %} data-active="true" {% endif %}','            data-value="{{ optionItem.value }}"','            data-action="select-option">',"            {{ optionItem.title }}","        </li>","    {% endfor %}","</ul>"].join("\n"),{options:this.options.options,value:this.options.value,color:this.options.color,theme:this.options.theme})}});t.a=r.a.extend({displayName:"DropdownSelect",optionTypes:{value:s.b.string.isRequired,onChange:s.b.func.isRequired,options:s.b.arrayOf(s.b.shape({title:s.b.string.isRequired,value:s.b.string.isRequired,default:s.b.bool}).isRequired).isRequired,title:s.b.string,placeholder:s.b.string,color:s.b.string,theme:s.b.oneOf(["dark","light","white-background","grey-background"]),menuAlign:s.b.oneOf(["left","right"]),disabled:s.b.bool,closeOnSelection:s.b.bool,autoScale:s.b.bool},defaultOptions:{theme:"light",closeOnSelection:!0,autoScale:!1},initialize:function(){r.a.prototype.initialize.apply(this,arguments);var e=this.getDefaultValue();!this.options.value&&e&&this.options.onChange(e)},getDefaultValue:function(){return Object(a.a)(this.options.options,{},function(e){return e.default}).value},template:function(){return o.default.getFromString("{{ components.dropdown | component }}",{components:this.createChildrenComponents({dropdown:{viewClass:l.a,options:{disabled:this.options.disabled,labelTitle:this.options.title,labelValue:d(this.options.options,this.options.value).title,longestLabelValue:this.options.autoScale?this.options.options.reduce(function(e,t){return e.length>t.title.length?e:t.title},""):"",placeholder:this.options.placeholder,color:this.options.color,theme:this.options.theme,className:this.options.className,menuAlign:this.options.menuAlign,child:{viewClass:f,options:{value:this.options.value,options:this.options.options,color:this.options.color,theme:this.options.theme,closeOnSelection:this.options.closeOnSelection,onSelectOption:this.options.onChange}}}}})})}})},24:function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return w});var i=n(40),r=n.n(i),o=n(55),a=n.n(o),s=n(52),u=n.n(s),l=n(54),c=n.n(l),d=n(88),f=n.n(d),h=function(e){function t(e,n,i,o){var s;return r()(this,t),(s=a()(this,u()(t).call(this,e))).feature=n,s.limitReached=i,s.account=o,s}return c()(t,e),t}(f()(Error)),p=function(e){function t(){return r()(this,t),a()(this,u()(t).apply(this,arguments))}return c()(t,e),t}(f()(Error)),g=function(e){function t(){return r()(this,t),a()(this,u()(t).apply(this,arguments))}return c()(t,e),t}(f()(Error)),m=function(e){function t(){return r()(this,t),a()(this,u()(t).apply(this,arguments))}return c()(t,e),t}(f()(Error)),v=function(e){function t(){return r()(this,t),a()(this,u()(t).apply(this,arguments))}return c()(t,e),t}(f()(Error)),b=function(e,t){return function(n){if(n instanceof e)return t(n);throw n}},w=function(e){return function(t){if(!(t instanceof e))throw t}}},240:function(e,t,n){"use strict";n.d(t,"b",function(){return o});var i=function(e){var t=0;return e<.0031308?e>0&&(t=12.92*e):t=1.055*Math.pow(e,1/2.4)-.055,t},r=function(e){var t=0;return e<.04045?e>=0&&(t=e*(1/12.92)):t=Math.pow((e+.055)*(1/1.055),2.4),t},o=function(e){var t=decodeURI(e);return function(e){return/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(e)}(t)?"#".concat(t):t};t.a={linearToSrgb1:i,srgbToLinear1:r,linearToSrgb:function(e,t){var n=t||new Array(e.length);return n[0]=i(e[0]),n[1]=i(e[1]),n[2]=i(e[2]),n.length>3&&e.length>3&&(n[3]=e[3]),n},srgbToLinear:function(e,t){var n=t||new Array(e.length);return n[0]=r(e[0]),n[1]=r(e[1]),n[2]=r(e[2]),n.length>3&&e.length>3&&(n[3]=e[3]),n},encodeRGBM:function(e,t,n){n[3]=Math.min(1,Math.max(e[0]/t,n[1]/t,n[2]/t,1e-6)),n[3]=Math.ceil(255*n[3])/255;var i=1/(t*n[3]);return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n},decodeRGBM:function(e,t,n){var i=t*e[3];return n[0]=i*n[0],n[1]=i*n[1],n[2]=i*n[2],n},rgbToHex:function(e){var t=Math.round(255*e.r),n=Math.round(255*e.g);return"#"+(16777216|Math.round(255*e.b)|n<<8|t<<16).toString(16).substr(1)},parseUrlColor:o}},25:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(1),a=n(47),s=n.n(a),u=n(80),l=n(99),c=n(8),d=n(0),f=Object(u.a)(["initialize","destroy"])(s.a.Model);t.a=f.extend({optionTypes:{},idAttribute:"uid",backend:l.a,constructor:function(){this.options=arguments[1]||{},f.apply(this,arguments)},initialize:function(){f.prototype.initialize.apply(this,arguments),this.checkModelTypes()},set:function(){return f.prototype.set.apply(this,arguments)},sync:function(){return f.prototype.sync.apply(this,arguments).then(function(){return this}.bind(this))},domain:function(){return Object(o.result)(this.backend,"domain")},queryParams:function(){return{}},url:function(){var e=Object(o.result)(this,"domain")+Object(o.result)(this,"endpoint")+c.c.craft("?",this.queryParams());return e=e.replace(/(?!^)\/{2,}/g,"/")},isNew:function(){var e=this.get(this.idAttribute);return void 0===e||!(!e||"tmp_"!==e.toString().substr(0,4))},checkModelTypes:function(){Object(d.a)(this.optionTypes,this.toJSON(),"value",this.displayName||"Model")}},{extend:function(e,t){var n=Object(o.extend)({},e,{optionTypes:Object(o.extend)({},this.prototype.optionTypes||{},e.optionTypes||{})});return f.extend.call(this,n,t)},get:function(e,t){t=Object(o.extend)({},t),"object"!==r()(e)&&(e={uid:e});var n=new this(e),i=function(e){return e.set({}),e};return t.immediate?(n.fetch(t),i(n)):n.fetch(t).then(i)}})},27:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"n",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return h}),n.d(t,"h",function(){return p}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return m}),n.d(t,"m",function(){return v}),n.d(t,"o",function(){return b}),n.d(t,"a",function(){return w}),n.d(t,"p",function(){return y}),n.d(t,"j",function(){return C}),n.d(t,"d",function(){return S});var i=n(1),r=n(18),o=n(31),a=n(5),s=function(e){var t=e.getBoundingClientRect(),n=t.left+t.width/2,i=t.top+t.height/2,r=(window.innerHeight||document.documentElement.clientHeight)/2;return n-(window.innerWidth||document.documentElement.clientWidth)/2+(i-r)},u=function(e){var t=e.getBoundingClientRect();return t.top>=0-t.height&&t.left>=0&&t.bottom<=window.innerHeight+t.height&&t.right<=window.innerWidth},l=function e(t,n){return null!==n.parentNode&&(n.parentNode===t||e(t,n.parentNode))},c=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft,width:t.width,height:t.height}},d=function(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,a=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,u=Math.round(t.top+r-a),l=Math.round(t.left+o-s);return{top:u,left:l,bottom:u+t.height,right:l+t.width}},f=function(e){return new a(function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src=e,i.complete&&t(i)})},h=function(e){return f(e).catch(r.d)},p=function(e){var t=new Image;return t.src=e,t.complete&&0!==t.naturalHeight},g=function(e,t,n){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("width",t),i.setAttribute("height",n),i.innerHTML='\n        <foreignObject\n            x="0"\n            y="0"\n            width="'.concat(t,'"\n            height="').concat(n,'">\n            <div xmlns="http://www.w3.org/1999/xhtml">\n                ').concat(e,"\n            </div>\n        </foreignObject>\n    "),i},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n=document.createElement("canvas");n.setAttribute("width","".concat(2*e.width)),n.setAttribute("height","".concat(2*e.height));var i=n.getContext("2d");return i.scale(2,2),i.fillStyle="#fff",i.fillRect(0,0,n.width,n.height),i.drawImage(e,0,0),n.toDataURL(t)},v=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).margin;return"IntersectionObserver"in window?function(e,t,n){var i=!1,r=new IntersectionObserver(function(e){e.forEach(function(e){var n=e.intersectionRatio>0;n!==i&&t(n),i=n})},{threshold:[0,1],rootMargin:"".concat(n,"px")});return r.observe(e),function(){return r.unobserve(e)}}(e,t,void 0===n?20:n):function(e){return setTimeout(function(){return e(!0)}),function(){}}(t)},b=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string";if(!(t=document.getElementById("js-dom-data-"+e)))return null;if(n=t.childNodes[0].textContent.slice(10,-2).trim(),n=Object(o.decodeHTMLEntities)(n),"json"===i)try{return JSON.parse(n)}catch(e){console.warn("Failed to JSON decode DOM data."),console.warn(e)}return n},w=function(e,t,n,r){Object(i.isFunction)(e.on)?e.on(t,n):Object(i.isFunction)(e.addEventListener)&&e.addEventListener(t,n,r)},y=function(e,t,n,r){Object(i.isFunction)(e.off)?e.off(t,n):Object(i.isFunction)(e.removeEventListener)&&e.removeEventListener(t,n,r)},C=Object(i.memoize)(function(){return!0===window.__IS_JSDOM__}),S=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}},270:function(e,t,n){"use strict";t.a=function(e){var t,n=window.WebKitBlobBuilder||window.MozBlobBuilder||window.BlobBuilder;t=e.split(",")[0].indexOf("base64")>=0?window.atob(e.split(",")[1]):window.decodeURI(e.split(",")[1]);for(var i,r=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),a=new Uint8Array(o),s=0;s<t.length;s++)a[s]=t.charCodeAt(s);if(void 0!==window.Blob)i=new Blob([a],{type:r});else if(void 0!==n){var u=new n;u.append(o),i=u.getBlob(r)}return i}},286:function(e,t,n){"use strict";var i=n(1);t.a={addNewImage:function(e){if(!this.model)throw new Error("This collection must implement a model.");var t,n=e.uid;n?t=n.replace(/tmp_/,""):n="tmp_"+(t=e.id||Object(i.uniqueId)());var r=new this.model({images:[{uid:n,url:e.url,width:e.width,height:e.height}],uid:n,id:t,name:e.name||"newImage",imageFile:e.imageFile});return this.set(r,{merge:!0,add:!0,remove:!1}),r}}},287:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(5),a=n.n(o),s=n(3),u=n.n(s),l=n(25),c=n(228);t.a=l.a.extend({defaults:{colorSpace:"unknown"},endpoint:function(){return"/textures".concat(this.isNew()?"":"/".concat(this.get("uid")))},isValid:function(){var e=this.get("name");return void 0===e&&console.warn("no name for Texture "+this.id),e=e||this.id,void 0===this.get("images")&&console.warn("no images for Texture "+e),void 0===this.get("uid")&&console.warn("no uid for Texture "+e),!0},save:function(e,t){null!=e&&"object"!==r()(e)||(t=e);var n=new FormData;return n.append("imageFile",this.get("imageFile"),this.get("name")),n.append("colorSpace",this.get("colorSpace")),n.append("modelUid",t.modelUID),a.a.resolve(u.a.ajax({url:this.url(),data:n,processData:!1,contentType:!1,type:"POST"}))},saveColorspace:function(){return a.a.resolve(u.a.ajax({url:this.url(),data:{colorSpace:this.get("colorSpace")},type:"PATCH"}))}}).extend(c.a)},289:function(e,t){},29:function(e,t,n){"use strict";var i=n(28),r=n.n(i),o=n(1),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.expires,o=void 0===i?31536e6:i,a=n.domain,s=void 0===a?"":a,u=n.path,l=void 0===u?"/":u,c=o instanceof Date?o:new Date(Date.now()+o);return["".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)),"expires=".concat(c.toUTCString())].concat(r()(s?["domain=".concat(s)]:[]),["path=".concat(l),"secure"]).join(";")};t.a={remove:function(e,t){document.cookie=a(e,"",Object(o.extend)({},t,{expires:new Date("01/01/1970 00:00+0000")}))},get:function(e,t){var n;try{n=function(e){return e.split(/; */g).reduce(function(e,t){var n=t.indexOf("="),i=decodeURIComponent(t.substr(0,n)),r=decodeURIComponent(t.substr(n+1));return e[i]=r,e},{})}(document.cookie)[e]}catch(e){console.warn("The cookies could not be read, most likely due to sandboxing issues.")}return void 0===n?t:n},set:function(e,t,n){try{document.cookie=a(e,t,n)}catch(e){console.warn("The cookies could not be set, most likely due to sandboxing issues.")}}}},290:function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(51),a=n(6),s=n(27),u=n(44),l=n(0),c=n(78),d=n(77);n(496);t.a=o.a.extend({displayName:"Dropdown",mixins:[Object(c.a)('[data-ref="menu"]'),d.a],optionTypes:{child:l.b.component.isRequired,labelTitle:l.b.string,labelValue:l.b.string,longestLabelValue:l.b.string,placeholder:l.b.string,color:l.b.string,className:l.b.string,theme:l.b.oneOf(["dark","light","white-background","grey-background"]),menuAlign:l.b.oneOf(["left","right"]),disabled:l.b.bool,withBackground:l.b.bool,grey:l.b.bool},defaultOptions:{color:"",theme:"light",menuAlign:"left",disabled:!1,withBackground:!1,grey:!1},events:{'click [data-action="toggle-menu"]:not([data-disabled="true"])':"onToggle","click window":"onWindowClick","resize window":"setMenuPosition"},state:{isOpen:!1},viewDidMount:function(){this.setMenuPosition()},viewDidUpdate:function(){this.setMenuPosition()},onToggle:function(){this.setState({isOpen:!this.state.isOpen})},onWindowClick:function(e){!Object(s.g)(this.el,e.target)&&this.state.isOpen&&this.setState({isOpen:!1})},setMenuPosition:function(){var e=this.el.getBoundingClientRect(),t=this.refs.menu.getBoundingClientRect();this.refs.$menu.css({bottom:-Math.min(0,window.innerHeight-(e.bottom+t.height+10)),right:"right"===this.options.menuAlign?Math.min(0,e.right-(t.width+10)):"auto",left:"left"===this.options.menuAlign?Math.min(0,window.innerWidth-(e.left+t.width+10)):"auto"})},scrollToHeightPercent:function(e){var t=this.refs.$menu.prop("scrollHeight");this.refs.$menu.scrollTop(Object(u.b)(0,1,e)*t)},template:function(){var e=this;return a.default.getFromMacro("skfb_front/macros/components/atoms/dropdown","dropdown",[{isOpen:this.state.isOpen&&!this.options.disabled,labelTitle:this.options.labelTitle,labelValue:this.options.labelValue,longestLabelValue:this.options.longestLabelValue,placeholder:this.options.placeholder,color:this.options.color,disabled:this.options.disabled,withBackground:this.options.withBackground,grey:this.options.grey,theme:this.options.theme,className:this.options.className,components:this.createChildrenComponents({child:[].concat(this.options.child).map(function(t,n){return r()({},t,{options:r()({},t.options,{key:t.options.key||n,dropdown:{isOpen:e.state.isOpen,onToggle:e.onToggle.bind(e),scrollToHeightPercent:e.scrollToHeightPercent.bind(e)}})})})})}])}})},292:function(e,t,n){"use strict";var i=n(38),r=n.n(i);t.a=function e(t,n){var i,o,a=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,d=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=d(t).slice(0,50).replace(s,"")||"",h=d(n).slice(0,50).replace(s,"")||"",p=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l))||1!==p.length&&f.match(u)&&Date.parse(f),v=parseInt(h.match(l))||m&&h.match(u)&&Date.parse(h)||null;if(v){if(m<v)return-1;if(m>v)return 1}for(var b=0,w=Math.max(p.length,g.length);b<w;b++){if(i=!(p[b]||"").match(c)&&parseFloat(p[b])||p[b]||0,o=!(g[b]||"").match(c)&&parseFloat(g[b])||g[b]||0,isNaN(i)!==isNaN(o))return isNaN(i)?1:-1;if(r()(i)!==r()(o)&&(i+="",o+=""),i<o)return-1;if(i>o)return 1}return 0}},296:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(5),a=n.n(o),s=n(47),u=n.n(s),l=n(165),c=n(10),d=n(186),f=n(1),h=n(99);t.a=l.a.extend({getModelOptionPath:function(){return"#.definitions.soundtrack"},getName:function(){return"Soundtrack"},initDefaults:function(e){var t=this._flattenObject(e,this._typeMap);this.set(Object(f.merge)(t,this.attributes)),this.get("uid")||this.set("uid","tmp_"+this.get("cid"))},defaults:function(){return{cid:this.cid,lastComputedScenePosition:[0,0,0],lastComputedWorldPosition:[0,0,0]}},isNew:function(){var e=this.get("uid");return void 0===e||!(!e||!e.toString().startsWith("tmp_"))},makeUrl:function(){return h.a.domain+"/sounds".concat(this.isNew()?"":"/".concat(this.get("uid")))},duplicate:function(){var e=new this.constructor;return e.setJSON(this.getJSON()),e.set("name",this.get("name")),e.set("url",this.get("url")),e.set("files",this.get("files")),e},save:function(e,t){if(!this.isNew())return a.a.resolve();null!=e&&"object"!==r()(e)||(t=e);var n=new FormData;n.append("soundFile",this.get("files")[0]),n.append("name",this.get("name")),n.append("model",t.modelUID);var i=this;return a.a.resolve(u.a.ajax({type:"POST",url:this.makeUrl(),data:n,processData:!1,contentType:!1})).then(function(e){i.set("uid",e.uid)})}},Object(d.a)({fileTypes:c.a.soundFiletypes,maxFileSize:c.a.maxSoundFilesize}))},30:function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(2),a=n.n(o),s=n(39),u=n.n(s),l=n(87),c=n.n(l),d=n(5),f=n(10),h=n(28),p=n.n(h),g=n(38),m=n.n(g),v=n(1);var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new RegExp(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.reduceRight(function(e,t,i){var r=n[i-1]||"";return"".concat(r).concat(function(e){return e.replace(/\\?\//g,"\\/")}(t)).concat(e)},"")}.apply(void 0,[t].concat(p()(function e(t){return t.map(function(t){if(!t)return"";if(Object(v.isRegExp)(t))return function(e){return"".concat(e).slice(1).replace(/\/([gmiyus]){0,6}$/,"")}(t);if(Array.isArray(t))return e(t).join("");if("string"==typeof t)return function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}(t);throw new Error('parseRegExpItems error: unsupported param "'.concat(t,'" of type "').concat(m()(t),'"'))})}(i)))),e)}},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(e){return"string"==typeof e}(e)?b(e):b().apply(void 0,[e].concat(n))},y=n(71);function C(){var e=c()(["^(?:/)?","(?:",")?$"]);return C=function(){return e},e}function S(){var e=c()(["(",")"]);return S=function(){return e},e}function k(){var e=c()(["",""]);return k=function(){return e},e}function x(){var e=c()(["<",">"]);return x=function(){return e},e}function _(){var e=c()(["(","):(",")"]);return _=function(){return e},e}n.d(t,"a",function(){return j}),n.d(t,"e",function(){return F}),n.d(t,"d",function(){return D}),n.d(t,"b",function(){return B}),n.d(t,"c",function(){return U});var O=/[-_a-z0-9]+/,E=/\?[^\s]+/,M=w("i")(_(),O,O),P=w("gi")(x(),M),T={int:/[0-9]+/,str:/[^/]+/,uid:/[a-f0-9]{32}|[a-zA-Z0-9]{24,27}/,username:/[a-zA-Z0-9._-]{2,}/,slug:/[-a-zA-Z0-9_]+/,path:/.+/},j=function(e){return e.replace(/^[^/]/,function(e){return"/".concat(e)})},R=function(e){var t=e.split(/<|>/).map(function(e,t){if(!(t%2))return w(k(),e);var n=e.match(M),i=u()(n,2)[1];return w(S(),T[i])});return w(C(),t,E)},I=function(e){return e.split(/<|>/).filter(function(e,t){return t%2}).map(function(e){var t=e.match(M);return u()(t,3)[2]})},A=function(e,t){var n=t.match(R(e));if(!n)return null;var i=I(e);return n.slice(1).reduce(function(e,t,n){return a()({},e,r()({},i[n],t))},{})},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===f.a.routes[e])return console.error('Routing.url error: Named route "'.concat(e,"\" doesn't exist.")),"";var n=I(f.a.routes[e]).sort().join(", "),i=Object.keys(t).sort().join(", ");return i!==n?(console.error('\n            Routing.url error: Wrong params for route "'.concat(e,'".\n            Expected "').concat(n,'", but received "').concat(i,'".\n        ')),""):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(e.replace(P,function(e){var n=e.match(M),i=u()(n,3)[2];return t[i]||""}))}(f.a.routes[e],t)},D=function(e,t){return void 0===f.a.routes[e]?(console.error('Routing.match error: Named route "'.concat(e,"\" doesn't exist.")),null):A(f.a.routes[e],t)},N=function(e){return function(t,n){return y.b.replace(function(){if(!n.isInit)return window.location.reload();var i=d.resolve(e(t));return{onStartHandling:function(){i.then(function(e){return e.setOptions({isCurrentRoute:!0})})},onStopHandling:function(){i.then(function(e){return e.setOptions({isCurrentRoute:!1})})},onUpdate:function(){return!0},onRemove:function(){}}})}},B=function(e,t){var n="string"==typeof e?[e]:e;return{name:n.join(","),test:function(e){return n.map(function(t){return D(t,e)}).filter(Boolean)[0]},handler:N(t)}},U=function(e,t){return{name:e,test:function(t){return A(e,t)},handler:N(t)}}},31:function(e,t,n){"use strict";n.r(t),n.d(t,"underscorify",function(){return f}),n.d(t,"slugify",function(){return h}),n.d(t,"escapeHTML",function(){return w}),n.d(t,"decodeHTMLEntities",function(){return y}),n.d(t,"urlize",function(){return C}),n.d(t,"stripTags",function(){return S}),n.d(t,"sanitize",function(){return k}),n.d(t,"paragraphy",function(){return x}),n.d(t,"pluralize",function(){return _}),n.d(t,"findWithDelimiters",function(){return O}),n.d(t,"kebabToCamelCase",function(){return E}),n.d(t,"camelToKebabCase",function(){return M}),n.d(t,"escapeRegExp",function(){return P}),n.d(t,"snakeToCamelCase",function(){return T}),n.d(t,"camelToSnakeCase",function(){return j}),n.d(t,"rangeToString",function(){return R}),n.d(t,"stringToRange",function(){return I}),n.d(t,"normalizePath",function(){return A}),n.d(t,"formatOrderUid",function(){return F});var i=n(3),r=n.n(i),o=n(125),a=n.n(o),s=n(1),u=/(\s|^)\S+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+(\s|$)/g,l=/(\s|^)(https?:\/\/)?(?:(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?(?=(\s|$))/g,c=/(\s|^)(@[a-zA-Z0-9._-]{2,30})/g,d=new RegExp("sketchfab.com");function f(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function h(e){return e.replace(/[^\w\s-]+/g,"").trim().toLowerCase().replace(/[-\s]+/g,"-")}var p=function(e,t){var n=t.replace(/^(https?:\/\/)?(www\.)?/,"");return e&&n.length<=e?n.substr(0,e)+"...":n},g=function(e){return e.match(/^(@[a-zA-Z0-9._-]{2,30})/)[0]},m=function(e){var t=e.split(/^(@[a-zA-Z0-9._-]{2,30})/);return t.length>3?t.join(""):t[1]+"</a>"+t[2]},v=function(e){return e.match(/^https?:\/\//)?e:"http://"+e},b=function(e,t){var n=e.match(/^\s/),i=e.match(/\s$/);return(n?n[0]:"")+t+(i?i[0]:"")};function w(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\\/g,"")}function y(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trimUrlLimit,i=t.target,r=t.noFollow,o=void 0===r||r;e=w(e);var a=i?' target="'+i+'"':"",s=["noopener","noreferrer"].concat(o?["nofollow"]:[]);return e.replace(l,function(e){var t=e.trim(),i=d.test(t)?s.slice(0,-1).join(" "):s.join(" ");return b(e,'<a href="'+v(t)+'" rel="'+i+'"'+a+">"+p(n,t)+"</a>")}).replace(u,function(e){var t=e.trim();return b(e,'<a href="mailto:'+t+'">'+t+"</a>")}).replace(c,function(e){var t=e.trim();return(e.match(/^\s/)?" ":"")+'<a href="'+window.location.origin+"/"+g(t).substring(1)+'" rel="'+s.join(" ")+'">'+m(t)})}function S(e){return a.a.sanitize(e,{ALLOWED_TAGS:[]})}function k(e){return r()("<div/>").html(a.a.sanitize(e,{ALLOWED_TAGS:[]}).trim()).text()}function x(e){var t=e.match(/.+/g);return t?t.map(function(e){return"<p>"+e+"</p>"}).join(""):e}function _(e,t,n){return void 0===t&&(t=""),void 0===n&&(n="s"),1===e?t:n}function O(e,t,n){return e.split(t).pop().split(n)[0]}function E(e){return e.replace(/-./g,function(e){return e.toUpperCase().replace("-","")})}function M(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function P(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function T(e){return e.replace(/_./g,function(e){return e.toUpperCase().replace("_","")})}function j(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})}function R(e){return e.start+".."+e.end}function I(e){var t=e.split("..");return{start:parseFloat(t[0]||0),end:parseFloat(t[1]||0)}}function A(e){return e.split("/").reduce(function(e,t){return t?"."===t?e:".."===t&&e.length?Object(s.dropRight)(e,1):e.concat(t):e},[]).join("/")+("/"===Object(s.last)(e)?"/":"")}var F=function(e){return"#".concat(e.substring(0,6))}},316:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(5),a=n.n(o),s=n(47),u=n.n(s),l=n(3),c=n.n(l),d=n(25);t.a=d.a.extend({defaults:function(){return{name:"",content:"",position:[0,0,0],eye:[0,0,0],target:[0,0,0],lastComputedScenePosition:[0,0,0],lastComputedWorldPosition:[0,0,0],uidImage:void 0,imageFile:void 0,preview:"",hovered:!0,geometryUid:-1,indices:[-1,-1,-1],barycentricWeights:[0,0,0],localPosition:[0,0,0],visible:!0}},endpoint:function(){return"/hotspots".concat(this.isNew()?"":"/".concat(this.get("uid")))},remove:function(){return a.a.resolve(u.a.ajax({type:"DELETE",url:this.url()}))},appendArray:function(e,t,n){for(var i=0,r=n.length;i<r;++i)e.append(t,n[i])},_dumpOptions:function(){return{eye:this.get("eye").toString(),target:this.get("target").toString(),position:this.get("position").toString(),content:this.get("content").raw,name:this.get("name"),imFile:this.get("imFile")}},registerOptions:function(){this._lastOptions=this._dumpOptions()},hasChangedOptions:function(){if(!this._lastOptions)return!0;var e=this._dumpOptions(),t=this._lastOptions;for(var n in t)if(t[n]!==e[n])return!0;return!1},save:function(e,t){var n=this._lastOptions;if(!this.hasChangedOptions())return a.a.resolve();this.registerOptions(),null!=e&&"object"!==r()(e)||(t=e);var i=this.isNew(),o=new FormData,s=this.get("imageFile");void 0===this.get("uidImage")&&s&&o.append("imageFile",s),o.append("model",t.modelUID),o.append("name",this.get("name"));var u=this.get("content").raw;o.append("content",null!==u?u:""),this.appendArray(o,"eye",this.get("eye")),this.appendArray(o,"target",this.get("target")),this.appendArray(o,"position",this.get("position"));var l=this,d=c.a.ajax({type:i?"POST":"PATCH",url:this.url(),data:o,cache:!1,contentType:!1,processData:!1,success:function(e){i&&(l.set("uid",e.uid),e.images.length>0&&l.set("uidImage",e.images[0].uid))},error:function(e){this._lastOptions=n,console.error(e.stack)}.bind(this)});return a.a.resolve(d)},_validate:function(e,t){return(t=t||{}).validate=!0,d.a.prototype._validate.call(this,e,t)},validate:function(e){var t=e.eye,n=e.target,i=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],a=Math.sqrt(i*i+r*r+o*o);if(a<=1e-8)return n[0]=e.position[0],n[1]=e.position[1],n[2]=e.position[2],!1;if(a<=.001){var s=.01/a;n[0]=t[0]+i*s,n[1]=t[1]+r*s,n[2]=t[2]+o*s}return!1}})},317:function(e,t,n){"use strict";var i=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&!navigator.userAgent.match("CriOS");t.a=i},32:function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return m});n(39);var i=n(28),r=n.n(i),o=n(1),a=n(5),s=n.n(a),u=n(75),l=n(19),c=n(24);function d(e){return!!e&&"function"==typeof e.then}function f(e,t,n){var i=Object(o.extend)({interval:1e3,prevInterval:1e3},Object(l.b)(n));return t().catch(function(n){var r="function"==typeof i.interval?i.interval(i.prevInterval):i.interval;return e>0?s.a.delay(r).then(function(){return f(e-1,t,Object(o.extend)({},i,{prevInterval:r}))}):s.a.reject(n)})}var h=function(e){var t;return function(){return t||(t=e.apply(void 0,arguments)).then(function(e){return t=void 0,e}).catch(function(e){throw t=void 0,e})}},p=function(e){var t,n=new s.a(function(n,i){t=i,e.then(n).catch(i)});return n.cancel=function(){return t(new c.a)},n},g=function(e){var t;return function(){return t&&t.cancel(),(t=p(e.apply(void 0,arguments))).then(function(e){return t=void 0,e}).catch(function(e){throw t=void 0,e})}},m=function(e,t){var n=new u.a,i=Object(o.debounce)(function(t){var i=e.apply(void 0,r()(t));n.resolve(i),n=new u.a},t),a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(t),n};return a.cancel=function(){return i.cancel()},a}},322:function(e,t,n){"use strict";function i(){var e;try{if(!(e=window.location!==window.parent.location?document.referrer:document.location.href))throw new Error("url is not defined")}catch(t){e=document.referrer}var t=document.createElement("a");return t.href=e,t}function r(){return i().hostname.replace(/^www\./,"")}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r})},324:function(e,t,n){"use strict";var i=n(89),r=n(90),o=n(6),a=n(14),s=n(0),u=a.a.extend({displayName:"UpgradePlanPopupContent",optionTypes:{popupSubTitle:s.b.string.isRequired},events:{"click .upgrade-additional-callback":"additionalButtonCallback"},additionalButtonCallback:function(){this.options.additionalButton&"function"==typeof this.options.additionalButton.callback&&this.options.additionalButton.callback.apply(this,arguments)},template:function(){return o.default.getFromString('\n            {% if options.popupImg %}<div class="illustration --{{ options.popupImg }}"></div>{% endif %}\n            <p class="title">{{ options.popupSubTitle }}</p>\n            <div class="infos">\n                {% for message in options.popupMessages %}\n                    <p>{{message|safe}}</p>\n                {% endfor %}\n            </div>\n            <div class="actions">\n                {% if options.nextPlan %}\n                    <div class="btn-wrapper">\n                        <a class="button btn-huge btn-important upgrade-link" href="{{ url(\'pages:plans\') }}" target="_blank">Upgrade to {{ options.nextPlan }}</a>\n                    </div>\n                {% endif %}\n                {% if options.additionalButton %}\n                    <div class="btn-wrapper">\n                        <a class="button btn-large btn-primary upgrade-additional-callback"\n                        {% if options.additionalButton.href %}href="{{ options.additionalButton.href }}" target="_blank"{% endif %}>{{ options.additionalButton.text }}</a>\n                    </div>\n                {% endif %}\n            </div>\n            ',{options:this.options})}});t.a=Object(i.a)(a.a.extend({template:function(){return o.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:r.a,options:{title:"",className:"upgrade-plan-popup",child:{viewClass:u,options:{popupImg:this.options.popupImg,popupSubTitle:this.options.popupSubTitle,popupMessages:this.options.popupMessages,nextPlan:this.options.nextPlan,additionalButton:this.options.additionalButton}}}}})})}}))},327:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(3),a=n.n(o),s=n(25),u=n(228),l=n(186),c=n(10);t.a=s.a.extend({save:function(e,t){null!=e&&"object"!==r()(e)||(t=e);var n=new FormData;return n.append("imageFile",this.get("imageFile")),n.append("modelUid",t.modelUID),a.a.ajax({url:this.url(),data:n,processData:!1,contentType:!1,type:"POST"})},endpoint:function(){return"/backgrounds".concat(this.isNew()?"":"/".concat(this.get("uid")))}},Object(l.a)({fileTypes:c.a.backgroundFiletypes,maxFileSize:c.a.maxBackgroundFilesize})).extend(u.a)},328:function(e,t,n){"use strict";var i=n(5),r=n.n(i),o=n(25),a=n(186),s=n(32),u=n(16),l=n(10);t.a=o.a.extend({endpoint:function(){return"/environments/".concat(this.get("uid"))},pollStatus:function(){var e=this;return u.b.getEnvironmentProcessingStatus(this.get("uid"),{allowPrefetching:!1}).then(function(t){if(!t)return r.a.reject();var n={PENDING:0,PROCESSING:1,SUCCEEDED:2,FAILED:3}[t.processing.toUpperCase()];e.set("status",t),e.set("processingStatus",n)})},checkStatus:function(){return this.pollStatus().then(function(e){return["SUCCEEDED","FAILED"].includes(e.processing.toUpperCase())?e:r.a.reject(e)})},checkStatusAndRetry:function(){return s.f(1/0,this.checkStatus.bind(this),{interval:2e3}).catch(function(){return{processing:"FAILED",error:"The server failed to answer in time"}})}},Object(a.a)({fileTypes:l.a.environmentFiletypes,maxFileSize:l.a.maxEnvironmentFilesize}))},336:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(25),a=n(16);t.a=o.a.extend({save:function(e,t){return null!=e&&"object"!==r()(e)||(t=e),a.b.createThumbnail({imageFile:this.get("imageFile"),source:this.get("source"),modelUid:t.modelUID})},endpoint:function(){return"/thumbnails"}})},337:function(e,t,n){"use strict";var i=n(1),r=n(81),o=n(195),a=n(23);t.a=o.a.extend({el:['<div class="widget slider-widget volume-slider-widget">','          <div class="widget-wrapper">','              <a class="fa fa-volume-up"></a>','              <div class="bar">','                  <div class="slide">','                      <div class="cursor"></div>',"                  </div>","              </div>","          </div>","      </div>"].join(""),events:Object(i.extend)({},o.a.prototype.events,{"click .fa":"onoff","touchstart .fa":"onoff"}),constructor:function(e,t){t=Object(i.defaults)(t||{},{name:"volume",minimum:0,maximum:1,step:.1}),o.a.prototype.constructor.call(this,e,t)},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.isMute=0===this.get(),this.value=this.get(),this.model.on("change:"+this.options.name,Object(r.a)(function(){0===this.get()?(this.isMute=!0,this.mute(this.$(".fa"))):this.isMute&&(this.isMute=!1,this.unmute(this.$(".fa")))}.bind(this)))},mute:function(e){e.removeClass("fa-volume-up").addClass("fa-volume-off")},unmute:function(e){e.removeClass("fa-volume-off").addClass("fa-volume-up")},onoff:function(){this.isMute?(0!==this.value&&null!==this.value||(this.value=1),this.model.set("mute",!1),this.set(this.value),this.model.set("playing",!0),a.a.modelViewerMuteButtonClicked(0)):(this.value=this.get(),this.set(0),this.model.set("mute",!0),a.a.modelViewerMuteButtonClicked(1))},cursorDrag:function(){o.a.prototype.cursorDrag.apply(this,arguments),this.value=null}})},338:function(e,t,n){"use strict";var i=n(38),r=n.n(i),o=n(5),a=n.n(o),s=n(3),u=n.n(s),l=n(25),c=n(228),d=n(186),f=n(10);t.a=l.a.extend({endpoint:function(){return"/matcaps".concat(this.isNew()?"":"/".concat(this.get("uid")))},save:function(e,t){null!=e&&"object"!==r()(e)||(t=e);var n=new FormData;return n.append("imageFile",this.get("imageFile"),this.get("name")),n.append("modelUid",t.modelUID),a.a.resolve(u.a.ajax({url:this.url(),data:n,processData:!1,contentType:!1,type:"POST"}))},getProxyImage:function(){var e=this.findImageSmallest();return e||console.error("MISSING IMAGE DATA!"),{label:this.get("name"),value:this.get("uid")||this.get("id"),image:e.url,imageModel:this,deletable:!this.get("isDefault")}}},Object(d.a)({fileTypes:f.a.matcapFiletypes,maxFileSize:f.a.maxMatcapFilesize})).extend(c.a)},351:function(e,t,n){"use strict";var i=n(36),r=n(1),o=i.a.osg,a=function(){o.NodeVisitor.apply(this,arguments),this.reset()};o.createPrototypeObject(a,o.objectInherit(o.NodeVisitor.prototype,{reset:function(){this._nodes=[],this._nodeMap={},this._nodeList={},this._dirty=!0},isDirty:function(){return this._dirty},getRootNode:function(){return this._nodes[0]},getRealNodeMap:function(){return this._nodeList},getRepresentationNodeMap:function(){return this._nodeMap},createNodeEntry:function(e){this._dirty=!1;var t=e.getInstanceID();this._nodeList[t]||(this._nodeList[t]=e);var n={name:e.getName(),instanceID:t,nodeMask:e.getNodeMask()};return this._nodeMap[t]||(this._nodeMap[t]=n),n},applyNode:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="Group",t.push(n),this._nodes=t},applyMatrixTransform:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="MatrixTransform",n.localMatrix=o.mat4.clone(e.getMatrix()),n.worldMatrix=e.getWorldMatrices()[0],t.push(n),this._nodes=t},applyGeometry:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.type=e.className(),t.push(n),this._nodes=t},apply:function(e){var t=e.getTypeID();t===o.Node.typeID?this.applyNode(e):t===o.MatrixTransform.typeID?this.applyMatrixTransform(e):e instanceof o.Geometry?this.applyGeometry(e):this.traverse(e)}}));var s=a,u=n(146),l=n(60);function c(){this.handlers=[],this.events=[]}c.prototype={subscribe:function(e){this.events.forEach(function(t){e(t.name,t.args)});var t=this.handlers.push(e);return function(){this.handlers.split(t-1,1)}},emit:function(e,t){this.events.push({name:e,args:t}),this.handlers.forEach(function(n){n(e,t)})}};var d=c,f=n(355),h=n(119),p=n(340),g=i.a.osg,m=i.a.osgAnimation,v=function(e){this._partial=e,this._events={},this._replayEmitter=new d,this._partial.on("model-loaded",function(){this._emitEvents()}.bind(this)),this._sceneGraphVisitor=new s,this._nodeMap=void 0};v.prototype={_filterAnnotationModelMessage:function(e){delete e.refreshAction,delete e.sticky},addGlobalListener:function(e){this._replayEmitter.subscribe(e)},intersectPoint:function(e,t,n,i){var r=this._getFeatureModel("material").findFirstMaterial(e._nodePath);this._replayEmitter.emit("click",{position3D:t,position2D:n,normal:i,instanceID:this._getHitNodeID(e),material:r?r.getJSON():null})},_getFeatureModel:function(e){var t=this._partial.scene.getFeatures()[e];if(t)return t.getModel()},_getViewerOSG:function(){return this._getViewer()._viewer},_getViewer:function(){return this._partial.scene},_emitEvents:function(){var e=["viewerready","annotationFocus","annotationBlur","click"];this._partial.scene.on("all",function(t,n){-1!==e.indexOf(t)&&this._replayEmitter.emit(t,n)}.bind(this)),this.emitEvents=function(){}},_computeSceneGraph:function(){var e=this._sceneGraphVisitor;e.isDirty()&&this._getViewer().getRootModel().accept(e)},_getRootNode:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRootNode()},_getRealNodeMap:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRealNodeMap()},_getRepresentationNodeMap:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRepresentationNodeMap()},_convertDataUriToImage:function(e,t,n){var i=this._getFeatureModel("material").getImageCollection();u.default.instance.getOrCreateImage(e).promise.then(function(r){var o=i.addNewImage({uid:t,url:e,width:r.getWidth(),height:r.getHeight(),name:e.slice(0,100)});n(null,o.getUID())}).catch(function(){n("failed to add texture")})},start:function(e){this._partial.start(),e(null)},stop:function(e){this._partial.stop(),e(null)},load:function(e){this._partial.load(),e(null)},gotoAnnotation:function(e,t){var n=this._getFeatureModel("hotspot").get("hotspots"),i=n.at(e);n.trigger("select",i),t(null,e)},getAnnotationList:function(e){var t=this._getFeatureModel("hotspot").get("hotspots").toJSON();t.forEach(this._filterAnnotationModelMessage.bind(this)),e(null,t)},lookat:function(e,t,n,i){this.setCameraLookAt(e,t,n,i)},setFov:function(e,t){var n=this._getFeatureModel("camera");n.set("dollyPrevent",!0);var i=n.setJSON({fov:e});t(i.length?i:null,e),n.set("dollyPrevent",!1)},getCurrentTime:function(e){var t=this._getFeatureModel("animation"),n=t.getCurrentAnimation().get("duration");e(null,t.get("progress")*n/100)},play:function(e){this._getFeatureModel("animation").set("playing",!0),e(null)},pause:function(e){var t=this._getFeatureModel("animation");t?(t.set("playing",!1),e(null)):e("no animation feature")},seekTo:function(e,t){var n=this._getFeatureModel("animation"),i=100*e/n.getCurrentAnimation().get("duration");n.trigger("seek",i),t(null)},getAnimations:function(e){var t=[];this._getFeatureModel("animation").get("animations").forEach(function(e){var n=[];n.push(e.get("uid")),n.push(e.get("name")),n.push(e.get("duration")),t.push(n)}),e(null,t)},setCurrentAnimationByUID:function(e,t){this._getFeatureModel("animation").set("currentUID",e),t(null)},setCycleMode:function(e,t){var n=this._getFeatureModel("animation");1===n.get("animations").length&&"all"===e&&(e="one");var i=n.setJSON({cycleMode:e},{validate:!0,warnOnError:!0});t(i&&i.length?i:null)},setSpeed:function(e,t){var n=this._getFeatureModel("animation").setJSON({speed:e},{validate:!0,warnOnError:!0});t(n&&n.length?n:null,e)},getSceneGraph:function(e){e(null,this._getRootNode())},getNodeMap:function(e){e(null,this._getRepresentationNodeMap())},getNodeMask:function(e,t){var n=this._getNodeFromUserNodeID(e);n?t(null,n.getNodeMask()):t("node with id "+e.toString()+" not found")},getMatrix:function(e,t){var n=this._getNodeFromUserNodeID(e);n?t(null,{local:n.getMatrix(),world:n.getWorldMatrices()[0]}):t("node with id "+e.toString()+" not found")},setMatrix:function(e,t,n){var i=this._getNodeFromUserNodeID(e);i?(g.mat4.copy(i.getMatrix(),t),i.dirtyBound(),n(null),l.a.redrawShadow()):n("node with id "+e.toString()+" not found")},hide:function(e,t){var n=this._getNodeFromUserNodeID(e);n?(n.setNodeMask(0),t(null)):t("show: node id "+e+" not found"),l.a.redrawShadow()},show:function(e,t){var n=this._getNodeFromUserNodeID(e);n?(n.setNodeMask(-1),t(null)):t("show: node id "+e+" not found"),l.a.redrawShadow()},translate:function(){var e,t,n=arguments.length,i=arguments[n-1],r=arguments[0],o=arguments[1];4===n?e=arguments[2]:5===n&&(e=arguments[2],t=arguments[3]),e=e||0;var a=m[t]||m.easeOutQuad,s=this._getNodeFromUserNodeID(r);if(s)if(s.getTypeID()===g.MatrixTransform.typeID){if(e>0){var u=g.vec3.create();g.mat4.getTranslation(u,s.getMatrix());var c=new f.c(u,o,e,a,function(e){s.removeUpdateCallback(c),i(null,e)});s.addUpdateCallback(c)}else g.mat4.setTranslation(s.getMatrix(),o),s.dirtyBound(),i(null,o);l.a.redrawShadow()}else i("you can only translate MatrixTransform nodes");else i("node with id "+r.toString()+" not found")},rotate:function(){var e=g.vec3.create(),t=g.vec3.create();return function(){var n,i,r=arguments.length,o=arguments[r-1],a=arguments[0],s=arguments[1];4===r?n=arguments[2]:5===r&&(n=arguments[2],i=arguments[3]),n=n||0;var u=m[i]||m.easeOutQuad,c=this._getNodeFromUserNodeID(a);if(c)if(c.getTypeID()===g.MatrixTransform.typeID){var d=g.quat.create(),h=g.mat4.create();if(g.mat4.fromRotation(h,-s[0],g.vec3.set(t,s[1],s[2],s[3])),g.mat4.getRotation(d,h),n>0){var p=g.quat.create();g.mat4.getRotation(p,c.getMatrix());var v=new f.a(p,d,n,u,function(e){c.removeUpdateCallback(v),o(null,e)});c.addUpdateCallback(v)}else g.mat4.fromQuat(h,d),g.mat4.getTranslation(e,c.getMatrix()),g.mat4.setTranslation(h,e),g.mat4.copy(c.getMatrix(),h),c.dirtyBound(),o(null,s);l.a.redrawShadow()}else o("you can only translate MatrixTransform nodes");else o("node with id "+a.toString()+" not found")}}(),getRootMatrixNode:function(e){var t=this._getViewer().getRootModel();if(t||e("No scene loaded"),!this._nodeInTheMiddle){this._nodeInTheMiddle=new g.MatrixTransform,this._nodeInTheMiddle.setName("NITM");for(var n=t.getChildren(),i=0,r=n.length;i<r;i++)this._nodeInTheMiddle.addChild(n[i]);t.removeChildren(),t.addChild(this._nodeInTheMiddle)}e(null,this._nodeInTheMiddle.getInstanceID(),this._nodeInTheMiddle.getMatrix())},getCameraLookAt:function(e){var t=this._getViewerOSG().getManipulator(),n=[],i=[];t.getTarget(n),t.getEyePosition(i),e(null,{position:i,target:n})},setCameraLookAt:function(e,t){var n=this._getFeatureModel("camera"),i=this._getViewerOSG().getManipulator(),r=arguments[arguments.length-1],o=3===arguments.length?2:arguments[2];o<=0?i.setTargetAndEye(t,e):(n.setTargetAndEye(t,e),n.set("animationDuration",o)),r(null)},getScreenShot:function(){var e,t,n=arguments.length,i=arguments[n-1],r="image/jpeg";if(2===n)r=arguments[0];else if(3===n)e=Math.floor(arguments[0]),t=Math.floor(arguments[1]);else if(4===n)e=Math.floor(arguments[0]),t=Math.floor(arguments[1]),r=arguments[2];else if(1!==n)return void i("Wrong number of arguments, signature should be (width, height, [callback]), (width, height, mimetype, [callback]), (mimetype, [callback]) or ([callback]).");i(null,this._getViewer().getScreenShot(e,t).toDataURL(r))},getMaterialList:function(e){var t=this._getFeatureModel("material");e(null,Object(r.values)(t.getJSON()))},getTextureList:function(e){e(null,this._getFeatureModel("material").getImageCollection().toJSON())},addTexture:function(e,t){this._convertDataUriToImage(e,void 0,t)},updateTexture:function(e,t,n){this._convertDataUriToImage(e,t,function(e){if(e)n(e);else{var i=this._getFeatureModel("material").getMaterials();for(var r in i){var o=i[r].getChannels();for(var a in o){var s=o[a],u=s.getTextureModel();u&&u.getUID()===t&&s.trigger("updateChannel")}}n(null,t)}}.bind(this))},setTextureQuality:function(e,t){var n=this._getFeatureModel("quality");n.get("promiseReady").then(function(i){var o={ld:0,sd:1,hd:2};if(i.high||(o={ld:0,hd:1}),i.mid||(o={hd:0}),e in o){var a=o[e];n.set("level",a),t(null,"texture quality set to "+a)}else{var s=Object(r.map)(o,function(e,t){return t}).join(", ");t(['Quality must be a string "ld", "sd" or "hd".'," Available qualities for this model are : ",s].join(""),null)}}.bind(this))},setMaterial:function(e,t){var n=this._getFeatureModel("material"),i=e.stateSetID,r=n.getMaterialByStateSetID(i);r.setMaterialJSON(e,n.getImageCollection(),{validate:!1,warnOnError:!1}),r.trigger("apply"),l.a.redrawShadow(),t(null)},setPostProcessing:function(e,t){this._getFeatureModel("postProcess").set(e),t(null)},getPostProcessing:function(e){e(this._getFeatureModel("postProcess").toJSON())},getWorldToScreenCoordinates:function(e,t){var n=h.a.getScreenPositionFromWorldPoint(e);t({glCoord:n.slice(0,2),canvasCoord:p.a.glCoordToCanvas(n[0],n[1],n).slice(0,2)})},_getNodeFromUserNodeID:function(e){return this._getRealNodeMap()[e]},_getHitNodeID:function(e){if(e&&e._nodePath&&e._nodePath.length){var t=e._nodePath[e._nodePath.length-1];if(t)return t.getInstanceID()}}};t.a=v},352:function(e,t,n){"use strict";(function(e){var i=n(36),r=n(119),o=n(234),a=n(106),s=n(154),u=n(122),l=n(64),c=n(351),d=n(60),f=n(1),h=i.a.osg,p=function(){c.a.apply(this,arguments),this._displayed=!1,l.a.getModelDisplayed().then(function(){this._displayed=!0}.bind(this)),this._pickMask={click:a.a.PICK_GEOMETRY_FAST,mousemove:a.a.PICK_GEOMETRY_FAST}};p.prototype=Object(f.create)(c.a.prototype,{addGlobalListener:function(e){u.a.getBoxReady().then(function(){o.a.initViewerAPI(this),this._getViewer().getInputManager().setEnable(s.a.SCENE_VIEWERAPI,!0)}.bind(this)),this._replayEmitter.subscribe(e)},intersectPoint:void 0,_emitEvents:function(){var e={viewerready:"viewerready",started:"viewerstart",stopped:"viewerstop",annotationFocus:"annotationFocus",annotationBlur:"annotationBlur",annotationMouseEnter:"annotationMouseEnter",annotationMouseLeave:"annotationMouseLeave",annotationSelect:"annotationSelect",nodeMouseEnter:"nodeMouseEnter",nodeMouseLeave:"nodeMouseLeave",click:"click",cameraStart:"camerastart",cameraStop:"camerastop"},t=function(t,n){var i=e[t];i&&this._replayEmitter.emit(i,n)}.bind(this);this._partial.on("all",t),this._partial.scene.on("all",t),this._emitEvents=function(){}},onCursorUp:function(){var e=h.vec3.create(),t=h.vec3.create(),n=h.vec2.create();return function(i){if(this._displayed){n[0]=i.canvasX,n[1]=i.canvasY;var o=r.a.computeNearestIntersection2D(n[0],n[1],this._pickMask.click),a={position3D:null,position2D:n,normal:null,instanceID:null,material:null};if(o){r.a.getWorldPositionFromHit(o,t,e);var s=this._getFeatureModel("material").findFirstMaterial(o._nodePath);a.normal=e,a.position3D=t,a.instanceID=this._getHitNodeID(o),a.material=s?s.getJSON():null,this._replayEmitter.emit("click",a)}else this._replayEmitter.emit("click",a)}}}(),onMouseMove:function(){var e,t,n=h.vec3.create(),i=h.vec3.create(),o=h.vec2.create();return function(a){if(this._displayed){o[0]=a.canvasX,o[1]=a.canvasY;var s=r.a.computeNearestIntersection2D(o[0],o[1],this._pickMask.click);if(s){r.a.getWorldPositionFromHit(s,i,n);var u=this._getHitNodeID(s),l=this._getFeatureModel("material").findFirstMaterial(s._nodePath);if(t===u)return;return t&&this._replayEmitter.emit("nodeMouseLeave",{position3D:null,position2D:null,normal:n,instanceID:t,material:e}),t=u,e=l?l.getJSON():null,void this._replayEmitter.emit("nodeMouseEnter",{position3D:i,position2D:o,normal:n,instanceID:t,material:e})}t&&(this._replayEmitter.emit("nodeMouseLeave",{position3D:i,position2D:o,normal:n,instanceID:t,material:e}),t=void 0,e=void 0)}}}(),setListenerOptions:function(e){if(e&&"function"!=typeof e)switch(e.name){case"click":this._pickMask.click="slow"===e.pick?a.a.PICK_GEOMETRY_SLOW:a.a.PICK_GEOMETRY_FAST;break;case"nodeMouseEnter":case"nodeMouseLeave":this._pickMask.mousemove="slow"===e.pick?a.a.PICK_GEOMETRY_SLOW:a.a.PICK_GEOMETRY_FAST}},pickColor:function(){var t=new Uint8Array(4);return function(n,i){new e(function(e,i){var r=this._getViewerOSG().getCamera();r.setFinalDrawCallback(function(o){var a=o.getGraphicContext();if(a.checkFramebufferStatus(a.FRAMEBUFFER)===a.FRAMEBUFFER_COMPLETE){a.flush(),a.finish();var s=n[0]*(a.drawingBufferWidth/a.canvas.clientWidth),u=a.drawingBufferHeight*(1-n[1]/a.canvas.clientHeight);a.readPixels(s,u,1,1,a.RGBA,a.UNSIGNED_BYTE,t),e(t),r.setFinalDrawCallback(void 0)}else i()})}.bind(this)).then(function(){i(t)})}}(),unselectAnnotation:function(e){this.gotoAnnotation(-1,e)},requestRedraw:function(){d.a.redrawShadow()}}),t.a=p}).call(this,n(162))},355:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u});var i=n(60),r=n(36).a.osg,o=function(e){this._translateUpdateCallbackListPerNode={},this._rotateUpdateCallbackListPerNode={},this._nodeList=e};o.prototype={addTranslateUpdateCallback:function(e,t,n){var i=this._translateUpdateCallbackListPerNode[n];i&&(r.mat4.setTranslation(e.getMatrix(),i._target),t._source=i._target),this._translateUpdateCallbackListPerNode[n]=t},addRotateUpdateCallback:function(e,t,n){var i=this._rotateUpdateCallbackListPerNode[n];if(i){var o=i._target,a=r.mat4.create(),s=r.vec3.create();r.mat4.fromQuat(a,o),r.mat4.getTranslation(s,e.getMatrix()),r.mat4.setTranslation(a,s),r.mat4.copy(e.getMatrix(),a),t._source=i._target}this._rotateUpdateCallbackListPerNode[n]=t},removeTranslateUpdateCallback:function(e){delete this._translateUpdateCallbackListPerNode[e]},removeRotateUpdateCallback:function(e){delete this._rotateUpdateCallbackListPerNode[e]},update:function(e,t){var n,i,r;for(i in this._rotateUpdateCallbackListPerNode)n=this._rotateUpdateCallbackListPerNode[i],r=this._nodeList[i],n.update(r,t);for(i in this._translateUpdateCallbackListPerNode)n=this._translateUpdateCallbackListPerNode[i],r=this._nodeList[i],n.update(r,t);return!0}};var a=function(e,t,n,i,r){this._source=e,this._target=t,this._duration=n,this._started=-1,this._easing=i,this._finished=!1,this._callback=r};a.prototype={isFinished:function(){return this._finished},update:function(e,t){if(this._finished)return!0;i.a.redrawShadow();var n=t.getFrameStamp().getSimulationTime();this._started<0&&(this._started=n);var r=(n-this._started)/this._duration;return r>1&&(this._finished=!0,this._callback&&this._callback(this._result),r=1),this._easing&&(r=this._easing(r)),this.interpolate(r,e),!0}};var s=function(e,t,n,i,o){a.call(this,e,t,n,i,o),this._result=r.vec3.create()};s.prototype=r.objectInherit(a.prototype,{interpolate:function(e,t){r.vec3.lerp(this._result,this._source,this._target,e),r.mat4.setTranslation(t.getMatrix(),this._result),t.dirtyBound()}});var u=function(e,t,n,i,o){a.call(this,e,t,n,i,o),this._result=r.quat.create(),this._translate=r.vec3.create(),this._finalResult=r.mat4.create()};u.prototype=r.objectInherit(a.prototype,{interpolate:function(e,t){r.quat.slerp(this._result,this._source,this._target,e),r.mat4.getTranslation(this._translate,t.getMatrix()),r.mat4.fromQuat(this._finalResult,this._result),r.mat4.setTranslation(this._finalResult,this._translate),r.mat4.copy(t.getMatrix(),this._finalResult),t.dirtyBound()}})},37:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,i=arguments.length>1?arguments[1]:void 0;return t[i.type]?t[i.type](n,i.payload):n}},r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduceRight(function(e,t){return t(e,n)},e)}}},372:function(e,t,n){"use strict";var i=n(1),r=n(3),o=n.n(r),a=n(68),s=n.n(a),u=n(235),l=n.n(u),c=n(15),d=n(29),f=n(24),h=n(113),p=n(97),g=n(6),m=n(23),v=n(317),b=n(148),w=n(31),y=n(163),C=n(61),S=n(65),k=n(70),x=k.a.extend({VIEWER_MODE_ORBIT:0,VIEWER_MODE_FPS:1,HOTSPOT_CYCLE_PAUSE:1e4,events:{"click .has-menu":"toggleMenu","touchstart .has-menu":"toggleMenuTouch",keydown:"onKeydown",wheel:"onMousewheel","mousedown  .webgl .canvas":"cameraMoveStart","touchstart .webgl .canvas":"cameraMoveStart","mousedown  .webgl":"mouseDownEvent","mouseup    .webgl":"mouseUpEvent","touchstart .webgl":"mouseDownEvent","touchend   .webgl":"mouseUpEvent","mousedown  .fallback":"mouseDownEvent","touchstart .fallback":"mouseDownEvent",'click      [data-action="watermark"]':"onWatermarkClick",'touchend   [data-action="watermark"]':"onWatermarkClick"},constructor:function(){this.globalCloseEvent=this.globalCloseEvent.bind(this),this.globalMouseUpEvent=this.globalMouseUpEvent.bind(this),this.onKeydown=this.onKeydown.bind(this),k.a.prototype.constructor.apply(this,arguments)},delegateEvents:function(){k.a.prototype.delegateEvents.apply(this,arguments);var e=o()(document);e.on("keydown",this.onKeydown),e.on("mousedown",this.globalCloseEvent),e.on("mouseup",this.globalMouseUpEvent),e.on("mousewheel.delegateEvents"+this.cid,".annotation",this.preventScroll)},undelegateEvents:function(){k.a.prototype.undelegateEvents.apply(this,arguments);var e=o()(document);e.off("keydown",this.onKeydown),e.off("mousedown",this.globalCloseEvent),e.off("mouseup",this.globalMouseUpEvent),e.off("mousewheel.delegateEvents"+this.cid,".annotation",this.preventScroll)},enable:function(){this.$(".gui").removeClass("hidden"),Object(i.defer)(function(){this.$(".gui").addClass("enabled")}.bind(this))},disable:function(){this.$(".gui").removeClass("enabled").addClass("hidden")},closeMenus:function(){this.$(".gui").find(".has-menu").removeClass("active"),this.viewer.subviews.generalControls&&this.viewer.subviews.generalControls.settings&&this.viewer.subviews.generalControls.settings.togglePane(!1)},cameraMoveStart:function(){this.viewer.$(".webgl").addClass("camera-moving"),this.viewer.subviews.hotspots&&this.viewer.subviews.hotspots.pauseHotspotCycleInterval()},cameraMoveEnd:function(){this.viewer.$(".webgl").removeClass("camera-moving"),this.viewer.subviews.hotspots&&this.viewer.subviews.hotspots._hotspotCycleIntervalPaused&&this.viewer.subviews.hotspots.beginHotspotCycleInterval(this.HOTSPOT_CYCLE_PAUSE)},onMousewheel:function(){var e;if(this.viewer.scene){var t=this.viewer.scene.getFeatures();t.hasOwnProperty("camera")&&(e=t.camera.getModel().get("indexManipulator"))}if(e===this.VIEWER_MODE_FPS){var n=this.viewer.scene.getViewerOSGJS().getManipulator().getCurrentManipulator()._stepFactor,i=Math.round(n/4*100);this.viewer.subviews.osd.show("Walking speed: "+i,{duration:1e3})}},onKeydown:function(e){var t=document.activeElement,n="";32===e.which&&t&&(n=t.tagName,-1!==["BODY","CANVAS"].indexOf(n)&&(this.recenter(),e.preventDefault())),e.which>=96&&e.which<=105&&this.timeline&&this.timeline.setCurrentAnimation(e.which-96),27===e.which&&(this.viewer.subviews.hotspots&&this.viewer.subviews.hotspots._hotspots.length&&(this.viewer.subviews.hotspots.currentHotspot=-1,this.viewer.subviews.hotspots.applyCurrentHotspot(),this.viewer.subviews.hotspots.unrevealHotspots(),this.viewer.subviews.hotspots.stopHotspotCycleInterval()),this.closeMenus(),this.viewer.subviews.helpOverlay.hide())},preventParentScroll:function(e,t){var n=o()(".hotspot-controls .list"),i=n.height(),r=n.children()[0].scrollHeight,a=n.children()[0].scrollTop;(a===r-i&&t<0||0===a&&t>0)&&e.preventDefault()},preventScroll:function(e){e.preventDefault()},globalMouseUpEvent:function(){this.cameraMoveEnd()},globalCloseEvent:function(e){o()(e.target).hasClass("has-menu")||o()(e.target).parents(".has-menu").length||this.closeMenus(e)},toggleMenuTouch:function(e){if("label"===e.target.tagName.toLowerCase())return e;e.preventDefault(),e.stopPropagation(),this.toggleMenu(e)},toggleMenu:function(e){if("label"===e.target.tagName.toLowerCase())return e;e.preventDefault(),e.stopPropagation();var t=o()(e.currentTarget);t.hasClass("active")?e.currentTarget===e.target&&t.attr("data-title",t.attr("title")).removeClass("active"):(this.closeMenus(),t.attr("title",t.attr("data-title")).removeAttr("data-title").addClass("active"))},renderSetting:function(e,t){this.viewer.$('[data-setting="'+e+'"]').removeClass("active"),"wireframeColor"===e&&!1===this.viewer.proxySettings.get("wireframeEnable")||this.viewer.$('[data-setting="'+e+'"][data-value="'+t+'"]').addClass("active")},getPointerPosition:function(e){var t,n=e.originalEvent?e.originalEvent:e,i={};return n.touches&&n.touches.length||n.changedTouches&&n.changedTouches.length?(t=(t=n.touches&&n.touches.length?n.touches:n.changedTouches)[0],i.x=t.pageX,i.y=t.pageY,i.type="Touch"):(i.x=e.pageX,i.y=e.pageY,i.type="Mouse"),i},mouseDownEvent:function(e){this.mouseDownPosition=this.getPointerPosition(e),this.viewer.subviews.hint.hide(),"touchstart"===e.type&&(e.target===e.currentTarget||this.scene&&this.scene.getCanvas&&e.target===this.viewer.scene.getCanvas())&&e.preventDefault()},mouseUpEvent:function(e){if(this.mouseDownPosition){var t=this.getPointerPosition(e);if(this.viewer.$el.hasClass("started")){if(Math.abs(this.mouseDownPosition.x-t.x)>20||Math.abs(this.mouseDownPosition.y-t.y)>20){var n=this.viewer._currentModel?this.viewer._currentModel.get("uid"):this.viewer._currentUid;m.a.modelEmbedModelInteraction(n,t.type)}this.mouseDownPosition=null}}},recenter:function(){this.viewer.scene&&this.viewer.scene.getViewerOSGJS().getManipulator().computeHomePosition()},onWatermarkClick:function(){var e=o()(".watermark").find("a").attr("href").split("models/").pop().split("/")[0];m.a.modelEmbedWatermarkClicked(e)}}),_=n(2),O=n.n(_),E=n(36),M=n(33),P=n(0),T=n(69),j=E.a.osg,R=new l.a({device:"VWR"}),I=k.a.extend({optionTypes:{color:P.b.string},initialize:function(){k.a.prototype.initialize.apply(this,arguments),this.options=O()({},this.options,{color:this.options.color||T.b.skfbBlue})},reset:function(){this._primaryProgress=0,this._secondaryProgress=0},handleLoading:function(e){e.scene.on("primary-progress",function(e){if(this.setPrimaryProgress(e.progress),Object(M.a)().isApp){var t=R.createMessage({data:{progress:e.progress+""}});this.previousMessage&&this.previousMessage.removeFromHash(),t.appendToHash(),this.previousMessage=t}}.bind(this)),e.scene.on("secondary-progress",function(e){this.setSecondaryProgress(e.progress)}.bind(this)),e.scene.on("success",function(){this.viewer.$el.removeClass("model-loading").addClass("model-loaded"),e.model.trigger("status:loaded"),this.trigger("loaded")}.bind(this)),e.scene.on("fail",function(){j.error("Viewer instanciation failed")}.bind(this))},setPrimaryProgress:function(e){this._primaryProgress=Math.min(Math.max(this._primaryProgress,e),1),this.updateMainProgressBar(),1===this._primaryProgress&&this.setSecondaryProgress(0)},setSecondaryProgress:function(e){this._secondaryProgress=Math.min(Math.max(0,e),1),this.updateSecondaryProgressBar()},updateMainProgressBar:function(){var e=this._primaryProgress,t=1===e;this.$(".main-progress").toggleClass("loading",!t),this.$(".main-progress-display__progress").css({width:100*e+"%",backgroundColor:this.options.color}),this.$(".main-progress-percentage").text(Math.floor(100*e)+" %")},updateSecondaryProgressBar:function(){var e=this._secondaryProgress;this.$(".secondary-progress-percentage").text(Math.floor(100*e)+" %"),this.$(".secondary-progress-display").css("width",100*e+"%");var t=1===this._primaryProgress,n=1===e;this.$(".secondary-progress").toggleClass("visible",t&&!n)}}),A=k.a.extend({initialize:function(){k.a.prototype.initialize.apply(this,arguments),this.$hint=this.$(".viewer-hint"),this.$hint.find(".viewer-movehint .label").html(this.moveHintTemplate()),this.options.fallback&&this.$hint.addClass("fallback-position")},show:function(e){e=Object(i.defaults)(Object(i.extend)({},e),{force:!1});var t=1===d.a.get("sf_show_viewer_hint",1),n=Object(M.a)().uiHint;2===n&&(e.force=!0),(e.force||1===n&&t)&&this.$hint.addClass("active")},hide:function(e){e=Object(i.defaults)(Object(i.extend)({},e),{remember:!0}),this.$hint.removeClass("active"),e.remember&&d.a.set("sf_show_viewer_hint",0,{expires:15552e6})},moveHintTemplate:function(){return s.a.any?"touch &amp; drag<br>to rotate":"click &amp; hold<br>to rotate"}}),F=n(164),D=n(86),N=Object(i.template)(['<div class="setting" data-setting="<%= name %>" data-setting-group="<%= group %>">','   <p class="setting-label"><%= label %></p>',"</div>"].join("")),B=Object(i.template)(['<div class="setting" data-setting="<%= name %>" data-setting-group="<%= group %>" data-setting-type="<%= type %>">','   <p class="setting-label"><%= label %></p>','   <p class="setting-value" data-value="<%= value %>" ><%= prettyValue %></p>',"</div>"].join("")),U=Object(i.template)(['   <a class="control-menu-back back">Back</a>','   <ul class="setting-list" data-setting="<%= name %>" data-setting-type="<%= type %>">',"       <%= listItems %>","   </ul>"].join("")),L=Object(i.template)(['<li class="setting-item <% if (selected) { %>selected<% } %>" data-value="<%= value %>">',"   <%= prettyValue %>",'   <span class="shortcut" title="Keyboard shortcut"><%= shortcut %></span>',"</li>"].join("")),V=k.a.extend({events:{"click .setting":"onSettingClick","touchend .setting":"onSettingClick","click .back":"togglePane","touchend .back":"togglePane","click .setting-item":"onSettingValueClick","touchend .setting-item":"onSettingValueClick",'click [data-setting="viewerMode"] li':"onViewerModeChange",'touchend [data-setting="viewerMode"] li':"onViewerModeChange"},initialize:function(e){if(k.a.prototype.initialize.apply(this,arguments),this.settings=e.settings,this.viewer=e.viewer,Object(i.isEmpty)(this.settings))return console.warn("No settings object given to SettingsMenu"),void this.$el.hide();this.$list=this.$(".control-menu-list"),this.$pane=this.$(".control-menu-pane"),this.$el.on("click touchend",'.wireframe-colors a[data-setting="wireframeColor"]:not(.active)',this.onWireframeColorClick.bind(this)),this.$el.on("click touchend",'.wireframe-colors a[data-setting="wireframeColor"].active',this.onDisableWireframeClick.bind(this)),this.$el.on("click touchend",'.wireframe-colors a[data-setting="wireframeEnable"]',this.onDisableWireframeClick.bind(this)),this.viewer.proxySettings.on("change",this.render.bind(this))},onViewerModeChange:function(e){e&&"touchend"===e.type&&e.preventDefault(),"0"===this.viewer.proxySettings.get("viewerMode")?this.viewer.subviews.osd.show("Click and hold to rotate",{position:"top",duration:3e3}):this.viewer.subviews.osd.show("Mouse to look around, keyboard to move",{position:"top",duration:3e3})},onDisableWireframeClick:function(e){e&&"touchend"===e.type&&e.preventDefault();var t=this.$('.wireframe-colors [data-setting="wireframeEnable"]');m.a.modelViewerWireframeToggleClicked(!1),this.viewer.proxySettings.set("wireframeEnable",!1),t.parent().find(".active").removeClass("active"),t.addClass("active")},onWireframeColorClick:function(e){e&&"touchend"===e.type&&e.preventDefault();var t=o()(e.currentTarget),n=t.attr("data-value");this.viewer.proxySettings.set("wireframeColor",n),this.viewer.proxySettings.set("wireframeEnable",!0),t.parent().find(".active").removeClass("active"),t.addClass("active"),m.a.modelViewerWireframeColorSelected(n)},onSettingClick:function(e){e&&"touchend"===e.type&&e.preventDefault&&e.preventDefault();var t=o()(e.currentTarget).attr("data-setting"),n=this.settings[t];if(n.name=t,n.isButton)return this[n.action]&&this[n.action](e);this.renderSettingPane(n),this.togglePane(!0)},onSettingValueClick:function(e){e.preventDefault(),e.stopPropagation();var t=o()(e.currentTarget),n=t.attr("data-value"),i=t.closest("[data-setting]"),r=i.attr("data-setting"),a=i.attr("data-setting-type")||"string";switch(r){case"shadingStyle":m.a.modelViewerShadingSelected(n);break;case"viewerMode":m.a.modelViewerViewerModeSelected(n)}switch(a){case"number":n=parseFloat(n);break;case"bool":n="true"===n}this.viewer.proxySettings.set(r,n)},onSettingChangeWhileOpen:function(){this.renderSettingPane(this._currentSetting)},renderSettingPane:function(e){var t,n="",r=this.viewer.proxySettings.get(e.name),o=this.getSettingFromValue(e.name,r),a=this.viewer._currentModel.get("options").shading.type;this._currentSetting&&this.viewer.proxySettings.off("change:"+this._currentSetting.name,this.onSettingChangeWhileOpen,this),this._currentSetting=e,this._currentSetting&&this.viewer.proxySettings.on("change:"+this._currentSetting.name,this.onSettingChangeWhileOpen,this),"shadingStyle"===e.name&&"lit"!==a||Object(i.each)(e.settings,function(e){n+=L({value:e.value,type:e.type||"string",prettyValue:e.label,selected:o===e,shortcut:e.shortcut||""})}),t=(e.paneTemplate||U)({listItems:n,name:e.name,type:e.type||"string",viewerSettings:this.viewer.proxySettings.toJSON()}),this.$pane.html(t);var s=this.viewer.scene.getFeatures().webVR.getModel();"viewerMode"!==this._currentSetting.name||s.get("hasNativeHMD")?this.$('[data-value="2"]').show():this.$('[data-value="2"]').hide()},getSettingFromValue:function(e,t){var n;return(this.settings[e].settings||[]).forEach(function(e){e.value!==t&&e.value+""!=t+""||(n=e)}),n},togglePane:function(e,t){var n=this;t&&"touchend"===t.type&&t.preventDefault(),this.$el.toggleClass("detail",e),Object(D.a)(this.$(".control-menu-wrapper")).then(function(){n.$el.hasClass("detail")||n.clearPane()})},clearPane:function(){this.$pane.html("")},render:function(){var e="",t=this.viewer.scene.getFeatures().quality.getModel(),n=this.viewer.scene.getFeatures().hotspot.getModel(),r=this.viewer.scene.getFeatures().animation.getModel(),o=[];Object(i.each)(this.settings,function(e,t){var n=Object(i.clone)(e);n.name=t,o.push(n)}),o=Object(i.sortBy)(o,"order"),Object(i.each)(o,function(t){var n,i=t.name;if(t.isButton)n=N({name:i,label:t.label,group:t.group});else{var r=this.getSettingFromValue(i,this.viewer.proxySettings.get(i))||t.settings[0];n=B({name:i,label:t.label,value:r.value,prettyValue:r.label,group:t.group,type:r.type})}e+=n}.bind(this)),this.$list.html(e),k.a.prototype.render.apply(this,arguments),r&&r.get("animations").length?this.$('[data-setting-group="animation"]').show():this.$('[data-setting-group="animation"]').hide(),t&&t.get("promiseReady").isFulfilled()?this.$('[data-setting-group="textureQuality"]').show():this.$('[data-setting-group="textureQuality"]').hide(),n&&n.get("hotspots").length?this.$('[data-setting-group="annotation"]').show():this.$('[data-setting-group="annotation"]').hide(),t&&t.get("promiseReady").isFulfilled()&&window.requestAnimationFrame(function(){var e=this.getSettingFromValue("textureQuality",t.get("level"));this.$('[data-setting="textureQuality"] .setting-value').attr("data-value",e.value).text(e.label)}.bind(this))},onTextureQualityReady:function(e){var t=this.viewer.scene.getFeatures().quality;if(t)if(e.low||e.mid||e.high){var n=t.getModel().get("level");this.viewer.proxySettings.set("textureQuality",n),this.render()}else this.$('[data-setting="textureQuality"]').remove()}}),$=n(8),G=n(7),z=n(139),H=n(59),W=n(10),q=W.a.shortcuts;Object(M.a)().uiInspector?(q.inspectorControl.shortcuts[0].keyCombinations="1",q.inspectorControl.shortcuts[1].keyCombinations="2",q.inspectorControl.shortcuts[2].keyCombinations="3",q.inspectorControl.shortcuts[3].keyCombinations="4",q.inspectorControl.shortcuts[4].keyCombinations="6",q.viewerRendering.shortcuts[0].keyCombinations="",q.viewerRendering.shortcuts[1].keyCombinations="",q.viewerRendering.shortcuts[2].keyCombinations="",q.viewerRendering.shortcuts[3].keyCombinations="5"):(q.inspectorControl.shortcuts[0].keyCombinations="",q.inspectorControl.shortcuts[1].keyCombinations="",q.inspectorControl.shortcuts[2].keyCombinations="",q.inspectorControl.shortcuts[3].keyCombinations="",q.inspectorControl.shortcuts[4].keyCombinations="");var Y=new b.a(q.viewerRendering),K=function(e){var t=g.default.getFromString('<a           class="{{ className }} {{ "active" if isActive else "" }}"           data-setting="{{ dataSetting }}"           data-value="{{ dataValue }}"           title="{{ title }}">        </a>');return g.default.getFromString('<p class="wireframe-title">        Wireframe         <span class="shortcut" title="Keyboard shortcut">           {{ shortcut | safe }}        </span>        </p>        <div class="wireframe-colors">           {{ colorItems | safe }}        </div>')({shortcut:Y.getShortDescriptionById("toggleWireframe"),colorItems:[{title:"Off",className:"colors-none",dataSetting:"wireframeEnable",dataValue:"0"},{title:"Black",className:"colors-black",dataSetting:"wireframeColor",dataValue:"000000FF"},{title:"White",className:"colors-white",dataSetting:"wireframeColor",dataValue:"ffffffFF"},{title:"Red",className:"colors-red",dataSetting:"wireframeColor",dataValue:"ff0000FF"},{title:"Blue",className:"colors-blue",dataSetting:"wireframeColor",dataValue:"0000FFFF"},{title:"Green",className:"colors-green",dataSetting:"wireframeColor",dataValue:"00FF00FF"},{title:"Yellow",className:"colors-yellow",dataSetting:"wireframeColor",dataValue:"FFFF00FF"}].map(function(n){return t(O()({},n,{isActive:e.wireframeColor===n.dataValue}))}).join("")})},J={};Object(M.a)().uiInspector||(J.shadingStyle={label:"Rendering",settings:[{label:"Lit",value:"lit",shortcut:Y.getShortDescriptionById("defaultRenderingMode")},{label:"Shadeless",value:"shadeless",shortcut:Y.getShortDescriptionById("shadelessRenderingMode")},{label:"MatCap",value:"matcap",shortcut:Y.getShortDescriptionById("matcapRenderingMode")}],paneTemplate:function(e){var t=e.viewerSettings.hasWireframe,n=e.viewerSettings.wireframeColor;return g.default.getFromString('    <div class="setting-list-header">               <a class="back control-menu-back">Back</a>               <span class="setting-list-header-help">Key</span>           </div>            <ul class="setting-list" data-setting="{{ name }}">                {{ listItems | safe }}            </ul>            {{ wireframe | safe }}',O()({},e,{wireframe:t?K({wireframeColor:n}):""}))},order:2});var Q=k.a.extend({events:{"click .help":"onHelpClick","click .vr":"onVrClick","click .fullscreen":"onFullscreenClick","click .theatre":"onTheatreClick","touchend .control.tooltip":"replaceDOMElement"},constructor:function(){this.fullScreenChange=this.fullScreenChange.bind(this),this.onVrClick=this.onVrClick.bind(this),this.onFullscreenClick=this.onFullscreenClick.bind(this),this.onTheatreClick=this.onTheatreClick.bind(this),k.a.prototype.constructor.apply(this,arguments)},initialize:function(){k.a.prototype.initialize.apply(this,arguments),this.enableVR=!1,this.wasClicked=this.$el.parents(".model-container").hasClass("theatre"),!z.a.hasFullscreen()&&Object(F.default)()&&window.self===window.top&&(this.viewer.$el.addClass("no-fullscreen"),this.viewer.$el.find(".controls .settings").addClass("shift-menu-left")),this.initializeTheatreMode(),this.viewer.on("model-loaded",this.updateNavigationSettings.bind(this)),this.generalControlsShortcuts=new b.a(q.generalControls),this.generalControlsShortcuts.on("fullscreen",this.onToggleFullScreen,this),this.generalControlsShortcuts.listen([this.generalControlsShortcuts.getShortcut("fullscreen")])},delegateEvents:function(){k.a.prototype.delegateEvents.apply(this,arguments),this.onFullScreenChange(this.fullScreenChange),this.viewer.proxySettings.on("change",this.renderSettings,this),this.viewer.on("model-loaded",this.setModelListeners.bind(this))},undelegateEvents:function(){if(k.a.prototype.undelegateEvents.apply(this,arguments),!this.$el)return this;this.offFullScreenChange(this.fullScreenChange),this.viewer.proxySettings.off("change",this.renderSettings,this),this.viewer.on("model-loaded",this.removeModelListeners.bind(this))},setModelListeners:function(){this.viewer.scene.getFeatures().animation.getModel().get("animations").on("add remove reset",this.renderSettings,this);var e=this.viewer.scene.getFeatures().camera.getModel();this.listenTo(e,"change:useCameraConstraints",this.updateNavigationSettings.bind(this))},removeModelListeners:function(){this.viewer.scene.getFeatures().animation.getModel().get("animations").off("add remove reset",this.renderSettings,this);var e=this.viewer.scene.getFeatures().camera.getModel();this.stopListening(e,"change:useCameraConstraints",this.updateNavigationSettings.bind(this))},setHasAnimations:function(e){this.hasAnimations=e},getSettingLabelForValue:function(e,t){return Object(i.find)(J[e].settings,function(e){return e.value===t}).label},getEmbedUrl:function(e){var t=$.c.craft(O()({},Object(H.a)(location.search),e));return this.viewer._currentModel.get("embedUrl")+"?"+t},onHelpClick:function(e){e.preventDefault(),e.stopPropagation(),m.a.modelViewerHelpButtonCliked(),this.viewer.subviews.helpOverlay.show()},generateTextureQualitySettings:function(e){J.textureQuality={label:"Textures",group:"textureQuality",settings:[{label:"LD",value:"0"},{label:"SD",value:"1"},{label:"HD",value:"2"}],order:5};var t=0;["low","mid","high"].forEach(function(n,i){e[n]||(J.textureQuality.settings.splice(i-t,1),t++)}.bind(this)),Object(i.last)(J.textureQuality.settings).label="HD",this.renderSettings()},updateNavigationSettings:function(){this.viewer.scene.getFeatures().camera.getModel().get("useCameraConstraints")?delete J.viewerMode:J.viewerMode||(J.viewerMode={label:"Navigation",settings:[{label:"Orbit",value:"0"},{label:"First Person",value:"1"}],order:4}),this.renderSettings()},renderSettings:function(){Object(i.isEmpty)(J)?this.$(".control.settings").hide():(this.$(".control.settings").show(),this.settings||(this.settings=new V({el:this.$(".settings-menu"),viewer:this.viewer,settings:J})),this.settings.render())},onVrClick:function(e){e.stopPropagation(),this.widgets.hotspots&&(this.widgets.hotspots.hideTooltips(),this.widgets.hotspots.currentHotspot=-1,this.widgets.hotspots.renderControl());var t=this.viewer.scene.getFeatures().webVR.getModel();void 0!==navigator.getVRDisplays?(t.set("enable",!t.get("enable")),m.a.modelViewerVrButtonClicked("nativeVR")):s.a.any?(this.fullscreenVR(e),m.a.modelViewerVrButtonClicked("mobile")):(this.openVrInstructions(),m.a.modelViewerVrButtonClicked("desktop"))},openVrWindow:function(){this.viewer._currentModel&&window.open(this.getEmbedUrl({cardboard:1,autostart:1}),"skfbCardboard","menubar=no,toolbar=no")},openVrInstructions:function(){this.viewer._currentModel.sharing().then(function(){var e=this.viewer._currentModel.get("sharing").shortUrl;this.viewer.subviews.helperVrOverlay.setUrl(e),this.viewer.subviews.helperVrOverlay.show()}.bind(this))},initializeTheatreMode:function(){this._theatreActive="false"!==d.a.get("sb_theatre_mode","false")},isTheatreActive:function(){return this._theatreActive},onTheatreClick:function(e){e.stopPropagation(),e.preventDefault();var t=this.isTheatreActive(),n=G.a.me().get("isAnonymous")&&!this.wasClicked;return this.wasClicked=!0,this.viewer.trigger(t&&!n?"leaveTheatreMode":"enterTheatreMode"),d.a.set("sb_theatre_mode",!t),this._theatreActive=!t,!1},onFullscreenClick:function(e,t){e.stopPropagation(),this.onToggleFullScreen(t)},onToggleFullScreen:function(e){if(z.a.hasFullscreen()){var t=z.a.isFullscreen();m.a.modelViewerFullscreenButtonClicked(!t),t?z.a.exitFullscreen():z.a.requestFullscreen(this.viewer.el)}else e?this.openVrWindow():this.openFakeFullscreen()},openFakeFullscreen:function(){this.viewer._currentModel&&(s.a.any?window.open(this.getEmbedUrl()):window.open(this.getEmbedUrl(),"skfbFullscreenFallback","menubar=no,toolbar=no"))},onFullScreenChange:function(e){z.a.onFullScreenChange(e)},offFullScreenChange:function(e){z.a.offFullScreenChange(e)},fullScreenChange:function(){o()('[data-action="fullscreen"] > .icon').toggleClass("icon-fullscreen-icon").toggleClass("icon-fullscreen-off-icon"),this.viewer.$el.toggleClass("fullscreen",z.a.isFullscreen()),this.viewer.scene.trigger("resizeViewerOnNextFrame",-1,-1);var e=this.viewer.scene.getFeatures().webVR;if(e){var t=e.getModel();z.a.isFullscreen()?!0===this.enableVR&&t.set("enable",!0):!0===this.enableVR&&(t.set("enable",!1),this.enableVR=!1)}},fullscreenVR:function(e){return this.enableVR=!0,this.onFullscreenClick(e,!0)},replaceDOMElement:Object(i.debounce)(function(e){var t=e.target.parentElement,n=e.target.nextSibling;t&&(t.removeChild(e.target),Object(i.defer)(function(){t.insertBefore(e.target,n)}))},2e3)}),X=k.a.extend({events:{"click .close":"close"},close:function(e){e&&e.preventDefault&&e.preventDefault()}}),Z=n(5),ee=n.n(Z),te=n(336),ne=n(390),ie=n(49),re=n(270),oe=E.a.osg,ae=k.a.extend({events:{"mouseover .snapshot .button":"showGuides","mouseout .snapshot .button":"hideGuides"},initialize:function(){k.a.prototype.initialize.apply(this,arguments),this.$el.find(".snapshot .button").on("click",this.onSnapshot.bind(this))},onSnapshot:function(e){var t=this.viewer.scene;e.preventDefault();var n=this.$el.find(".snapshot"),i=this.$el.find(".snapshot-flash"),r=this.$el.find(".img-container");if(!n.hasClass("progress")){n.addClass("progress"),i.addClass("active"),setTimeout(function(){i.removeClass("active")},2e3);var o=!0,a=t.getFeatures();if(a.camera){a.camera.getModel().saveCameraPosition();var s=t.getFeatures().saveUI;s||((s=new ne.a).init(t.getFeaturesManager()._context),s._views[0].enableSaving()),o=s._views[0].save()}ee.a.all([t.getScreenShot(1920,1080),o]).then(this.onTakeScreenshot.bind(this,n,r))}},onTakeScreenshot:function(e,t,n){var i=n[0].toDataURL("image/jpeg"),r=Object(re.a)(i),o=new te.a({imageFile:r}),a=this.viewer._currentModel,s=o.save({modelUID:a.get("uid")}),u=t.find("img");u&&(u.remove(),null!==this.previewTimeout&&(window.clearTimeout(this.previewTimeout),this.previewTimeout=null));var l=new Image;l.src=i,t.prepend(l),t.removeClass("invisible"),this.previewTimeout=setTimeout(function(){t.addClass("invisible")},4e3),s.then(function(){e.removeClass("progress"),e.addClass("success"),setTimeout(function(){e.removeClass("success")},2e3)}).catch(function(){new ie.default({title:"Save settings error",text:"An unexpected error happened. The thumbnail has NOT been saved.",buttons:{ok:!0}}).open(),oe.error("Error while saving snapshot"),e.removeClass("progress")})},showGuides:Object(i.debounce)(function(){this.$(".snapshot-guides").addClass("active")},100),hideGuides:Object(i.debounce)(function(){this.$(".snapshot-guides").removeClass("active")},100)}),se=n(217),ue=n(78),le=W.a.shortcuts,ce=se.a.extend({displayName:"HelpOverlay",mixins:[Object(ue.a)(".tabs-container")],events:{"click .tabs a":"onTabClick","touchstart .tabs a":"onTabClick",'click [data-action="reset-camera"]':"onResetCameraClick",'touchstart [data-action="reset-camera"]':"onResetCameraClick"},initialize:function(){se.a.prototype.initialize.apply(this,arguments),this.renderingShortcuts=new b.a(le.viewerRendering),this.annotationShortcuts=new b.a(le.annotationControl),this.animationShortcuts=new b.a(le.animationControl),this.render()},onResetCameraClick:function(e){e.preventDefault(),m.a.modelViewerResetCameraButtonClicked(),this.hide(),this.viewer.scene.getFeaturesManager().focusOnSavedCamera(2),Object(i.defer)(function(e){e.target.blur()},e)},render:function(){var e=this.renderingShortcuts.generateHelpSection(),t=this.annotationShortcuts.generateHelpSection(),n=this.animationShortcuts.generateHelpSection();this.$(".rendering-shortcuts").html(e),this.$(".annotation-shortcuts").html(t),this.$(".animation-shortcuts").html(n)},onTabClick:function(e){e.preventDefault();var t=o()(e.currentTarget),n=t.attr("data-target"),i=this.$("[data-tab].active"),r=this.$('[data-tab="'+n+'"]');m.a.modelViewerHelpTabClicked(n),this.$(".tabs li").removeClass("active"),t.parent().addClass("active"),i.removeClass("active"),r.addClass("active")}}),de=n(183),fe=se.a.extend({mixins:[de.a,Object(ue.a)(".js-scrollable")],events:{"click .tabs a":"onTabClick",'click [data-action="reset-camera"]':"onResetCameraClick"},setModel:function(e){this.model=e,this.render()},render:function(){this.model&&(this.$(".hotspot-title").html(this.model.get("name")),this.$(".hotspot-content").html(this.model.get("content").rendered))}}),he=n(4),pe=n.n(he),ge=n(239),me=n(51),ve=(n(441),me.a.extend({displayName:"SwitchButton",optionTypes:{isChecked:P.b.bool.isRequired,onChange:P.b.func.isRequired,prepopulated:P.b.bool,disabled:P.b.bool,name:P.b.string},defaultOptions:{prepopulated:!1,disabled:!1,name:""},events:{click:function(e){e.preventDefault(),this.options.onChange(!this.options.isChecked)}},initialize:function(){me.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.options.onChange(this.refs.$input.prop("checked"))},template:function(){return g.default.getFromMacro("skfb_front/macros/components/atoms/switch-button","switch_button",[{isChecked:this.options.isChecked,name:this.options.name,disabled:this.options.disabled}])}})),be=(n(532),me.a.extend({displayName:"LabelSwitchButton",optionTypes:{isChecked:P.b.bool.isRequired,onChange:P.b.func.isRequired,label:P.b.string,error:P.b.string,attrs:P.b.object},defaultOptions:{attrs:{}},template:function(){var e=this.options.isTouched&&!!this.options.error;return g.default.getFromMacro("skfb_front/macros/components/molecules/label-switch-button","label_switch_button",[{label:this.options.label,error:e?this.options.error:"",components:this.createChildrenComponents({switchButton:{viewClass:ve,options:O()({},this.options,{attrs:{classNames:O()({"--error":e},this.options.attrs.classNames)}})}})}])}})),we=W.a.shortcuts,ye={render:{title:"Render ("+we.inspectorControl.shortcuts[0].keyCombinations+")",displayViews:[{text:"Final Render",icon:"icon-final-render",value:"Default",has2dView:!1},{text:"No Post-Processing",icon:"icon-final-render",value:"DefaultNoPostProcess",has2dView:!1}]},animation:{title:"Animation ("+we.inspectorControl.shortcuts[4].keyCombinations+")",displayViews:[{text:"Bones",icon:"icon-bones",value:"Bones",has2dView:!0},{text:"Bones Influence",icon:"icon-influences",value:"BoneWeights",has2dView:!0}]},materials:{title:"Material channels ("+we.inspectorControl.shortcuts[1].keyCombinations+")",displayViews:[{text:"Albedo",icon:"icon-diffuse",value:"DiffusePBR",has2dView:!0},{text:"Base Color",icon:"icon-diffuse",value:"AlbedoPBR",has2dView:!0},{text:"Diffuse",icon:"icon-diffuse",value:"DiffuseColor",has2dView:!0},{text:"Specular",icon:"icon-specular",value:"SpecularPBR",has2dView:!0},{text:"Metalness",icon:"icon-metalness",value:"MetalnessPBR",has2dView:!0},{text:"Specular Color",icon:"icon-specular",value:"SpecularColor",has2dView:!0},{text:"Glossiness",icon:"icon-roughness",value:"GlossinessPBR",has2dView:!0},{text:"Roughness",icon:"icon-roughness",value:"RoughnessPBR",has2dView:!0},{text:"Specular Glossiness",icon:"icon-specular",value:"SpecularHardness",has2dView:!0},{text:"Scattering",icon:"icon-subsurface",value:"SubsurfaceScattering",has2dView:!0},{text:"Translucency",icon:"icon-subsurface",value:"SubsurfaceTranslucency",has2dView:!0},{text:"Normal Map",icon:"icon-normal-map",value:"NormalMap",has2dView:!0},{text:"Bump Map",icon:"icon-normal-map",value:"BumpMap",has2dView:!0},{text:"AO map",icon:"icon-AO",value:"AOPBR",has2dView:!0},{text:"Cavity",icon:"icon-AO",value:"CavityPBR",has2dView:!0},{text:"Lightmap",icon:"icon-lightmap",value:"DiffuseIntensity",has2dView:!0},{text:"Displacement",icon:"icon-displacement",value:"Displacement",has2dView:!0},{text:"Opacity",icon:"icon-transparency",value:"Opacity",has2dView:!0},{text:"Emission",icon:"icon-emission",value:"EmitColor",has2dView:!0},{text:"Specular F0",icon:"icon-specular",value:"SpecularF0",has2dView:!0},{text:"Vertex Color",icon:"icon-diffuse",value:"VertexColor",has2dView:!0},{text:"Vertex Alpha",icon:"icon-transparency",value:"VertexAlpha",has2dView:!0},{text:"Clear Coat",icon:"icon-specular",value:"ClearCoat",has2dView:!0},{text:"Clear Coat Roughness",icon:"icon-roughness",value:"ClearCoatRoughness",has2dView:!0},{text:"Clear Coat Normal Map",icon:"icon-normal-map",value:"ClearCoatNormalMap",has2dView:!0}]},geometry:{title:"Geometry ("+we.inspectorControl.shortcuts[2].keyCombinations+")",displayViews:[{text:"Matcap",icon:"icon-final-render",value:"MatcapFlat",has2dView:!1},{text:"Matcap+Surface",icon:"icon-final-render",value:"MatcapDetail",has2dView:!1},{text:"Wireframe",icon:"icon-geometry",value:"Wireframe",has2dView:!0},{text:"Vertex Normals",icon:"icon-vertex-normals",value:"VertexNormal",has2dView:!1}]},uv:{title:"UV ("+we.inspectorControl.shortcuts[3].keyCombinations+")",displayViews:[{text:"UV Checker",icon:"icon-UV",value:"UVChecker",has2dView:!0}]}},Ce=g.default.getFromString('\n        <div class="model-inspector__wireframe">\n            {{ wireframe | safe }}\n        </div>\n        <div class="model-inspector__single-sided-button"></div>\n        {{ components.singleSidedButton | component }}\n        {% if inspectableTextures or isStaff %}\n            <div class="mode__title">Viewport{%if not inspectableTextures and isStaff %} (Staff only){% endif %}</div>\n            <div class="toggle-button{%if not inspectableTextures and isStaff %} --staff{% endif %}">\n                <span class="toggle-button__option">\n                    <input type="radio" name="splitType" data-value="3d" id="splitType-3d">\n                    <label for="splitType-3d">3D</label>\n                </span>\n                <span class="toggle-button__option">\n                    <input type="radio" name="splitType" data-value="split" id="splitType-split">\n                    <label for="splitType-split">3D + 2D</label>\n                </span>\n                <span class="toggle-button__option">\n                    <input type="radio" name="splitType" data-value="2d" id="splitType-2d">\n                    <label for="splitType-2d">2D</label>\n                </span>\n            </div>\n        {% endif %}\n       {% for category, mode in modes %}\n            {% if mode.displayViews %}\n                <div class="mode__title">{{ mode.title }}</div>\n            {% endif %}\n            <ul>\n                {% for button in mode.displayViews %}\n                    <li                        class="mode {{ "selected" if button.value == active else "" }}" data-mode="{{ mode.title }}" data-value="{{ button.value }}"\n                        style="{{ button.style }}"\n                    >\n                        <i class="mode__icon custom-icons {{ button.icon }}"></i>\n                        <span>{{ button.text }}</span>\n                    </li>\n                    {% endfor %}\n            </ul>\n       {% endfor %}\n    '),Se=["displayView","material","splitType","texCoord","forceSingleSided"],ke={displayView:"Default",forceSingleSided:!1,splitType:"3d"},xe=k.a.extend({mixins:[Object(ue.a)(".js-scrollable")],children:{singleSidedButton:{selector:".model-inspector__single-sided-button",viewClass:be,options:function(){var e=this;return{label:"Single Sided",isChecked:Boolean(this.model.get("forceSingleSided")),onChange:function(t){return e.model.set("forceSingleSided",t)}}}},materialSelector:{selector:".model-inspector__2D-options .model-inspector__material-options",viewClass:ge.a,shouldCreateChild:function(){return this.canInspectTextures()},options:function(){var e=this;return{theme:"dark",value:this.model.get("material").toString(),onChange:function(t){return e.model.set("material",t)},options:this.model.get("materialList").filter(function(e){return!e.uidUniqueMerged}).map(function(e){var t=e.uidListUnusedDuplicates.length?"Merged ("+e.name+", ...)":e.name;return{title:this.model.materialHasTextureInView2d(e.uid)?t:t+" (no texture)",value:e.uid}}.bind(this)).sort(function(e,t){return e.title<t.title?-1:e.title>t.title?1:void 0}),closeOnSelection:!1,autoScale:!0}}},UVSelector:{selector:".model-inspector__2D-options .model-inspector__UV-options",viewClass:ge.a,shouldCreateChild:function(){return this.canInspectTextures()&&this.model.getCurrentUVs().length>1},options:function(){return{theme:"dark",value:this.model.get("texCoord").toString(),onChange:function(e){this.model.set("texCoord",e)}.bind(this),options:this.model.getCurrentUVs().sort(function(e,t){return e-t}).map(function(e){return{title:"UV "+e.toString(),value:e.toString()}}),closeOnSelection:!1,autoScale:!0}}}},events:{"click .mode":"onSelectDisplayView","click .model-inspector__minimize":"toggleVisibility",'click [name="splitType"]':"onSelectSplitType","click [data-setting]":"changeWireframe"},initialize:function(){k.a.prototype.initialize.apply(this,arguments),this.initializeShortcuts(),this.updateModes(),this.updateSavedState(),this._selectors=this.$(".model-inspector__2D-options"),this.render(),this._selectors.css({visibility:"hidden"})},delegateEvents:function(){k.a.prototype.delegateEvents.apply(this,arguments),this.model.on("change:displayView",this.updateDisplayViewUI,this),this.model.on("change:material change:texCoord change:displayView change:forceSingleSided",this.renderChildren,this),this.model.on("change:material change:displayView change:splitType",this.update2DView,this),this.model.on("change:availableDisplayView",this.updateAvailableDisplayView,this),this.model.on("change:uiVisible",this.show,this)},undelegateEvents:function(){k.a.prototype.undelegateEvents.apply(this,arguments),this.model.off("change:displayView",this.updateDisplayViewUI,this),this.model.off("change:material change:texCoord change:displayView change:forceSingleSided",this.renderChildren,this),this.model.off("change:material change:displayView change:splitType",this.update2DView,this),this.model.off("change:availableDisplayView",this.updateAvailableDisplayView,this),this.model.off("change:uiVisible",this.show,this)},updateModes:function(){var e=this.model.get("availableDisplayView");this.modes=Object(i.reduce)(ye,function(t,n,r){var o=n.displayViews.filter(function(t){return-1!==e.indexOf(t.value)});if(0===o.length)return t;var a=Object(i.extend)({},n,{displayViews:o});return t[r]=a,t},{}),this.modeNamesWith2d=Object(i.reduce)(this.modes,function(e,t){var n=t.displayViews.filter(function(e){return e.has2dView}).map(function(e){return e.value});return e.concat(n)},[])},changeWireframe:function(e){var t=e.currentTarget.dataset.setting,n=e.currentTarget.dataset.value;if("wireframeEnable"===t){var i=!this.options.wireframeModel.get("wireframeEnable");return m.a.modelViewerWireframeToggleClicked(i),this.options.wireframeModel.set("wireframeEnable",i)}m.a.modelViewerWireframeColorSelected(n),this.options.wireframeModel.set("wireframeEnable",!0),this.options.wireframeModel.set(t,n)},onSelectDisplayView:function(e){var t=e.currentTarget.getAttribute("data-mode"),n=e.currentTarget.getAttribute("data-value");m.a.inspectorDisplayViewClicked(t,n),this.model.set("displayView",n)},canInspectTextures:function(){return this.options.inspectableTextures||G.a.me().get("isStaff")},_currentModeHas2dView:function(){var e=this.model.get("displayView");return-1!==this.modeNamesWith2d.indexOf(e)},_getDisplayViewLabel:function(){return this.$el.find("[data-value="+this.model.get("displayView")+"]").text().trim()},updateDisplayViewUI:function(){this.$el.find(".selected").removeClass("selected"),this.$el.find("[data-value="+this.model.get("displayView")+"]").addClass("selected")},updateAvailableDisplayView:function(){this.updateModes(),-1===this.model.get("availableDisplayView").indexOf(this._savedState.displayView)&&(this._savedState.displayView="Default"),this.render()},update2DView:function(){if(this.canInspectTextures())if(this.updateSelectorsUI(),"3d"===this.model.get("splitType")||this.model.materialHasContentInView2d(this.model.get("material")))this.$el.find(".model-inspector__empty-2d-view").text("");else{var e=this.model.get("materialByUid")[this.model.get("material")].name,t=this.$el.find(".model-inspector__empty-2d-view"),n="2d"===this.model.get("splitType")?"50%":"25%",i="";i=this._currentModeHas2dView()?"No data in "+e+"/"+this._getDisplayViewLabel():"2D view isn't available for "+this._getDisplayViewLabel()+".<br>Select a Material Channel to view textures.",t.html(i).css("right",n)}},updateSelectorsUI:function(){"3d"!==this.model.get("splitType")&&this._currentModeHas2dView()?this._selectors.css({visibility:"visible"}):this._selectors.css({visibility:"hidden"})},onSelectSplitType:function(e){this.canInspectTextures()&&(m.a.inspectorSplitTypeClicked(e.currentTarget.getAttribute("data-value")),this.model.set("splitType",e.currentTarget.getAttribute("data-value")))},initializeShortcuts:function(){var e=new b.a(we.inspectorControl),t=this.onShortcut.bind(this),n=function(){m.a.modelViewerInspectorShortcut(),this.toggle()}.bind(this);e.on("render materials geometry uv animation",t),e.on("inspector",n),e.listen()},onShortcut:function(e){var t=this.modes[e.id],n=this._savedState.displayView,r=(Object(i.findIndex)(t.displayViews,function(e){return e.value===n})+1)%t.displayViews.length,o=t.displayViews[r];this.model.get("uiVisible")?this.options.osd.hide():Object(p.a)()?this.model.set("uiVisible",!0):this.options.osd.show(o.text,{duration:1e3}),m.a.inspectorModeShortcut(t.title,o.value),this.model.set("displayView",o.value),this.updateSavedState()},close:function(){this.$el.removeClass("--show"),this.updateSavedState(),this.model.set(ke)},show:function(e,t){this.$el.toggleClass("--show --open",t)},restoreState:function(){this.model.set(this._savedState)},updateSavedState:function(){var e=this;this._savedState=Se.reduce(function(t,n){return O()({},t,pe()({},n,e.model.get(n)))},{})},toggle:function(){this.model.get("uiVisible")?(this.model.set("uiVisible",!1),this.close()):(this.model.set("uiVisible",!0),this.restoreState())},toggleVisibility:function(){m.a.inspectorUIVisibilityToggleClicked(),this.$el.toggleClass("--open")},render:function(){var e=this.viewer.proxySettings.get("setting.name");this.$(".model-inspector__modes").html(Ce({inspectableTextures:this.options.inspectableTextures,modes:this.modes,active:this.model.get("displayView"),wireframe:K({wireframeColor:e}),isStaff:G.a.me().get("isStaff")})),this.renderChildren(),this.afterRender()},afterRender:function(){this.$('[data-value="'+this.model.get("splitType")+'"]').prop("checked",!0)}}),_e=k.a.extend({events:{"click .osd":"hide"},show:function(e,t){this.osdTimeout&&window.clearTimeout(this.osdTimeout),t=Object(i.extend)({position:"center"},t);var n=this.$(".osd");n.find(".osd-content").html(e),n.addClass("active"),n.removeClass("osd-top osd-center"),n.addClass("osd-"+t.position),t.duration&&(t.duration=Math.max(0,t.duration),t.duration!==1/0&&(this.osdTimeout=setTimeout(this.hide.bind(this),t.duration)))},hide:function(){this.$(".osd").removeClass("active")}}),Oe=n(337),Ee=k.a.extend({_isHover:!1,events:{touchstart:"onTouchStart",mousedown:"onClick",mouseover:"onMouseover",mouseout:"onMouseout",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},initialize:function(){k.a.prototype.initialize.apply(this,arguments),this.previousValue=null,this._touched=!1,this.$icon=this.$(".fa"),this.listenTo(this.model,"change:volume",this.render.bind(this)),this.render(),this.$volumeMenu=this.$(".volume-menu"),this.slider=new Oe.a(void 0,{model:this.model,global:!0,orientation:"vertical"}),this.$volumeMenu.append(this.slider.$el),this.initializeShortcuts()},delegateEvents:function(){k.a.prototype.delegateEvents.apply(this,arguments),o()(window).on("mouseup.delegateEvents"+this.cid,this.onVolumeInteractionEnd.bind(this)),o()(window).on("touchend.delegateEvents"+this.cid,this.onVolumeInteractionEnd.bind(this))},undelegateEvents:function(){k.a.prototype.undelegateEvents.apply(this,arguments),o()(window).off(".delegateEvents"+this.cid)},initializeShortcuts:function(){this.soundControlShortcuts=new b.a(W.a.shortcuts.sound),this.soundControlShortcuts.on("mute",this.toggleMute.bind(this)),this.soundControlShortcuts.listen()},onTouchStart:function(){this._touched=!0},onClick:function(e){e.preventDefault();var t=o()(e.target);t.is(".volume-menu")||t.parents(".volume-menu").length||this.toggleMute()},onMouseEnter:function(){this._isHover=!0},onMouseLeave:function(){this._isHover=!1},toggleMute:function(){this.slider.onoff()},togglePane:function(e){this.$el.toggleClass("--active",e)},onMouseover:function(){this._touched?this._touched=!1:this.togglePane(!0)},onMouseout:function(){!1===this.slider.started&&this.togglePane(!1)},onVolumeInteractionEnd:function(){this.model.get("enable")&&(this._isHover||this.togglePane(!1))},show:function(){this.viewer.$el.addClass("sound-enabled")},hide:function(){this.viewer.$el.removeClass("sound-enabled")},render:function(){var e=this.model.get("volume");return this.$icon.toggleClass("fa-volume-up",e>=.5),this.$icon.toggleClass("fa-volume-down",e>0&&e<.5),this.$icon.toggleClass("fa-volume-off",0===e),this}}),Me=n(324),Pe=n(64),Te=n(429),je=n(306),Re=n(118),Ie=n(240),Ae=(n(359),W.a.shortcuts),Fe=new l.a({device:"WEB",listen:!0});t.a=c.a.extend({subviews:{},events:{'click [data-action="start"]':"onStart",'click [data-action="stop"]':"onStop",click:"globalCloseEvent",touchend:"globalCloseEvent",'click [data-action="inspector"]':"toggleInspector"},templates:{viewerMode:g.default.getFromMacro("skfb_front/macros/viewer","help_viewer_mode"),viewerVr:g.default.getFromMacro("skfb_front/macros/viewer","help_vr_mode")},initialize:function(){c.a.prototype.initialize.apply(this,arguments),this.proxySettings=new S.a({shadingStyle:null,viewerMode:null,wireframeColor:null,wireframeEnable:null,hasWireframe:null,annotationsVisible:null,textureQuality:null,speed:null,cycleMode:null,fps:null}),this.initializeMandatorySubviews(),this.initializeHashMessages(),this.initializeSoundManager(),this.delegateGlobalMoveEvent(),this.delegateSubviews(),this.isVR()&&s.a.apple.device&&this.hackIosCanvasRender(),s.a.any||!v.a||Object(M.a)().transparent||this.hackDesktopSafariCanvasBackground()},_createSubview:function(e,t,n){return this.subviews[e]=new t(Object(i.extend)({},{viewer:this,widgets:this.subviews},n)),this.subviews[e]},globalCloseEvent:function(e){o()(e.target).hasClass("has-menu")||o()(e.target).parents(".has-menu").length||(this.subviews.hotspots&&this.subviews.hotspots.toggleAnnotationList(!1),this.subviews.gui.closeMenus())},delegateGlobalMoveEvent:function(){var e;Object(p.a)()||(this.el.addEventListener("touchmove",this.preventScroll.bind(this),{passive:!1}),this.$el.on("mousedown touchstart",function(e){"canvas"===e.target.tagName.toLowerCase()&&(clearTimeout(this._showGuiTimeout),clearTimeout(this._hideGuiTimeout),this._hideGuiTimeout=setTimeout(function(){this.$el.addClass("moving")}.bind(this),150))}.bind(this)),this.$el.on("mouseup touchend",function(e){"canvas"===e.target.tagName.toLowerCase()&&(clearTimeout(this._hideGuiTimeout),clearTimeout(this._showGuiTimeout),e.preventDefault(),this._showGuiTimeout=setTimeout(function(){this.$el.hasClass("moving")&&this.$el.removeClass("moving")}.bind(this),500))}.bind(this)),this.$el.on("wheel",function(t){"canvas"===t.target.tagName.toLowerCase()&&(this.$el.addClass("moving"),clearTimeout(e),e=setTimeout(function(){this.$el.removeClass("moving")}.bind(this),300))}.bind(this)),o()(this.el).on("mouseout",function(e){var t=e.relatedTarget||e.toElement;s.a.any||(clearTimeout(this.globalIdleTimeout),this.$el.find(t).length||(this.globalIdleTimeout=setTimeout(this.onGlobalIdleTimeout.bind(this),3500)))}.bind(this)),o()(this.el).on("mouseenter mousein",function(){clearTimeout(this.globalIdleTimeout),(this.$el.hasClass("idle")||this.$el.hasClass("moving"))&&(this.$el.removeClass("idle moving"),Object(i.each)(this.subviews,function(e){e.trigger("idle",!1)}))}.bind(this)))},preventScroll:function(e){if(e.target.classList.contains("canvas"))return e.preventDefault();var t=void 0!==e.target.dataset.hotspotTarget;this.subviews&&this.subviews.helpOverlay&&!this.subviews.helpOverlay.isVisible()&&!t&&e.preventDefault()},onGlobalIdleTimeout:function(){Object(p.a)()||(this.$el.addClass("idle"),Object(i.each)(this.subviews,function(e){e.trigger("idle",!0)}))},initializeMandatorySubviews:function(){this._createSubview("gui",x,{el:this.$el}),this._createSubview("loading",I,{el:this.$(".loading-container"),color:Object(Ie.b)(Object(M.a)().uiColor)}),this._createSubview("hint",A,{el:this.$el,fallback:!Object(h.a)()}),this._createSubview("generalControls",Q,{el:Object(h.a)()?this.$(".general-controls"):this.$(".fallback .controls"),fallback:!Object(h.a)()}),this._createSubview("header",X,{el:this.$(".titlebar")}),this._createSubview("snapshot",ae,{el:this.$el}),this._createSubview("helpOverlay",ce,{el:this.$(".help.overlay")}),this._createSubview("hotspotsOverlay",fe,{el:this.$(".hotspots-overlay")}),this._createSubview("helperVrOverlay",se.a.extend({setUrl:function(e){this.$(".url").attr("href",e).text(e)}}),{el:this.$(".helper-vr-overlay")}),this._createSubview("osd",_e,{el:this.$el})},initShortcuts:function(){this.viewerRenderingShortcuts=new b.a(Ae.viewerRendering),this.viewerRenderingShortcuts.on("toggleWireframe",function(){if(this.proxySettings.get("hasWireframe")){var e=!this.proxySettings.get("wireframeEnable");m.a.modelViewerWireframeShortcut(e),this.proxySettings.set("wireframeEnable",e)}}.bind(this)),this.viewerRenderingShortcuts.on("inspector",this.toggleInspector,this),this.viewerRenderingShortcuts.listen([this.viewerRenderingShortcuts.getShortcut("toggleWireframe"),this.viewerRenderingShortcuts.getShortcut("inspector")]),this.viewerRenderingShortcuts.on("defaultRenderingMode",function(){this.proxySettings.set("shadingStyle","lit")}.bind(this)),this.viewerRenderingShortcuts.on("shadelessRenderingMode",function(){this.proxySettings.set("shadingStyle","shadeless")}.bind(this)),this.viewerRenderingShortcuts.on("matcapRenderingMode",function(){this.proxySettings.set("shadingStyle","matcap")}.bind(this)),this.updateShorcuts()},updateShorcuts:function(){"lit"===this._currentModel.get("options").shading.type||Object(p.a)()?this.viewerRenderingShortcuts.listen([this.viewerRenderingShortcuts.getShortcut("defaultRenderingMode"),this.viewerRenderingShortcuts.getShortcut("shadelessRenderingMode"),this.viewerRenderingShortcuts.getShortcut("matcapRenderingMode")]):this.viewerRenderingShortcuts.stopListening(["defaultRenderingMode","shadelessRenderingMode","matcapRenderingMode"])},blurHotspots:function(){this.subviews.hotspots&&(this.subviews.hotspots.hideTooltips(),this.subviews.hotspots.currentHotspot=-1,this.subviews.hotspots.renderControl())},initializeHashMessages:function(){Object(M.a)().isApp&&Fe.on("message:vrMode",function(e){var t=parseInt(e.data.vrMode,10);this.blurHotspots(),this.scene.getFeatures().webVR.getModel().set("enable",!!t),e.removeFromHash()}.bind(this))},initializeHotspotsSubviews:function(e){var t=this;n.e(25).then(n.bind(null,1902)).then(function(n){var i=n.default,r=t.scene.getFeatures().hotspot.getModel();t._createSubview("hotspots",i,{el:t.$el,model:r,container:t.$(".hotspots"),fallback:!Object(h.a)()}),"function"==typeof e&&e()})},initializeAnimationSubviews:function(e){var t=this;n.e(24).then(n.bind(null,1911)).then(function(n){var i=n.default,r=t.scene.getFeatures().animation.getModel();t._createSubview("animationControls",i,{el:t.$(".animation-controls"),model:r,currentModel:t._currentModel,enabled:!t.isVR()}),"function"==typeof e&&e()})},delegateSubviews:function(){this.isVR()?(this.subviews.gui.disable(),this.subviews.header.disable()):(this.subviews.loading.on("loaded",setTimeout.bind(window,this.subviews.gui.enable.bind(this.subviews.gui),500)),this.subviews.header.enable()),this.subviews.loading.on("loaded",function(){Object(M.a)().transparent||this.$el.addClass("transparent-pattern")}.bind(this))},onStart:function(){this.start(),this._startTracked||(this._startTracked=!0)},start:function(e){this.$el.addClass("started"),!0===e?m.a.modelEmbedAutostart(this._currentUid):m.a.modelEmbedPlayButtonClicked(this._currentUid),this.$el.hasClass("transparent")||this.$el.addClass("transparent-pattern"),this._options&&this.load();var t=this.scene&&this.scene.getViewerOSGJS&&this.scene.getViewerOSGJS();return t&&Pe.a.getHasAnimation().then(function(e){if(e){var n=this.scene.getFeatures().animation.getModel();this._wasPlaying&&(n.set("playing",!0),this._wasPlaying=void 0)}t.run()}.bind(this)),y.a.setEnabled(!0),this.trigger("started"),this},onStop:function(){this.subviews.modelInspector&&(this.subviews.modelInspector.close(),o()(".summary").removeClass("shifted"),o()(".watermark").removeClass("shifted-watermark")),this.stop()},stop:function(){var e=this._currentModel?this._currentModel.get("uid"):this._currentUid;m.a.modelEmbedStopButtonClicked(e),this.$el.removeClass("started");var t=this.scene&&this.scene.getViewerOSGJS&&this.scene.getViewerOSGJS();return t&&(Pe.a.getHasAnimation().then(function(e){if(e){var t=this.scene.getFeatures().animation.getModel();this._wasPlaying=t.get("playing"),this._wasPlaying&&t.set("playing",!1)}}.bind(this)),t.stop()),this.subviews.hotspots&&this.subviews.hotspots.triggerHotspotCycle(!1),y.a.setEnabled(!1),this.trigger("stopped"),this},load:function(){if(this._options){var e=this._options;this._options=null,this.scene&&(this.scene.drop(),this.scene=null),this.subviews.loading.reset(),this.$el.removeClass("model-loaded"),this.$el.addClass("model-loading"),S.a.get(e.uid).then(this.onModelLoad.bind(this,e))}},lookat:function(e,t,n){void 0===n&&(n=1);var i=this.scene.getFeatures().camera.getModel();i.set("animationDuration",n),i.setTargetAndEye(t,e)},isVR:function(){return this.scene?this.scene.getFeatures().webVR.getModel().get("enable"):Object(M.a)().cardboard>0},isCardboard:function(){return Object(M.a)().cardboard>0},onModelLoad:function(e,t){Re.a.client.configureScope(function(e){e.setTag("frontend","3d")}),this._currentModel=t,t.hit();var n=this.scene=this.createScene(t,e);this.subviews.loading.handleLoading({model:t,scene:n}),n.run(),Object(h.a)()?(this.initShortcuts(),this.initViewerFeatures(),this.subviews.hint.show(),this.trigger("model-loaded"),Re.a.client.configureScope(function(e){e.setTag("frontend","web")})):this.$el.addClass("fallback-mode")},errorHandler:function(e){if(e instanceof f.c){var t,n,r,o,a,s=Object(C.e)(e.account);switch(e.feature){case"sound":n="sound track",r="sounds",a=Object(C.b)(e.account);break;case"hotspot":n="annotation",r="annotations",a=Object(C.a)(e.account);break;default:throw e}a?(o=["You have reached the maximum number of <b>"+n+"s</b> allowed by Sketchfab.","Have custom needs?"],t={href:"mailto:{{ ENTERPRISE_ADDRESS }}?Subject=Custom needs - "+n,text:"Contact us"}):(o=["You have reached the maximum number of <b>"+e.limitReached+" "+n+w.pluralize(e.limitReached)+"</b> allowed by your plan.","To add a new "+n+", you need to upgrade to "+s+" plan."],t={href:"/plans",text:"Upgrade to "+s}),new Me.a(Object(i.extend)(e,{popupSubTitle:"You cannot add a new "+n,popupMessages:o,additionalButton:t,popupImg:r})).open()}else this.subviews.osd.show(e.message,arguments)},setScene:function(e){if(this.scene)throw new Error("It is currently impossible to reset a scene");return this._options=e,this._currentUid=e.uid,this},createScene:function(e,t){if(Object(h.a)()){var n={};return n.el=this.$(".webgl"),n.features=t.features,n.widgetAPI=t.widgetAPI,n.model=e,n.viewerAPI=t.viewerAPI,Pe.a.getPolygon().then(function(e){m.a.modelViewerPolygonLoaded(e.time)}),Pe.a.getWireframe().then(function(e){m.a.modelViewerWireframeLoaded(e.time)}),Pe.a.getLowResLoaded().then(function(e){m.a.modelViewerLowResTexturesLoaded(e.time,e.count)}),Pe.a.getHighResLoaded().then(function(e){m.a.modelViewerHighResTexturesLoaded(e.time,e.count)}),Pe.a.getModelDisplayed().then(function(e){m.a.modelViewerModelDisplayed(e.time)}),new je.a(n)}return m.a.modelViewerFallbackDisplayed(e.get("uid")),new Te.a({model:e,el:this.$(".fallback"),features:t.features})},initViewerFeatures:function(){this.initializeSound(),Pe.a.getModelDisplayed().then(function(){Pe.a.getHasAnimation().then(function(e){e&&this.initializeAnimation()}.bind(this)),this.initializeHotspots(),this.initializeShading(),this.initializeViewerMode(),this.initializeTextureQuality(),this.initializeVr(),this.initializeModelInspector()}.bind(this))},initializeHotspots:function(){var e=this.scene.getFeatures().hotspot,t=e&&e.getModel();t&&this.initializeHotspotsSubviews(function(){var e=this.subviews.hotspots;t.setUpdateCallback(e.refreshHotspots.bind(e));var n=t.get("hotspots");n.on("add remove sort change:title change:description change:position",e.refreshHotspots,e),n.on("add remove sort change:name",e.updateHotspotsControls,e),n.on("add remove",Object(i.debounce)(this.subviews.generalControls.renderSettings,100),this.subviews.generalControls),n.on("select",e.onHotspotSelected,e),n.on("add",e.showAnnotations,e),n.on("remove",function(){0===n.length&&e.hideAnnotations()}),this.proxySettings.on("change:annotationsVisible",function(){n.length&&this.proxySettings.get("annotationsVisible")?e.showAnnotations():e.hideAnnotations()}.bind(this)),this.proxySettings.set("annotationsVisible",t.get("visible"),{silent:!0}),t.set("proxyModel",this.proxySettings),e.refreshHotspots(),e.updateHotspotsControls(),Pe.a.getFirstCameraAnimation().then(function(){if(t.on("hotspot-error",this.errorHandler.bind(this)),!0===Object(M.a)().annotationCycleAutostart){var e=Math.max(Object(M.a)().annotation,1);n.trigger("select",n.at(e-1)),this.subviews.hotspots.triggerHotspotCycle(!0)}else Object(M.a)().annotation>0&&n.trigger("select",n.at(Object(M.a)().annotation-1))}.bind(this))}.bind(this))},initializeAnimation:function(){var e=this.scene.getFeatures().animation.getModel();this.initializeAnimationSubviews(function(){this.$el.addClass("has-animation"),this.subviews.generalControls.setHasAnimations(!0),this.proxySettings.set("speed",e.get("speed")),this.proxySettings.set("cycleMode",e.get("cycleMode")),this.proxySettings.set("fps",e.get("fps")),this.proxySettings.on("change:speed",function(t,n){e.set("speed",n)}),this.proxySettings.on("change:cycleMode",function(t,n){e.set("cycleMode",n)}),this.proxySettings.on("change:fps",function(t,n){e.set("fps",n)}),e.on("change:fps",function(e,t){this.proxySettings.set("fps",t)}.bind(this)),this.$(".osd").addClass("padded"),this.$(".timeline").removeClass("disabled")}.bind(this))},isFeatureAvailable:function(e,t,n){return e&&t&&0!==n.length},initializeModelInspector:function(){var e=this.scene.getFeatures().inspector,t=this.proxySettings,n=this.$(".model-inspector");if(this.isFeatureAvailable(Object(M.a)().uiInspector,e,n)){var i=e.getModel();this._createSubview("modelInspector",xe,{model:i,inspectableTextures:Object(p.a)()||this.scene.model.get("isInspectable"),wireframeModel:t,osd:this.subviews.osd,el:n}),Object(M.a)().uiInspectorOpen&&this.toggleInspector(),this.subviews.generalControls.listenTo(i,"change:uiVisible",function(e,t){this.$('[data-action="inspector"]').toggleClass("active",t),o()(".summary").toggleClass("shifted",t),o()(".controls").toggleClass("shifted",t)}.bind(this)),Object(p.a)()&&this.listenTo(i,"change:uiVisible",function(e,t){var n=this.scene._widgetAPI,i=this.subviews.modelInspector.model;t?(i.initAvailableView(),n.alert("To edit the model, close the Inspector.",{continue:!0,continueLabel:"Close Inspector"}).then(function(){this.$("canvas").focus(),this.toggleInspector()}.bind(this)).catch(function(e){if("Resuming editor"!==e)throw e})):n.resume()}.bind(this))}else this.$('[data-action="inspector"]').hide()},toggleInspector:function(){this.subviews.modelInspector&&(m.a.modelViewerInspectorButtonClicked(),this.subviews.modelInspector.toggle(),this.subviews.snapshot.$(".snapshot.widget").toggle(),this.subviews.header.$(".actions").toggle())},initializeTextureQuality:function(){var e=this,t=this.scene.getFeatures().quality;if(t){var n=t.getModel();n.get("promiseReady").then(function(e){this.subviews.generalControls.generateTextureQualitySettings(e),this.subviews.generalControls.settings.onTextureQualityReady.call(this.subviews.generalControls.settings,e)}.bind(this)),this.proxySettings.on("change:textureQuality",function(){var t=parseInt(this.get("textureQuality"),10);window.requestAnimationFrame(function(){n.set("level",t)});var i=e.subviews.generalControls.getSettingLabelForValue("textureQuality",t+"");e.$(".control-badge").text(i).addClass("active")})}},initializeViewerMode:function(){var e=this.scene.getFeatures().camera;if(e){var t=e.getModel(),n=t.get("indexManipulator");this.proxySettings.set("viewerMode",n),this.subviews.gui.renderSetting("viewerMode",n),this.proxySettings.on("change:viewerMode",function(){t.set("indexManipulator",parseInt(this.proxySettings.get("viewerMode"),10)),this.scene.getFeaturesManager().focusOnSavedCamera(1),this.$("canvas").focus()}.bind(this))}},initializeShading:function(){var e=this.scene.getFeatures().shadingStyle;if(e){var t=e.getModel(),n=this,i=function(){n.proxySettings.set("shadingStyle",t.get("type")),n.proxySettings.set("wireframeColor",t.get("wireframeColor")),n.proxySettings.set("wireframeEnable",t.get("wireframeEnable")),n.proxySettings.set("hasWireframe",t.get("hasWireframe")),n.subviews.gui.renderSetting("wireframeColor",n.proxySettings.get("wireframeColor")),n.subviews.gui.renderSetting("wireframeEnable",n.proxySettings.get("wireframeEnable")?1:0),n.subviews.gui.renderSetting("hasWireframe",n.proxySettings.get("hasWireframe")?1:0),n.subviews.gui.renderSetting("shadingStyle",n.proxySettings.get("shadingStyle"))};i(),this.proxySettings.listenTo(t,"change",i),this.proxySettings.on("change:shadingStyle",function(){t.set("type",this.get("shadingStyle"))}),this.proxySettings.on("change:wireframeColor",function(){this.get("wireframeEnable")?t.setWireframeColorSmooth(this.get("wireframeColor")):t.set("wireframeColor",this.get("wireframeColor"))}),this.proxySettings.on("change:wireframeEnable",function(){t.set("wireframeEnable",!!this.get("wireframeEnable"))})}},initializeVr:function(){if(this.isVR()){if(this.$el.addClass("vr-mode"),1===d.a.get("sf_show_vr_hint",1)){var e=this.templates.viewerVr([z.a.hasFullscreen()]);this.subviews.osd.show(e,{duration:5e3})}d.a.set("sf_show_vr_hint",0,{expires:504e5})}else Object(M.a)().vrLinkNavigation&&this.subviews.osd.show(s.a.any?"Tap on Screen or Press any button to switch to VR":"Press Enter to switch to VR",{duration:5e3})},initializeSoundManager:function(){this.proxySettings.on("sound-error",this.errorHandler.bind(this)),this.proxySettings.on("sound-hide",this.subviews.osd.hide.bind(this.subviews.osd)),this.proxySettings.on("sound-show",this.subviews.osd.show.bind(this.subviews.osd)),y.a.setProxyModel(this.proxySettings)},initializeSound:function(){var e=this.scene.getFeatures().sound;if(e){var t=e.getModel(),n=t.get("soundtracks"),i=this._createSubview("sound",Ee,{el:this.$(".general-controls .volume"),model:t});n.on("add",i.show,i),n.on("remove",function(){0===n.length&&i.hide()}),n.length&&t.get("visible")&&i.show(),t.on("sound-error",this.errorHandler.bind(this))}},hackDesktopSafariCanvasBackground:function(){this.$("canvas").parent().css({backgroundColor:"#000"})},hackIosCanvasRender:function(){Object(i.defer)(function(){o()("canvas")[0].style.width=o()("canvas")[0].clientWidth+1+"px",Object(i.defer)(function(){o()("canvas")[0].style.width=o()("canvas")[0].clientWidth-1+"px",o()("canvas")[0].style.width=""})})},isStarted:function(){return this.el.classList.contains("started")}})},41:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(1),r=n(27),o=function(e){return{getInitialPropsOf:function(t){var n=e.ssrProps;return(void 0===n?{}:n)[t]||{}},get:function(t){return e[t]},register:function(t,n){e[t]=n},invalidate:function(t){var n=t.replace(/\?.*$/,"");Object.keys(e).forEach(function(t){var i=t.replace(/\?.*$/,"");n!==i&&0!==n.indexOf(i+"/")||(e[t]=void 0)})},update:function(t,n){Object(i.each)(e[t],function(i,r){void 0!==n[r]&&(e[t][r]=n[r])})}}};t.b=o(function(){var e=window.prefetchedData?window.prefetchedData:Object(r.o)("prefetched-data","json");return window.prefetchedData||(window.prefetchedData=e),e}())},42:function(e,t,n){"use strict";n.d(t,"f",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return w}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return C});var i,r=n(4),o=n.n(r),a=n(28),s=n.n(a),u=n(2),l=n.n(u),c=n(37),d=n(17),f="none",h="refresh",p="next",g="previous",m={PREPEND:"pagination.PREPEND",FIRST:Object(d.d)("pagination.FIRST"),NEXT:Object(d.d)("pagination.NEXT"),PREVIOUS:Object(d.d)("pagination.PREVIOUS")},v={list:[],cursors:{next:null,previous:null},loading:f},b=Object(c.b)(v,(i={},o()(i,m.FIRST.PENDING,function(e){return l()({},e,{loading:h})}),o()(i,m.FIRST.REJECTED,function(e){return l()({},e,{loading:f})}),o()(i,m.FIRST.RESOLVED,function(e,t){return l()({},e,{cursors:t.cursors,list:t.list,loading:f})}),o()(i,m.NEXT.PENDING,function(e){return l()({},e,{loading:p})}),o()(i,m.NEXT.REJECTED,function(e){return l()({},e,{loading:f})}),o()(i,m.NEXT.RESOLVED,function(e,t){return l()({},e,{cursors:l()({},e.cursors,{next:t.cursors.next}),list:[].concat(s()(e.list),s()(t.list)),loading:f})}),o()(i,m.PREVIOUS.PENDING,function(e){return l()({},e,{loading:g})}),o()(i,m.PREVIOUS.REJECTED,function(e){return l()({},e,{loading:f})}),o()(i,m.PREVIOUS.RESOLVED,function(e,t){return l()({},e,{cursors:l()({},e.cursors,{previous:t.cursors.previous}),list:[].concat(s()(t.list),s()(e.list)),loading:f})}),o()(i,m.PREPEND,function(e,t){return l()({},e,{list:[t.item].concat(s()(e.list))})}),i)),w={list:function(e){return e.list},cursors:function(e){return e.cursors},loading:function(e){return e.loading},isLoading:function(e){return e.loading!==f},hasNextPage:function(e){return!!e.cursors.next},hasPreviousPage:function(e){return!!e.cursors.previous}},y={firstPending:function(){return{type:m.FIRST.PENDING}},firstRejected:function(){return{type:m.FIRST.REJECTED}},firstResolved:function(e){var t=e.list,n=e.cursors;return{type:m.FIRST.RESOLVED,payload:{list:t,cursors:n}}},nextPending:function(){return{type:m.NEXT.PENDING}},nextRejected:function(){return{type:m.NEXT.REJECTED}},nextResolved:function(e){var t=e.list,n=e.cursors;return{type:m.NEXT.RESOLVED,payload:{list:t,cursors:n}}},previousPending:function(){return{type:m.PREVIOUS.PENDING}},previousRejected:function(){return{type:m.PREVIOUS.REJECTED}},previousResolved:function(e){var t=e.list,n=e.cursors;return{type:m.PREVIOUS.RESOLVED,payload:{list:t,cursors:n}}},prepend:function(e){return{type:m.PREPEND,payload:{item:e}}}},C=function(e){return function(t,n,i){var r;return r={},o()(r,t.PENDING,function(t){return l()({},t,o()({},e,b(t[e],{type:n.PENDING})))}),o()(r,t.REJECTED,function(t){return l()({},t,o()({},e,b(t[e],{type:n.REJECTED})))}),o()(r,t.RESOLVED,function(t,r){return l()({},t,o()({},e,b(t[e],{type:n.RESOLVED,payload:l()({list:[],cursors:{next:null,previous:null}},i(r))})))}),r}}},425:function(e,t){},44:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"l",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"o",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"n",function(){return p}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return m}),n.d(t,"j",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"k",function(){return w}),n.d(t,"m",function(){return y});var i=n(1);function r(e){return String(e).split("").reduce(function(e,t,n,i){var r=i.length-n;return e+(!n||r%3?t:","+t)},"")}function o(e){var t=e/100;if(Object(i.isInteger)(t))return"$"+r(t);var n=String(Math.round(e)).split(""),o=n.filter(function(e,t){return t>=n.length-2}).join(""),a=n.filter(function(e,t){return t<n.length-2}).join("");return"$".concat(r(a||"0"),".").concat(o.length<2?"0":"").concat(o)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).numberOnly,n=void 0!==t&&t;return h(0,5,Math.round(10*Number(e))/10)+(n?"":"/5")}var s=["k","M","B","T","P"];function u(e,t){if(t<=0)return e;var n=Math.pow(10,t),i=e*n;return Math.round(i)/n}function l(e){var t=parseFloat(e),n=[3,6,9,12,15];if(!t)return e;var i=t<0?"-":"",r=Math.abs(t);if(r<1e3)return t;for(var o=0,a=n.length;o<a;++o){var l=u(r/Math.pow(10,n[o]),1);if(l<1e3){var c=Math.floor(l);return l!==c?i+l+s[o]:i+c+s[o]}}return t<0?"1000- P":"1000+ P"}function c(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}function d(e,t,n){return(n-e)/(t-e)}function f(e,t,n){return n*(t-e)+e}function h(e,t,n){return Math.max(e,Math.min(t,n))}function p(e,t){var n=t||1;return Math.round(e/n)*n}function g(e){return e.reduce(function(t,n){return t+n/e.length},0)}function m(e,t,n){if(!e.length)return null;if(1===e.length)return e[0];var i=n||{},r=function(n){return i[n]=void 0===i[n]?t(e[n]):i[n],i[n]};if(2===e.length)return Math.abs(r(0))<Math.abs(r(1))?e[0]:e[1];var o=Math.floor(e.length/2);return m(r(o)>0?e.slice(0,o+1):e.slice(o),t,i)}var v=function(e,t,n,i){return e/t>n/i?{width:e,height:i*e/n}:{width:n*t/i,height:t}},b={linear:function(e){return e},easeInQuad:function(e){return e*e},easeInCubic:function(e){return e*e*e}};function w(e){var t=Math.floor(e),n=Math.floor(e/1024),i=Math.floor(e/1048576),r=Math.floor(e/1073741824);return r?r+"GB":i?i+"MB":n?n+"kB":t+"B"}function y(e,t,n){return e.start===t&&e.end>=n?"Any":e.start===t?"Up to "+l(e.end):e.start>=n?l(e.start)+"+":l(e.start)+" to "+l(e.end)}},442:function(e,t,n){"use strict";t.a=function(e){return(e=(e=(e=e.substring(e.lastIndexOf("/")+1)).split("."))[e.length>1?e.length-2:e.length-1]).split("_").pop().toLowerCase()}},443:function(e,t,n){"use strict";t.a=function(e,t){var n,i,r=e.length,o=t.length,a=[];if(!r)return o;if(!o)return r;for(n=0;n<=r;n++)a[n]=[n];for(i=0;i<=o;i++)a[0][i]=i;for(i=1;i<=o;i++)for(n=1;n<=r;n++)e[n-1]===t[i-1]?a[n][i]=a[n-1][i-1]:a[n][i]=Math.min(a[n-1][i],a[n][i-1],a[n-1][i-1])+1;return a[r][o]}},45:function(e,t,n){"use strict";var i=n(1),r=n(19),o=n(0);n.d(t,"a",function(){return o.b}),t.b={name:"WithOptionTypes",optionTypes:{},initialize:function(){},setOptions:function(e){var t=Object(i.extend)({},this.options,Object(r.b)(e));this.isMounted&&this.viewWillReceiveOptions(t),this.update(t,this.state,!1)},viewWillReceiveOptions:function(){},checkOptionTypes:function(){Object(o.a)(this.optionTypes,this.options,"option",this.displayName||"View")}}},450:function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://sketchfab.com/schema/modeloptions",title:"Camera settings",description:"Camera position and direction",type:"object",definitions:{vec2:{type:"array",minItems:2,maxItems:2,items:{type:"number"}},vec3:{type:"array",minItems:3,maxItems:3,items:{type:"number"}},intVec3:{type:"array",minItems:3,maxItems:3,items:{type:"integer"}},vec4:{type:"array",minItems:4,maxItems:4,items:{type:"number"}},matrix:{type:"array",minItems:16,maxItems:16,items:{type:"number"}},quaternion:{type:"array",minItems:4,maxItems:4,items:{type:"number"}},unitVec3:{type:"array",minItems:3,maximum:3,items:{$ref:"#/definitions/unitNumber"}},unitVec3Neg:{type:"array",minItems:3,maximum:3,items:{$ref:"#/definitions/unitNumberNeg"}},unitVec2Neg:{type:"array",minItems:2,maximum:2,items:{$ref:"#/definitions/unitNumberNeg"}},unitVec4:{type:"array",minItems:4,maximum:4,items:{$ref:"#/definitions/unitNumber"}},unitNumber:{type:"number",minimum:0,maximum:1},unitNumberNeg:{type:"number",minimum:-1,maximum:1},uid:{type:"string",pattern:"^[A-Fa-f0-9]{32}$"},uuid:{type:"string",pattern:"^[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}$"},hotspotData:{type:"object",properties:{geometryUid:{type:"integer"},uid:{$ref:"#/definitions/uid"},indices:{$ref:"#/definitions/intVec3"},barycentricWeights:{$ref:"#/definitions/vec3"},localPosition:{$ref:"#/definitions/vec3"}},additionalProperties:!1,required:["uid","geometryUid","indices","barycentricWeights","localPosition"]},soundtrack:{type:"object",properties:{uid:{$ref:"#/definitions/uid"},name:{type:"string",default:""},enable:{type:"boolean",default:!0},position:{$ref:"#/definitions/vec3",default:[0,0,0]},distance:{type:"number",minimum:0,default:-1},distanceMax:{type:"number",minimum:0,default:-1},distanceModel:{type:"string",default:"exponential"},startTime:{type:"number",minimum:0,default:0},volume:{type:"number",minimum:0,default:1},ambient:{type:"boolean",default:!0},loop:{type:"boolean",default:!1},snap:{type:"boolean",default:!1},sync:{type:"boolean",default:!1},geometryUid:{type:"integer",default:-1},indices:{$ref:"#/definitions/intVec3",default:[-1,-1,-1]},barycentricWeights:{$ref:"#/definitions/vec3",default:[0,0,0]},localPosition:{$ref:"#/definitions/vec3",default:[0,0,0]}},required:["uid","name","enable","position","distance","distanceMax","distanceModel","startTime","volume","ambient","loop","snap","sync","geometryUid","indices","barycentricWeights","localPosition"],additionalProperties:!1},light:{type:"object",properties:{type:{type:"string",enum:["NONE","DIRECTION","POINT","SPOT","HEMI"],default:"NONE"},enable:{type:"boolean",default:!0},color:{$ref:"#/definitions/unitVec3",default:[1,1,1]},intensity:{type:"number",minimum:0,default:1},ground:{$ref:"#/definitions/unitVec3",default:[.3,.2,.2]},intensityGround:{type:"number",minimum:0,default:1},matrix:{$ref:"#/definitions/matrix"},falloff:{type:"number",minimum:0,default:-1},attachedToCamera:{type:"boolean",default:!1},angle:{type:"number",minimum:0,maximum:90,default:45},hardness:{$ref:"#/definitions/unitNumber",default:.5},castShadows:{type:"boolean",default:!0},shadowBias:{$ref:"#/definitions/unitNumber",default:.005}},required:["type","enable","color","intensity","ground","intensityGround","matrix","falloff","attachedToCamera","angle","hardness","castShadows","shadowBias"],additionalProperties:!1},texture:{type:"object",properties:{internalFormat:{type:"string",enum:["RGB","ALPHA","LUMINANCE"]},magFilter:{type:"string",enum:["LINEAR","NEAREST"]},minFilter:{type:"string",enum:["LINEAR","NEAREST","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_LINEAR"]},textureTarget:{type:"string",enum:["TEXTURE_2D"]},uid:{$ref:"#/definitions/uid"},wrapS:{type:"string",enum:["CLAMP_TO_EDGE","REPEAT","MIRRORED_REPEAT"]},wrapT:{type:"string",enum:["CLAMP_TO_EDGE","REPEAT","MIRRORED_REPEAT"]},texCoordUnit:{type:"integer",minimum:0}},required:["internalFormat","magFilter","minFilter","texCoordUnit","textureTarget","uid","wrapS","wrapT"],additionalProperties:!1},materialChannel:{type:"object",properties:{enable:{type:"boolean"},factor:{$ref:"#/definitions/unitNumber"},color:{$ref:"#/definitions/unitVec3"},texture:{$ref:"#/definitions/texture"}},oneOf:[{required:["color"]},{required:["texture"]}],required:["enable","factor"],additionalProperties:!1},materialChannelGrayScale:{type:"object",properties:{enable:{type:"boolean"},factor:{$ref:"#/definitions/unitNumber"},texture:{$ref:"#/definitions/texture"}},required:["enable","factor"],additionalProperties:!1},cullFace:{type:"string",enum:["DISABLE","BACK"]}},properties:{version:{type:"integer",minimum:0},background:{type:"object",properties:{enable:{type:"string",enum:["fixed","environment","color","ambient","none"],default:"fixed"},uid:{$ref:"#/definitions/uid",default:"51af6a870cce449eb75b0345feebaebb"},color:{$ref:"#/definitions/unitVec3",default:[.2,.2,.2]}},additionalProperties:!1,required:["enable","uid","color"]},lighting:{type:"object",properties:{enable:{type:"boolean",default:!1},lights:{type:"array",minItems:3,maxItems:3,items:{$ref:"#/definitions/light"},additionalItems:!1}},additionalProperties:!1,required:["lights","enable"]},camera:{type:"object",properties:{position:{$ref:"#/definitions/vec3"},target:{$ref:"#/definitions/vec3"},fov:{type:"number",minimum:0,maximum:180,default:45},nearFarRatio:{type:"number",minimum:1e-4,maximum:.005,default:.005},useCameraConstraints:{type:"boolean",default:!1},usePanConstraints:{type:"boolean",default:!0},useZoomConstraints:{type:"boolean",default:!1},usePitchConstraints:{type:"boolean",default:!1},useYawConstraints:{type:"boolean",default:!1},zoomIn:{type:"number",minimum:0,default:0},zoomOut:{type:"number",minimum:0,default:-1},left:{type:"number",minimum:-3.141593,maximum:3.141593,default:-3.141593},right:{type:"number",minimum:-3.141593,maximum:3.141593,default:3.141593},up:{type:"number",minimum:-1.570797,maximum:1.570797,default:1.555089},down:{type:"number",minimum:-1.570797,maximum:1.570797,default:-1.555089}},additionalProperties:!1,required:["position","target","fov","nearFarRatio","useCameraConstraints","usePanConstraints","useZoomConstraints","usePitchConstraints","useYawConstraints","zoomIn","zoomOut","left","right","up","down"]},environment:{type:"object",properties:{enable:{type:"boolean"},backgroundExposure:{type:"number",minimum:0,maximum:2,default:1},exposure:{type:"number",minimum:0,maximum:35},rotation:{type:"number",minimum:0,maximum:6.2831853072,default:0},uid:{$ref:"#/definitions/uid"},blur:{type:"number",minimum:0,maximum:1,default:.1},shadowEnable:{type:"boolean"},lightIntensity:{type:"number",minimum:0,default:1},shadowBias:{type:"number",minimum:0,default:.005}},additionalProperties:!1,required:["enable","backgroundExposure","exposure","rotation","uid","blur","shadowEnable","lightIntensity","shadowBias"]},materials:{type:"object",patternProperties:{"^[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}$":{type:"object",properties:{channels:{type:"object",properties:{Opacity:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1},type:{type:"string",enum:["alphaBlend","alphaMask","additive","dithering","refraction"],default:"alphaBlend"},invert:{type:"boolean",default:!1},texture:{$ref:"#/definitions/texture"},ior:{type:"number",minimum:1,maximum:2,default:1.05},roughnessFactor:{$ref:"#/definitions/unitNumber",default:0},useMicrosurfaceTexture:{type:"boolean",default:!0},useNormalOffset:{type:"boolean",default:!1},useAlbedoTint:{type:"boolean"},thinLayer:{type:"boolean",default:!1},refractionColor:{$ref:"#/definitions/unitVec3",default:[1,1,1]}},required:["enable","factor","type","invert","ior","roughnessFactor","useMicrosurfaceTexture","useAlbedoTint","useNormalOffset","refractionColor","thinLayer"],additionalProperties:!1},SpecularHardness:{type:"object",properties:{enable:{type:"boolean",default:!0},factor:{type:"number",minimum:0,maximum:1e4,default:12.5},texture:{$ref:"#/definitions/texture"}},required:["enable","factor"],additionalProperties:!1},BumpMap:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,maximum:10,default:1},texture:{$ref:"#/definitions/texture"}},required:["enable","factor"],additionalProperties:!1},Displacement:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,default:0},texture:{$ref:"#/definitions/texture"}},required:["enable","factor"],additionalProperties:!1},SubsurfaceTranslucency:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1},thicknessFactor:{type:"number",minimum:0,default:-1},color:{$ref:"#/definitions/unitVec3",default:[1,.37,.3]},texture:{$ref:"#/definitions/texture"}},required:["enable","factor","thicknessFactor","color"],additionalProperties:!1},EmitColor:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,maximum:10,default:0},color:{$ref:"#/definitions/unitVec3",default:[1,1,1]},texture:{$ref:"#/definitions/texture"},type:{type:"string",enum:["additive","multiplicative"],default:"additive"}},oneOf:[{required:["color"]},{required:["texture"]}],required:["enable","factor","type"],additionalProperties:!1},SubsurfaceScattering:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,default:-1},texture:{$ref:"#/definitions/texture"},profile:{type:"integer",minimum:1,maximum:3,default:1}},required:["enable","factor","profile"],additionalProperties:!1},NormalMap:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1},texture:{$ref:"#/definitions/texture"},flipY:{type:"boolean",default:!0}},required:["enable","factor","flipY"],additionalProperties:!1},AOPBR:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1},texture:{$ref:"#/definitions/texture"},occludeSpecular:{type:"boolean",default:!1}},required:["enable","factor","occludeSpecular"],additionalProperties:!1},Matcap:{type:"object",properties:{enable:{type:"boolean",default:!0},factor:{$ref:"#/definitions/unitNumber",default:1},curvature:{type:"number",minimum:0,default:0},color:{$ref:"#/definitions/unitVec3",default:[1,1,1]},texture:{$ref:"#/definitions/texture"}},required:["texture","color","curvature","enable","factor"],additionalProperties:!1},ClearCoat:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1},tint:{$ref:"#/definitions/unitVec3",default:[.914,.914,.914]},thickness:{type:"number",minimum:0,maximum:20,default:5},reflectivity:{$ref:"#/definitions/unitNumber",default:0},texture:{$ref:"#/definitions/texture"}},required:["enable","factor","tint","thickness","reflectivity"],additionalProperties:!1},ClearCoatNormalMap:{type:"object",properties:{enable:{type:"boolean",default:!0},factor:{$ref:"#/definitions/unitNumber",default:1},texture:{$ref:"#/definitions/texture"},flipY:{type:"boolean",default:!0}},required:["enable","factor","flipY"],additionalProperties:!1},ClearCoatRoughness:{$ref:"#/definitions/materialChannelGrayScale",default:{factor:.04,enable:!0}},DiffuseColor:{$ref:"#/definitions/materialChannel",default:{color:[1,1,1],factor:1,enable:!0}},DiffuseIntensity:{$ref:"#/definitions/materialChannel",default:{color:[1,1,1],factor:1,enable:!0}},SpecularColor:{$ref:"#/definitions/materialChannel",default:{color:[.5,.5,.5],factor:0,enable:!0}},DiffusePBR:{$ref:"#/definitions/materialChannel",default:{color:[1,1,1],factor:1,enable:!1}},AlbedoPBR:{$ref:"#/definitions/materialChannel",default:{color:[1,1,1],factor:1,enable:!0}},SpecularPBR:{$ref:"#/definitions/materialChannel",default:{color:[1,1,1],factor:.05,enable:!1}},GlossinessPBR:{$ref:"#/definitions/materialChannelGrayScale",default:{factor:.4,enable:!1}},RoughnessPBR:{$ref:"#/definitions/materialChannelGrayScale",default:{factor:.6,enable:!0}},MetalnessPBR:{$ref:"#/definitions/materialChannelGrayScale",default:{factor:0,enable:!0}},SpecularF0:{$ref:"#/definitions/materialChannelGrayScale",default:{factor:.5,enable:!0}},CavityPBR:{$ref:"#/definitions/materialChannelGrayScale",default:{factor:1,enable:!1}},Anisotropy:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1},direction:{$ref:"#/definitions/unitNumberNeg",default:0},texture:{$ref:"#/definitions/texture"},flipXY:{type:"boolean",default:!0}},additionalProperties:!1,required:["enable","factor","direction","flipXY"]}},required:["DiffuseColor","DiffuseIntensity","EmitColor","NormalMap","BumpMap","Displacement","Opacity","SpecularColor","SpecularHardness","DiffusePBR","AlbedoPBR","SpecularPBR","GlossinessPBR","RoughnessPBR","MetalnessPBR","SpecularF0","AOPBR","CavityPBR","Matcap","SubsurfaceScattering","SubsurfaceTranslucency","ClearCoat","ClearCoatRoughness","ClearCoatNormalMap","Anisotropy"],additionalProperties:!1},cullFace:{$ref:"#/definitions/cullFace",default:"DISABLE"},id:{$ref:"#/definitions/uuid",default:"0"},name:{type:"string",default:"noname"},reflection:{$ref:"#/definitions/unitNumber",defaults:.3},shadeless:{type:"boolean",default:!1},stateSetID:{type:"integer",default:0},version:{type:"integer",minimum:2}},required:["channels","cullFace","id","name","reflection","shadeless","stateSetID","version"],additionalProperties:!1}},properties:{updatedAt:{type:"integer"}},additionalProperties:!1},orientation:{type:"object",properties:{matrix:{$ref:"#/definitions/matrix",default:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},additionalProperties:!1,required:["matrix"]},scene:{type:"object",properties:{sssProfiles:{type:"array",minItems:3,maxItems:3,additionalItems:!1,items:[{type:"object",properties:{strength:{$ref:"#/definitions/unitVec3",default:[.48,.41,.28]},falloff:{$ref:"#/definitions/unitVec3",default:[1,.37,.3]}},additionalProperties:!1,required:["strength","falloff"]},{type:"object",properties:{strength:{$ref:"#/definitions/unitVec3",default:[.38,.61,.68]},falloff:{$ref:"#/definitions/unitVec3",default:[.5,.67,.6]}},additionalProperties:!1,required:["strength","falloff"]},{type:"object",properties:{strength:{$ref:"#/definitions/unitVec3",default:[.88,.61,.28]},falloff:{$ref:"#/definitions/unitVec3",default:[.7,.77,.3]}},additionalProperties:!1,required:["strength","falloff"]}]},postProcess:{type:"object",properties:{enable:{type:"boolean",default:!0},grain:{type:"object",properties:{enable:{type:"boolean",default:!1},animated:{type:"boolean",default:!1},factor:{type:"number",minimum:0,maximum:.5,default:.15}},additionalProperties:!1,required:["enable","animated","factor"]},sharpen:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,maximum:5,default:.2}},additionalProperties:!1,required:["enable","factor"]},chromaticAberration:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,maximum:.1,default:.05}},additionalProperties:!1,required:["enable","factor"]},vignette:{type:"object",properties:{enable:{type:"boolean",default:!1},amount:{$ref:"#/definitions/unitNumber",default:.475},hardness:{$ref:"#/definitions/unitNumber",default:.725}},additionalProperties:!1,required:["enable","amount","hardness"]},bloom:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{type:"number",minimum:0,maximum:2,default:.5},threshold:{$ref:"#/definitions/unitNumber",default:0},radius:{$ref:"#/definitions/unitNumber",default:.7}},additionalProperties:!1,required:["enable","factor","threshold","radius"]},toneMapping:{type:"object",properties:{enable:{type:"boolean",default:!1},method:{type:"string",enum:["default","reinhard","filmic"],default:"default"},exposure:{type:"number",minimum:0,maximum:2,default:1},brightness:{type:"number",minimum:-1,maximum:1,default:0},contrast:{type:"number",minimum:-1,maximum:1,default:0},saturation:{type:"number",minimum:0,maximum:2,default:1}},additionalProperties:!1,required:["enable","method","exposure","brightness","contrast","saturation"]},colorBalance:{type:"object",properties:{enable:{type:"boolean",default:!1},low:{$ref:"#/definitions/unitVec3Neg"},mid:{$ref:"#/definitions/unitVec3Neg"},high:{$ref:"#/definitions/unitVec3Neg"}},additionalProperties:!1,required:["enable","low","mid","high"]},dof:{type:"object",properties:{enable:{type:"boolean",default:!1},blurNear:{$ref:"#/definitions/unitNumber",default:.5},blurFar:{$ref:"#/definitions/unitNumber",default:.5},focusPoint:{$ref:"#/definitions/vec3"}},additionalProperties:!1,required:["enable","blurNear","blurFar","focusPoint"]},ssr:{type:"object",properties:{enable:{type:"boolean",default:!1},factor:{$ref:"#/definitions/unitNumber",default:1}},additionalProperties:!1,required:["enable","factor"]},ssao:{type:"object",properties:{enable:{type:"boolean",default:!1},radius:{type:"number",minimum:0,default:-1},intensity:{type:"number",minimum:0,maximum:1,default:.5},bias:{type:"number",minimum:0,default:-1}},additionalProperties:!1,required:["enable","radius","intensity","bias"]},taa:{type:"object",properties:{enable:{type:"boolean",default:!0},transparent:{type:"boolean",default:!0}},additionalProperties:!1,required:["enable","transparent"]}},additionalProperties:!1,required:["enable","grain","sharpen","chromaticAberration","vignette","bloom","toneMapping","colorBalance","dof","ssr","ssao","taa"]}},additionalProperties:!1,required:["sssProfiles","postProcess"]},shading:{type:"object",properties:{renderer:{type:"string",enum:["classic","pbr"],default:"classic"},type:{type:"string",enum:["lit","shadeless","matcap"],default:"lit"},vertexColor:{type:"object",properties:{enable:{type:"boolean",default:!0},useAlpha:{type:"boolean",default:!0},colorSpace:{type:"string",enum:["linear","srgb"],defaul:"srgb"}},additionalProperties:!1,required:["enable","useAlpha","colorSpace"]},pointSize:{type:"number",minimum:0,maximum:10,default:0}},additionalProperties:!1,required:["renderer","type","vertexColor","pointSize"]},wireframe:{type:"object",properties:{enable:{type:"boolean",default:!1},color:{type:"string",pattern:"^[A-Fa-f0-9]{8}$",default:"000000FF"}},additionalProperties:!1,required:["enable","color"]},animation:{type:"object",properties:{order:{type:"array",items:{type:"string"}},speed:{type:"number",minimum:0,default:1},cycleMode:{type:"string",enum:["one","all","none"],default:"one"},initializeWithRestPose:{type:"boolean",default:!1}},additionalProperties:!1,required:["order","speed","cycleMode","initializeWithRestPose"]},hotspot:{type:"object",properties:{hotspots:{type:"array",items:{$ref:"#/definitions/hotspotData"}},visible:{type:"boolean"}},additionalProperties:!1,required:["hotspots","visible"]},vr:{type:"object",properties:{worldFactor:{type:"number",minimum:0,default:-1},floorHeight:{type:"number",default:0},displayFloor:{type:"boolean",default:!0},initialCamera:{type:"object",properties:{position:{$ref:"#/definitions/vec3",default:[0,0,0]},rotation:{$ref:"#/definitions/vec4",default:[0,0,0,1]}},additionalProperties:!1,required:["position","rotation"]}},additionalProperties:!1,required:["worldFactor","initialCamera","floorHeight","displayFloor"]},sound:{type:"object",properties:{soundtracks:{type:"array",minItems:0,maxItems:32,items:{$ref:"#/definitions/soundtrack"},additionalItems:!1}},additionalProperties:!1,required:["soundtracks"]},ground:{type:"object",properties:{enable:{type:"boolean",default:!1},opacity:{type:"number",default:1},fade:{type:"number",default:.25},position:{$ref:"#/definitions/vec3"},scale:{type:"number",default:-1,minimum:0},shadowMode:{type:"string",enum:["ShadowCatcher","BakedAO"],default:"ShadowCatcher"},samplingRange:{type:"number",default:.6},aoTextureUid:{$ref:"#/definitions/uid"}},additionalProperties:!1,required:["enable","opacity","fade","position","scale","shadowMode","samplingRange"]}}}},455:function(e,t,n){var i=n(1).extend,r={ApiCoreVersion:"1_0",start:"-",stop:"-",load:"-",gotoAnnotation:"-",getAnnotationList:"-",lookat:"-",setFov:"-",getCurrentTime:"-",play:"-",pause:"-",seekTo:"-",getAnimations:"-",setCurrentAnimationByUID:"-",setCycleMode:"-",setSpeed:"-",getSceneGraph:"-",getNodeMap:"-",getMatrix:"-",setMatrix:"-",hide:"-",show:"-",translate:"-",rotate:"-",getRootMatrixNode:"-",getCameraLookAt:"-",setCameraLookAt:"-",getScreenShot:"-",getMaterialList:"-",getTextureList:"-",addTexture:"-",updateTexture:"-",setTextureQuality:"-",setMaterial:"-",setPostProcessing:"-",getPostProcessing:"-"},o=i({},r,{getWorldToScreenCoordinates:"-"}),a=i({},o,{ApiCoreVersion:"1_2",pickColor:"-",setListenerOptions:"-",unselectAnnotation:"-"}),s=i({},a,{ApiCoreVersion:"1_3",setCameraEasing:"-",showAnnotation:"-",hideAnnotation:"-",getAnnotation:"-",updateAnnotation:"-",createAnnotation:"-",removeAnnotation:"-",pickFromScene:"-",pickFromScreen:"-",addVideoTexture:"-",translate:"-",rotate:"-"}),u=i({},s,{}),l=i({},u,{ApiCoreVersion:"1_4",getEnvironment:"-",getLight:"-",getFov:"-",getShadingStyle:"-",getWireframe:"-",setCurrentAnimationByUID:"-",setEnvironment:"-",setLight:"-",setShadingStyle:"-",setWireframe:"-"}),c=i({},l,{ApiCoreVersion:"1_5",setAnnotationsTexture:"-",addVideoTexture:"-",gotoAnnotation:"-",setBackground:"-",getBackgroundList:"-",setEnvironment:"-",getEnvironmentList:"-",setCycleMode:"-"});e.exports={"1.0.0":r,"1.0.1":r,"1.0.2":r,"1.0.3":r,"1.1.0":o,"1.2.0":a,"1.2.1":a,"1.3.0":s,"1.3.1":u,"1.4.0":l,"1.4.1":l,"1.4.2":l,"1.5.0":c}},46:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h});var i=n(1),r=n(18);function o(e){return e.preventDefault(),e}function a(e){return e.stopPropagation(),e}function s(e){return{eventName:e.split(" ")[0],selector:e.split(" ").slice(1).join(" ")}}function u(e){var t=e.originalEvent||e;return{x:t.type.match(/^touch/)?t.changedTouches[0]?t.changedTouches[0].pageX:0:t.clientX,y:t.type.match(/^touch/)?t.changedTouches[0]?t.changedTouches[0].pageY:0:t.clientY}}function l(e,t){return t.velocity=function(e,t){var n=u(t),i=e?u(e):n;return{x:n.x-i.x,y:n.y-i.y}}(e,t),t}var c=function(e){var t=u(e),n=t.x,i=t.y;return e.dragX=n,e.dragY=i,e},d=function(e,t,n){return function(o){var a=!1,s=!1,u=Object(i.throttle)(Object(r.f)(l,void 0,function(e){a=!0,s||n.onDrag(c(e))}),16);window.addEventListener(e,u),window.addEventListener(t,function i(r){s=!0,a&&n.onDragEnd(c(r)),window.removeEventListener(e,u),window.removeEventListener(t,i)}),n.onDragStart(c(o))}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onDrag,n=e.onDragStart,i=void 0===n?function(e){return e}:n,r=e.onDragEnd,o=void 0===r?function(e){return e}:r;return{onMouseDown:d("mousemove","mouseup",{onDrag:t,onDragStart:i,onDragEnd:o}),onTouchStart:d("touchmove","touchend",{onDrag:t,onDragStart:i,onDragEnd:o})}},h=function(e){return function(t){13===function(e){return e.which||e.keyCode}(t)&&e(t)}}},477:function(e,t,n){"use strict";var i=n(1),r=n(287),o=n(56),a=n(0),s=n(292),u=n(286),l=n(132);t.a=o.a.extend(Object(i.extend)({optionTypes:{modelUid:a.b.string},model:r.a,url:function(){return Object(l.a)("textures",this.options.modelUid,this.options.checkPrefetch)},comparator:function(e,t){return"None"===e.get("label")?-1:"None"===t.get("label")?1:Object(s.a)(e.get("label"),t.get("label"))},isValid:function(){this.each(function(e){e.isValid()})},getImageFromURL:function(e){var t=e.split("/").pop();return this.find(function(e){var n=!1;return e.get("images").forEach(function(e){n||-1!==e.url.indexOf(t)&&(n=!0)}),n})}},u.a))},48:function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(35),a=n.n(o),s=n(40),u=n.n(s),l=n(53),c=n.n(l),d=n(4),f=n.n(d),h=n(30),p=function(){function e(){var t=this;u()(this,e),f()(this,"listeners",[]),f()(this,"currentUrl",void 0),this.currentUrl=this.getWindowUrl(),window.addEventListener("popstate",function(){window.location.hash||(t.hasPrevious()?t.onBack():t.push(t.getWindowUrl(),{force:!0}))})}return c()(e,[{key:"callListeners",value:function(e,t){var n=t.isBack,i=void 0!==n&&n,o=a()(t,["isBack"]);this.listeners.forEach(function(t){return t(e,r()({},o,{isBack:i}))})}},{key:"onBack",value:function(){var e=this.currentUrl,t=this.getWindowUrl();this.callListeners(t,r()({previousUrl:e,isBack:!0},window.history.state)),this.currentUrl=t}},{key:"getWindowUrl",value:function(){return window.location.pathname+window.location.search}},{key:"setCurrentUrl",value:function(e){this.currentUrl=e}},{key:"shouldUpdate",value:function(e){return this.getWindowUrl()!==e}},{key:"hasPrevious",value:function(){return null!==window.history.state}},{key:"listen",value:function(e){var t=this;this.listeners.push(e);return function(){t.listeners=t.listeners.filter(function(t){return t!==e})}}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.setCurrentUrl(e),t.force||this.shouldUpdate(e)){var n=r()({},t,{isBack:!1,previousUrl:this.getWindowUrl()});window.history.pushState(n,"",Object(h.a)(e)),t.silent||this.callListeners(e,n)}}},{key:"pushRoute",value:function(e,t,n){var i=Object(h.e)(e,t);i&&this.push(i,n)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.setCurrentUrl(e),this.shouldUpdate(e)){var n=r()({},t,{isBack:!1,previousUrl:this.getWindowUrl()});window.history.replaceState(n,"",Object(h.a)(e)),t.silent||this.callListeners(e,n)}}},{key:"replaceRoute",value:function(e,t,n){var i=Object(h.e)(e,t);i&&this.replace(i,n)}},{key:"back",value:function(){window.history.back(),this.onBack()}}]),e}();t.a=new p},482:function(e,t,n){"use strict";var i=n(5),r=n.n(i),o=n(47),a=n.n(o),s=n(8),u=n(65),l=n(10),c=n(33),d=n(132),f=function(e,t){var n=new a.a.Model;return n.url=e+t,n.fetch().then(function(e){return window.prefetchedData[t]=e,e})};t.a=function(){var e=function(){if("dev"!==l.a.buildMode){var e=!1;if(l.a.prodHookDomainsBlacklist.forEach(function(t){document.location.href.indexOf(t)>-1&&(e=!0)}),e)return}if(-1!==window.location.search.substr(1).indexOf("hook_")){for(var t,n="hook_".length,i=window.location.search.substr(1).split(/&+/g),r=0;r<i.length;++r){var o=i[r];if(-1!==o.indexOf("hook_")){t=o.substr(n,o.indexOf("=")-n);break}}if(t&&s.c.bool("hook_"+t)){var a="https://";return a+="prod"===t?"sketchfab.com":"fatvoxel"===t?"fatvoxel.com":t+".fatvoxel.com"}}}();if(e){var t=Object(c.a)().model;if(t){var n=function(e,t){for(var n=["","animations","backgrounds","environments","hotspots","matcaps","sounds","textures"],i=[],o=0;o<n.length;++o){var a=Object(d.a)(n[o],t);i.push(f(e,a))}return r.a.all(i).then(function(e){return new u.a(e[0])})}(e,t);u.a.get=function(){return n}}}}},487:function(e,t,n){"use strict";var i=new(n(75).a);t.a={resolve:function(e){i.resolve(e)},get:function(){return i},then:i.then.bind(i)}},49:function(e,t,n){"use strict";n.r(t);var i=n(6),r=n(58),o=n(0);n(215);t.default=r.a.extend({displayName:"MessagePopup",optionTypes:{title:o.b.string.isRequired,text:o.b.string.isRequired,buttons:o.b.shape({cancel:o.b.bool,cancelClass:o.b.string,cancelLabel:o.b.string,close:o.b.bool,closeClass:o.b.string,closeLabel:o.b.string,continue:o.b.bool,continueClass:o.b.string,continueLabel:o.b.string,ok:o.b.bool,okClass:o.b.string,okLabel:o.b.string,delete:o.b.bool,deleteClass:o.b.string,deleteLabel:o.b.string}),popupClass:o.b.string,safe:o.b.bool,popupClosable:o.b.bool,shouldRejectOnCancel:o.b.bool},defaultOptions:{shouldRejectOnCancel:!0},events:{"reset form":"cancel","submit form":"continue"},template:function(){return i.default.get("skfb_front/popups/message",{title:this.options.title,text:this.options.text,buttons:this.options.buttons,safe:this.options.safe,popupClass:this.options.popupClass,popupClosable:this.options.popupClosable})}})},506:function(e,t,n){e.exports=n.p+"static/assets/images/sketchfab-blue-white-c2ea5d067dbe2a711f547cb07163e424.svg"},507:function(e,t,n){e.exports=n.p+"static/assets/images/sketchfab-white-white-a67a66d0659dfcc7a39aefd3c415435d.svg"},51:function(e,t,n){"use strict";var i=n(14),r=n(19);t.a=i.a.extend({displayName:"PureComponent",shouldViewUpdate:function(e,t){return!Object(r.g)(this.options,e)||!Object(r.g)(this.state,t)}})},524:function(e,t,n){"use strict";var i=n(316),r=n(56),o=n(0),a=n(132);t.a=r.a.extend({optionTypes:{modelUid:o.b.string},comparator:"order",model:i.a,url:function(){return Object(a.a)("hotspots",this.options.modelUid,this.options.checkPrefetch)}})},531:function(e,t,n){e.exports=n.p+"static/assets/images/viewer/cardboard-instructions-c04f2ea47a37bada5956a3e0acd288d3.svg"},534:function(e,t,n){"use strict";var i=n(5),r=n.n(i),o=n(25),a=n(16),s=o.a.extend({defaults:{name:"",uid:"",duration:0,isLoop:!1,isEnabled:!0},endpoint:function(){return"/animations/".concat(this.get("uid"))},registerOptions:function(){this._lastOptions={name:this.get("name"),isLoop:this.get("isLoop"),isEnabled:this.get("isEnabled")}},hasChangedOptions:function(){if(!this._lastOptions)return!0;var e=this._lastOptions;for(var t in e)if(e[t]!==this.get(t))return!0;return!1},save:function(){return this.hasChangedOptions()?(this.registerOptions(),a.b.patchAnimation(this.get("uid"),{name:this.get("name"),isLoop:this.get("isLoop"),isEnabled:this.get("isEnabled")})):r.a.resolve()}}),u=n(56),l=n(0),c=n(132);t.a=u.a.extend({optionTypes:{modelUid:l.b.string},comparator:"order",model:s,_trashbin:[],url:function(){return Object(c.a)("animations",this.options.modelUid,this.options.checkPrefetch)}})},535:function(e,t,n){"use strict";var i=n(56),r=n(25).a.extend({});t.a=i.a.extend({model:r,parse:function(e){return e.results.images},url:function(){return"/i/models/"+this.options.uid+"/fallback"}})},536:function(e,t,n){"use strict";var i=n(296),r=n(56),o=n(0),a=n(132);t.a=r.a.extend({optionTypes:{modelUid:o.b.string},comparator:"order",model:i.a,url:function(){return Object(a.a)("sounds",this.options.modelUid,this.options.checkPrefetch)},modelId:function(e){return e.cid},triggerEditTrack:function(e){this.trigger("editTrack",e)},triggerDeleteTrack:function(e){this.trigger("removeTrack",e)},triggerDuplicateTrack:function(e){this.trigger("duplicateTrack",e)},triggerSelectTrack:function(e){this.trigger("select",e)}})},537:function(e,t,n){"use strict";var i=n(1),r=n(338),o=n(56),a=n(0),s=n(286),u=n(132);t.a=o.a.extend(Object(i.extend)({optionTypes:{modelUid:a.b.string},model:r.a,url:function(){return Object(u.a)("matcaps",this.options.modelUid,this.options.checkPrefetch)}},s.a))},538:function(e,t,n){"use strict";var i=n(327),r=n(56),o=n(0),a=n(132);t.a=r.a.extend({optionTypes:{modelUid:o.b.string},model:i.a,url:function(){return Object(a.a)("backgrounds",this.options.modelUid,this.options.checkPrefetch)}})},539:function(e,t,n){"use strict";var i=n(328),r=n(56),o=n(0),a=n(132);t.a=r.a.extend({optionTypes:{modelUid:o.b.string},model:i.a,url:function(){return Object(a.a)("environments",this.options.modelUid,this.options.checkPrefetch)}})},56:function(e,t,n){"use strict";var i=n(10),r=n(1),o=n(47),a=n.n(o),s=n(5),u=n.n(s),l=n(80),c=n(99),d=n(59),f=function(e,t){return Math.min(e,Math.max(0,parseInt(t)||0))},h=function(){var e={};return{get:function(t){return e[t]},update:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(n){e[n.uid]=t})}}},p=function(e,t){var n=function(){var t=Object(r.isNumber)(e.lastPage)?e.lastPage:0,n=f(t,e.firstPage);return{lastPage:t,currentPageIndex:n,hasPrevious:0!==n}},i=h(),o=n(),a=function(e){return function(t){return i.update(e,t.results),o.currentPageIndex=e,t.previous||(o.hasPrevious=!1),t.next?o.lastPage=1/0:o.lastPage=e,t}};return{type:"offset",loadPrevious:function(e){var n=f(o.lastPage,o.currentPageIndex-1);return t(n,e).then(a(n))},loadNext:function(e){var n=f(o.lastPage,o.currentPageIndex+1);return t(n,e).then(a(n))},loadFirst:function(e){return o=n(),i=h(),t(0,e).then(a(0))},reset:function(){o=n()},hasPrevious:function(){return o.hasPrevious},hasNext:function(){return o.currentPageIndex+1<o.lastPage},isFirst:function(){return 0===o.currentPageIndex},getQueryParamsForElementUid:function(e){return{page:i.get(e)||""}},getQueryParams:function(){return{page:o.currentPageIndex}},setInitialQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(d.a)(e.split("?")[1]||"").page}(e);i.update(n,t.results)}}},g=n(2),m=n.n(g),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(d.a)(e.split("?")[1]||"").cursor},b=function(){var e={};return{get:function(t){return e[t]},update:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(n){e[n.uid]=t})}}},w=function(e,t){var n=function(){return{previousCursor:e.previous||null,currentCursor:e.current,nextCursor:e.next||null}},i=b(),r=n(),o=function(e,t){return function(n){return i.update(e,n.results),r.currentCursor=e,t.setNext&&(r.nextCursor=n.next?v(n.next):null),t.setPrevious&&(r.previousCursor=n.previous?v(n.previous):null),n}};return{type:"cursor",loadPrevious:function(e){return t(r.previousCursor,e).then(o(r.previousCursor,m()({},e,{setPrevious:!0})))},loadNext:function(e){return t(r.nextCursor,e).then(o(r.nextCursor,m()({},e,{setNext:!0})))},loadFirst:function(e){return r=n(),i=b(),t(r.currentCursor,e).then(o(r.current,m()({},e,{setNext:!0,setPrevious:!0})))},reset:function(){r=n()},hasPrevious:function(){return null!==r.previousCursor},hasNext:function(){return null!==r.nextCursor},isFirst:function(){return r.currentCursor===e.current},getQueryParamsForElementUid:function(e){return{cursor:i.get(e)}},getQueryParams:function(){return{cursor:r.currentCursor}},setInitialQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v(e);i.update(n,t.results)}}},y=n(8),C=n(19),S=n(18);function k(e,t,n){var i=[],o=Object(r.debounce)(function(){var e=i.slice();i=[],n.trigger(t,e)},20),a=function(e){i.push(e),o()};return n.on(e,a),function(){n.off(e,a)}}var x=n(45),_=Object(l.a)(["initialize"])(a.a.Collection);t.a=_.extend({mixins:[x.b],optionsTypes:{offset:x.a.number,pageSize:x.a.number,paginationType:x.a.oneOf(["cursor","offset"]),lastPage:x.a.number,firstPage:x.a.number,minOffset:x.a.number,maxOffset:x.a.number,cursor:x.a.shape({previous:x.a.string,next:x.a.string})},defaultOptions:function(){return{pageSize:i.a.apiPageSize,paginationType:"cursor",offset:0,minOffset:0,maxOffset:1/0,cursor:{previous:null}}},backend:c.a,previousPromise:u.a.resolve(),constructor:function(){this.options=Object(r.extend)({},this.defaultOptions(),Object(r.pickBy)(arguments[1]||{},function(e){return void 0!==e})),_.apply(this,arguments)},initialize:function(){this.options.backend&&(this.backend=this.options.backend),this._loading="none",k("add","afterAdd",this),k("remove","afterRemove",this),this.triggerAfterRequest=Object(r.debounce)(this.triggerAfterRequest.bind(this),20),this.initializePagination(),_.prototype.initialize.apply(this,arguments)},at:function(e){return e<0?void 0:_.prototype.at.call(this,e)},domain:function(){return Object(r.result)(this.backend,"domain")},parse:function(e){return this.backend.parse(e)},queryParams:function(){return this.isCursorPagination()?{cursor:this._currentCursor,count:Object(r.result)(this.options,"pageSize")}:{offset:this.options.offset,count:Object(r.result)(this.options,"pageSize")}},url:function(){var e=Object(r.result)(this,"domain")+Object(r.result)(this,"endpoint")+y.c.craft("?",this.queryParams());return e=e.replace(/(?!^)\/{2,}/g,"/")},fetch:function(){this.triggerBeforeRequest();var e=this.previousPromise;return this.previousPromise=u.a.resolve(_.prototype.fetch.apply(this,arguments)).then(function(t){return e.timeout(1e3).catch(S.d).then(function(){return t})}),this.previousPromise.then(function(e){return this.previousPromise=u.a.resolve(),this.triggerAfterRequest(e),e}.bind(this))},reset:function(){_.prototype.reset.apply(this,arguments),this.pagination.reset()},triggerBeforeRequest:function(){this.trigger("beforeRequest")},triggerAfterRequest:function(e){this.trigger("afterRequest",e)},isCursorPagination:function(){return"cursor"===this.pagination.type},initializePagination:function(){"offset"===this.options.paginationType?this._initializeOffsetPagination():this._initializeCursorPagination()},_initializeCursorPagination:function(){var e=this.options.cursor;this.pagination=w(e,function(e,t){return this._currentCursor=e,u.a.resolve(this.fetch(Object(r.extend)({},t,{reset:!1,add:!1,remove:!1})))}.bind(this))},_initializeOffsetPagination:function(){var e={lastPage:this.options.lastPage,firstPage:this.options.firstPage};this.pagination=p(e,function(e,t){return this.options.offset=this.options.minOffset+Object(r.result)(this.options,"pageSize")*e,u.a.resolve(this.fetch(Object(r.extend)({},t,{reset:!1,add:!1,remove:!1})))}.bind(this))},loadPreviousPage:function(e){var t=this;this.setLoading("previous");var n=e||{};return this.pagination.loadPrevious(n).then(function(e){var i=t.parse(e);return n.setPrevious&&n.setNext?t.set(i):t.add(i,{at:0}),t.setLoading("none"),i}).catch(function(e){throw t.setLoading("none"),e})},loadNextPage:function(e){var t=this;this.setLoading("next");var n=e||{};return this.pagination.loadNext(n).then(function(e){var i=t.parse(e);return n.setPrevious&&n.setNext?t.set(i):t.add(i),t.setLoading("none"),i}).catch(function(e){throw t.setLoading("none"),e})},loadFirstPage:function(e){var t=this;return this.setLoading("refresh"),this.pagination.loadFirst(e||{}).then(function(e){var n=t.parse(e);return n.length||t.trigger("empty"),t.set(n),t.setLoading("none"),n}).catch(function(e){throw t.setLoading("none"),e})},loadLatestItems:function(){var e=this;return this.setLoading("refresh"),this.pagination.loadFirst({allowPrefetching:!1}).then(function(t){var n=e.parse(t);return e.add(n,{at:0}),e.setLoading("none"),n}).catch(function(t){throw e.setLoading("none"),t})},hasPreviousPage:function(){return this.pagination.hasPrevious()},hasNextPage:function(){return this.pagination.hasNext()},setLoading:function(e){this._loading=e,this.trigger("loadingChanged",e)},loading:function(){return this._loading},isLoading:function(){return"none"!==this._loading}},{extend:function(e,t){var n=Object(r.extend)({},e,{defaultOptions:Object(C.h)(Object(S.g)(this.prototype.defaultOptions||{}),Object(S.g)(e.defaultOptions||{})),optionTypes:Object(r.extend)({},this.prototype.optionTypes||{},e.optionTypes||{})});return _.extend.call(this,n,t)}})},58:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(5),a=n.n(o),s=n(1),u=n(15),l=n(24),c=n(75),d=n(46),f=n(0),h=n(86),p=[];t.a=u.a.extend({parent:"body",el:'<div data-element="popup" />',optionTypes:{cleanOnClose:f.b.bool,shouldExitOnClickOutside:f.b.bool,shouldRejectOnCancel:f.b.bool},defaultOptions:{cleanOnClose:!0,shouldExitOnClickOutside:!0,shouldRejectOnCancel:!1},events:{"click .popup-container":"onClickOutside",'click [data-action="close"]':"cancel","click button:not([type])":d.f},constructor:function(){this.onKeyDown=this.onKeyDown.bind(this),this.debouncedCenter=Object(s.debounce)(this.center,50),this.resizeHandler=function(){r.a.each(p,function(e,t){t.debouncedCenter()})}.bind(this),u.a.apply(this,arguments)},initialize:function(){u.a.prototype.initialize.apply(this,arguments),this.renderLayout()},setElement:function(){return u.a.prototype.setElement.apply(this,arguments),this.$container=this.$(".popup-container"),this},delegateEvents:function(){u.a.prototype.delegateEvents.apply(this,arguments),r()(window).on("resize",this.resizeHandler),document.addEventListener("keydown",this.onKeyDown,!0)},undelegateEvents:function(){u.a.prototype.undelegateEvents.apply(this,arguments),r()(window).off("resize",this.resizeHandler),document.removeEventListener("keydown",this.onKeyDown,!0)},getPromise:function(){return this._promise||(this._promise=new c.a),this._promise},open:function(){return-1!==p.indexOf(this)?(this.show(),this.setElement(this.$el),this.getPromise()):(this.render(),p.unshift(this),r()(Object(s.result)(this,"parent")).append(this.$el),this.setElement(this.$el),this.hide(),this.center(),window.requestAnimationFrame(function(){this.show()}.bind(this)),this.autofocus(),this.center(),this.getPromise())},show:function(){this.$container.removeClass("hidden"),document.body.classList.add("--prevent-scroll")},hide:function(){this.$container.addClass("hidden"),p.filter(function(e){return!e.isHidden()}).length||document.body.classList.remove("--prevent-scroll")},setIsLoading:function(e){this.$container.toggleClass("popup-loading",e)},isHidden:function(){return this.$container.hasClass("hidden")},onKeyDown:function(e){27===e.keyCode&&0!==p.length&&this.cancel()},onClickOutside:function(e){e.target===e.currentTarget&&this.options.shouldExitOnClickOutside&&this.cancel()},cancel:function(e){return this._close(),this.options.shouldRejectOnCancel?this.getPromise().reject(new l.e(e)):this.getPromise().resolve()},continue:function(e){return this._close(),this.getPromise().resolve(e)},_close:function(e,t){return-1===p.indexOf(this)?this:this.$container.closest(".inline-popup").length>0?this:this.options.cleanOnClose||t?(-1!==p.indexOf(this)&&p.splice(p.indexOf(this),1),this.hide(),Object(h.a)(this.$el).timeout(500).catch(function(){}).then(this.remove.bind(this))):(this.hide(),a.a.resolve())},close:function(e){return this._close(null,e)},replaceWith:function(e,t){return this.close(t),e.open()},center:function(){var e=this.$(".js-popup"),t=r()(window).width(),n=r()(window).height(),i=e.height(),o=e.width(),a=(t-o)/2,s=n/2-i/2+(i<n?0:(i-n)/2+40);e.css({position:"absolute",left:"".concat(a,"px"),top:s});var u=a+o/2+"px"+" "+(s+i/2+"px");this.$container.css({perspectiveOrigin:u})},resize:function(e){var t=this.$(".js-popup");return e.width&&t.width(e.width),e.height&&t.height(e.height),this},autofocus:function(){var e=window.scrollX,t=window.scrollY;this.$(".form-input:visible").length>0?(this.$(".form-input").eq(0).focus(),window.scrollTo(e,t)):(this.$(".btn-primary, .submit").focus(),window.scrollTo(e,t))},_removeElement:function(){this.$el.remove()},remove:function(){return this.undelegateEvents(),u.a.prototype.remove.apply(this,arguments)},renderLayout:function(){this.$el.html(this.template()),this.$container=this.$(".popup-container")},afterRender:function(){u.a.prototype.afterRender.apply(this,arguments),this.renderChildren(),this.center()}})},59:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(38),r=n.n(i);function o(e){var t={};return Object.keys(e).forEach(function(n){t[n]=Array.isArray(e[n])?e[n]:[e[n]]}),t}function a(e){return"object"===r()(e)?o(e):("?"===e[0]&&(e=e.substr(1)),e.split(/&+/g).reduce(function(e,t){if(0===t.length)return e;var n=t.indexOf("=");-1===n&&(n=t.length);var i=decodeURIComponent(t.substr(0,n).replace(/\+/g,"%20")),r=decodeURIComponent(t.substr(n+1).replace(/\+/g,"%20"));return void 0===e[i]&&(e[i]=[]),e[i].push(r),e},{}))}},6:function(e,t,n){"use strict";n.r(t);var i,r,o=n(2),a=n.n(o),s=n(3),u=n.n(s),l=n(63),c=n.n(l),d=n(1),f=n(114),h=n(133),p=n(105),g=n(8),m=n(44),v=n(96),b=n(19),w=n(61),y=n(27),C=n(30),S=n(31),k=c.a.Loader.extend({getSource:function(e){return{src:{type:"code",obj:window.nunjucksPrecompiled[e]},path:e}}}),x=new c.a.Environment([new k],{autoescape:!0});x.addGlobal("url",function(e,t){return Object(C.e)(e,Object(d.omit)(t,["__keywords"]))}),x.addFilter("log",function(e){return console.log("[Nunjucks] : ",e),e}),x.addFilter("urlize",function(e,t,n,i){var r=Array.prototype.slice.call(arguments,0);if(r.length&&r[r.length-1].__keywords){var o=r.pop(),a=r[1],s=r[2],u=r[3];t=a||o.trim_url_limit,n=s||o.nofollow,i=u||o.target}return"string"==typeof e&&(e=S.escapeHTML(e)),c.a.runtime.markSafe(S.urlize(e,{trimUrlLimit:t,noFollow:n,target:i}))}),x.addFilter("best_fit",p.a),x.addFilter("iterable",function(e){return Array.isArray(e)?e:[e]}),x.addFilter("slugify",S.slugify),x.addFilter("call_macro_by_name",function(e){var t=this.ctx[e],n=Array.prototype.slice.call(arguments,1);if(!t)throw new Error('Missing macro "'+e+'"');return t.apply(this,n)}),x.addFilter("user_profile_filled",function(e){return"avatar-blue"!==e.avatars.name&&"avatar-orange"!==e.avatars.name&&"avatar-grey"!==e.avatars.name&&(e.biography||e.tagline||e.city||e.country)&&(e.website||e.twitterUsername||e.linkedinUsername||e.facebookUsername||e.unityConnectUrl)}),x.addFilter("has_plan_type",w.f),x.addFilter("badge_label",w.j),x.addFilter("print_suggestion_verb",function(e,t){var n="";return 0===e&&(n=t.displayName+" is a <b>popular</b> user"),10===e&&(n="You <b>liked</b> their models :"),20===e&&(n="You share a common <b>skill</b> :"),30===e&&(n="You share a common <b>interest</b> :"),40===e&&(n="Your profiles are similar."),c.a.runtime.markSafe(n)}),x.addFilter("print_suggestion_target",function(e,t){if(0===t)return"";if(10===t){var n=[];return e.forEach(function(e){var t=u()('<a href="'.concat(Object(C.e)("models:view_without_slug",{model_id:e.uid}),'">').concat(e.name,"</a>"));n.push(u()("<div>").append(t).html())}),c.a.runtime.markSafe(n.join(", "))}return 20===t?e.name:30===t?e.name:40===t?"":void 0}),x.addFilter("skill_slug_to_name",function(e){return i||(i=new h.a).fetch({immediate:!0}),i.findWhere({slug:e}).get("name")}),x.addFilter("category_uid_to_name",function(e){r||(r=new f.a).fetch({immediate:!0});var t=r.findWhere({uid:e}),n=t.get("name");return t.get("parent")&&(n=r.findWhere({uid:t.get("parent")}).get("name ")+"/"+n),n}),x.addFilter("underscorify",S.underscorify),x.addFilter("image_container",function(e,t,n,i,r,o){var a=Object(p.a)(e,t,n);return c.a.runtime.markSafe('\n        <div\n            class="image-container '.concat(o&&!Object(y.h)(a)?"--loading":"",'"\n            ').concat(o?'data-background="'.concat(a,'"'):"",'\n            style="\n                width: ').concat(i?"100%":t+"px",";\n                background-image: url(").concat(a,');\n            ">\n            <div style="padding-top: ').concat(n/t*100,'%"></div>\n        </div>\n    '))}),x.addFilter("query_string",function(e,t){var n=document.createElement("a");return n.href=e,Object.keys(t).length&&(n.search="?"+g.c.craft(g.c.reset(n.search,t))),n.href}),x.addFilter("first_n",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.slice(0,t)}),x.addFilter("fill_null",function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.slice();n.length<t;)n.push(null);return n}),x.addFilter("prettify_text",function(e,t){var n=x.getFilter("striptags")(e);return x.getFilter("urlize")(n,t)}),x.addFilter("paragraphy",function(){return c.a.runtime.markSafe(S.paragraphy.apply(S,arguments))}),x.addFilter("striptags",function(){return c.a.runtime.markSafe(S.stripTags.apply(S,arguments))}),x.addFilter("humanize_number",m.l),x.addFilter("humanize_file_size",m.k),x.addFilter("format_order_uid",S.formatOrderUid),x.addFilter("format_price",m.g),x.addFilter("format_rating",m.h),x.addFilter("comma_formatted_number",m.e),x.addFilter("pluralize",S.pluralize),x.addFilter("markdown",function(e){return e}),x.addFilter("pretty_slug",function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("-").map(d.capitalize).join(" ")}),x.addFilter("merge",function(e,t){return a()({},e,t)}),x.addFilter("json_data",function(e){return JSON.stringify(e).replace(/<\//g,"<\\/")}),x.addFilter("format_date",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM. Do YYYY",n="full"===t?"YYYY/MM/DD HH:mm":t;return v.a.utc(e).format(n)}),x.addFilter("max",function(e){return Math.max.apply(Math,e)}),x.addFilter("min",function(e){return Math.min.apply(Math,e)}),x.addFilter("time_ago",v.b),x.addFilter("seconds_to_duration",function(e){return v.a.utc(1e3*parseFloat(e)).format("mm:ss")}),x.addFilter("can_upgrade_to_pro",function(e){return Object(w.c)(e)}),x.addFilter("humanize_date",function(e){return v.a.utc(e).format("MMM[.] Do[,] YYYY")});var _=x.getFilter("trim");x.addFilter("trim",function(e){return null===e?"":_(e)}),x.addFilter("map",function(e,t){return e.map(function(e){return e[t]})});var O=function(e,t){return new Error("\n\n"+e+(t?" with `"+t+"` className":"")+" is not a Component. \nThe `component` filter only accepts component elements.\nYou can get a component element by calling `Component#createChildrenComponents(childrenConfigs)`, or `Component#createChildComponent(childName, childConfig)`.\n/!\\ Note that this is different from Component instances.\n")};function E(e,t,n){if(!e)return n?"<div data-component ".concat(t?'class="'.concat(t,'"'):"",">").concat(n,"</div>"):"";if("function"!=typeof e)throw O(e,t);var i=e();if(!i.isComponentElement)throw O(e,t);var r="";try{r=i.template()}catch(e){throw new Error("\n\nError while getting the template of Component `"+i.displayName+"`:\n\n"+e.stack+"\n\n")}return'<div data-component id="'.concat(i.cid,'" ').concat(t?'class="'.concat(t,'"'):"",">").concat(r,"</div>")}function M(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")}function P(e){return Object.keys(Object(b.c)(e)).map(function(t){return S.camelToKebabCase(t)+": "+e[t]+";"}).join(" ")}function T(e,t){return Object(d.escape)(e)+'="'+Object(d.escape)(t)+'"'}x.addFilter("component",function(e,t,n){return c.a.runtime.markSafe(Array.isArray(e)?function(e,t,n){return e.map(function(e){return E(e,t,n)}).join("")}(e,t,n):E(e,t,n))}),x.addFilter("class_names",M),x.addFilter("style",P),x.addFilter("attributes",function(e){return c.a.runtime.markSafe(Object.keys(Object(b.c)(e)).map(function(t){return Object(d.includes)(["disabled","checked","selected","readonly","multiple"],t)?e[t]?T(t,!0):"":T(t.match(/^classNames?$/)?"class":S.camelToKebabCase(t),"style"===t?P(e[t]):"classNames"===t?M(e[t]):e[t])}).join(" "))}),t.default={get:Object(d.curry)(function(e,t){return x.render(e+".jinja",t)}),getFromString:Object(d.curry)(function(e,t){return x.renderString(e,t)}),getFromMacro:function(e,t,n){Array.isArray(e)&&(n=t,t=e[1],e=e[0]);var i=function(n){return x.renderString(["{%- from source import "+t+" -%}","{{ "+t+"("+n.map(function(e,t){return"parameters[ "+t+" ]"}).join(",")+") }}"].join("\n"),{source:e+".jinja",parameters:n})};return n?i(n):i}}},61:function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"i",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"k",function(){return b});var i=n(10),r=n(1);function o(e){return i.a.planLabels[e]}function a(e,t){return i.a.proPlanTypes.indexOf(e)>i.a.proPlanTypes.indexOf(t)}function s(e,t){return i.a.proPlanTypes.indexOf(e)>=i.a.proPlanTypes.indexOf(t)}function u(e,t){return!!e.isStaff||!!i.a.proPlanTypes.includes(t)&&i.a.proPlanTypes.slice(i.a.proPlanTypes.indexOf(t)).includes(e.account)}function l(e){return"basic"===e}function c(e){var t=["basic"].concat(i.a.proPlanTypes);return t[t.indexOf(e)+1]}function d(e){return i.a.planLabels[c(e)]||null}var f=Object(r.max)(Object(r.values)(i.a.maxSoundtracksPerModel));function h(e){return i.a.maxSoundtracksPerModel[e]===f}var p=Object(r.max)(Object(r.values)(i.a.maxSoundtracksPerModel));function g(e){return i.a.maxSoundtracksPerModel[e]===p}var m=Object(r.max)(Object(r.values)(i.a.maxModelFilesizes));function v(e){return e>m}function b(e){if("ent"===e.account)return!1;if("basic"===e.account)return!0;var t=e.privateLimit.count;return null!==t&&(0===t||t<=.25*i.a.plansPrivateModelLimit[e.account])}},62:function(e,t,n){"use strict";var i=n(47),r=n.n(i),o=n(80);t.a=Object(o.a)(["initialize","remove","delegateEvents","undelegateEvents","setElement","render","viewDidMount","viewDidUpdate","viewWillUnmount"])(r.a.View)},65:function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(4),a=n.n(o),s=n(5),u=n.n(s),l=n(82),c=n(32),d=n(7),f=n(25),h=n(16),p=n(9);t.a=f.a.extend({defaults:{collections:{},disableInfo:{requiredPlan:"",detail:[],isExempt:!1}},initialize:function(){f.a.prototype.initialize.apply(this,arguments),this.on("change:isPrivate",function(){this.get("isPrivate")||this.set("password","")}.bind(this)),this.maxFailCount=5},endpoint:function(){return"/models".concat(this.isNew()?"":"/".concat(this.get("uid")))},reuploadUrl:function(){return this.url()+"/versions"},getModelManagementData:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowPrefetching,n=void 0===t||t;return h.b.getModelManagementData(this.get("uid"),{allowPrefetching:n}).then(function(t){return e.set({hasStats:t.hasStats,downloadStatus:t.downloadStatus,extraFile:t.extraFile,disableInfo:t.disableInfo,hasProcessingVersion:t.hasProcessingVersion}),t})},like:function(){var e=this;return d.a.authenticate(function(){return p.b.store.dispatch(p.a.authUser.likeModel(e.get("uid")))})},unlike:function(){var e=this;return d.a.authenticate(function(){return p.b.store.dispatch(p.a.authUser.unlikeModel(e.get("uid")))})},toggleLike:function(){return d.a.authenticate(function(e){return e.doesLike(this.get("uid"))?this.unlike():this.like()}.bind(this))},hit:function(){var e=d.a.me();if(e.isAuthenticated()){var t=this.get("user")&&e.get("uid")===this.get("user").uid,n=e.get("isStaff");if(t||n)return u.a.resolve()}return this.get("isPublished")?h.b.viewModel(this.get("uid")):u.a.resolve()},isPublished:function(){return(this.get("isPublished")||!!this.get("publishedAt"))&&!this.get("isDeleted")},publish:function(){var e=this;return h.b.publishModel(this.get("uid")).then(function(){e.set({isPublished:!0,publishedAt:new Date})})},sharing:function(){var e=this;return h.b.getModelSharing(this.get("uid")).then(function(t){return e.set("sharing",t),t})},addCollection:function(e,t){this.addCollections(a()({},e,t))},addCollections:function(e){this.set("collections",r()({},this.get("collections"),e))},isInflated:function(){var e=Object.keys(this.attributes);return e.indexOf("description")>-1&&e.indexOf("tags")>-1},isInCollection:function(e){return!!this.get("collections")[e]},isProcessing:function(){var e=this.get("status");return e&&"PROCESSING"===e.processing},canEdit:function(){var e=d.a.me();return e.isAuthenticated()&&(e.get("isStaff")||e.get("uid")===this.get("user").uid)},getCollections:function(e){var t=this,n=e.filter(function(e){return!(e in t.get("collections"))});return n.length?h.b.getModelCollections(this.get("uid"),n).then(function(e){var n=e.results;return t.addCollections(n),n}):(this.trigger("change:collections"),u.a.resolve())},getDownloadType:function(){return this.get("price")>0&&this.get("license")?"paid":this.get("license")?"free":"no"},getExtraArchive:function(){var e=this;return"paid"!==this.getDownloadType()||this.isProcessing()?(this.set("extraArchive",null),u.a.resolve()):h.b.getModelExtraArchive(this.get("uid")).then(function(t){t=t.metadata?t:null,e.set("extraArchive",t)}).catch(function(t){404===t.status&&e.set("extraArchive",null)})},uploadExtraArchive:function(e){return h.b.updateModelExtraArchive(this.get("uid"),e)},removeExtraArchive:function(){return h.b.removeModelExtraArchive(this.get("uid"))},reprocess:function(){return h.b.reprocessModel(this.get("uid")).then(this.checkLatestVersionAndRetry.bind(this)).then(function(e){switch(e.processing){case"SUCCEEDED":return this.set("hasStats",!0),u.a.resolve();case"FAILED":return this.set("hasStats",!1),u.a.reject()}}.bind(this))},getLatestVersion:function(){var e=this;return h.b.getModelVersions(this.get("uid")).then(function(t){var n=t.results,i=n.reduce(function(e,t){return new Date(t.createdAt).getTime()>new Date(e.createdAt).getTime()?t:e},{createdAt:0});return e.set("versions",n),i})},checkLatestVersionAndRetry:function(){return c.b(this.getLatestVersion().then(function(e){return c.f(1/0,function(){return h.b.getVersion(e.uid,{allowPrefetching:!1}).then(function(e){var t=e.status;return["SUCCEEDED","FAILED"].includes(t.processing.toUpperCase())?t:u.a.reject(t)})},{interval:2e3})}))},getOwnershipStatus:function(e){return h.b.getModelOwnershipStatus(this.get("uid"),{allowPrefetching:e})},pollArchivesStatus:function(){var e=this;return c.f(1/0,function(){return e.getModelManagementData({allowPrefetching:!1}).then(function(e){return"archives_processing"===e.downloadStatus||"processing"===e.extraFile.status||"pending"===e.extraFile.status?u.a.reject():e})},{interval:1e4})},checkStatus:function(){var e=this;return h.b.getModelStatus(this.get("uid")).then(function(t){return t?(e.set("status",t),e.set("processingStatus",{PENDING:0,PROCESSING:1,SUCCEEDED:2,FAILED:3}[t.processing.toUpperCase()]),["SUCCEEDED","FAILED"].includes(t.processing.toUpperCase())?t:u.a.reject(t)):u.a.reject()})},checkStatusAndRetry:function(){return c.f(1/0,this.checkStatus.bind(this),{interval:2e3}).catch(function(){return{processing:"FAILED",error:"The server failed to answer in time"}})},getRatings:function(){return h.b.getModelRatings(this.get("uid"))}},{pollDownloadLink:function(e){return l.b.poll(e,function(e){return e>3e4?e:2*e})}})},681:function(e,t,n){e.exports=n.p+"static/assets/images/viewer/UVChecker-9d678cb42a024068a573165fa538bb4d.png"},682:function(e,t,n){e.exports=n.p+"static/assets/images/viewer/Hotspot-f705d389cfa9353c3ab7e6ce58f49b3f.png"},683:function(e,t,n){e.exports=n.p+"static/assets/images/editor/Sound-c9d6e5b9ed6c02f1dfaea84e549485c1.png"},684:function(e,t,n){e.exports=n.p+"static/assets/images/editor/Hemi-069d53239a191b55450d472c13408320.png"},685:function(e,t,n){e.exports=n.p+"static/assets/images/editor/Point-7493691bc0625a4c8a09393c65c39e5c.png"},686:function(e,t,n){e.exports=n.p+"static/assets/images/editor/Spot-7484bdcd407b8b2416471e8e6cd23770.png"},687:function(e,t,n){e.exports=n.p+"static/assets/images/editor/Direction-da0354ccc70bc3322aa657cdcd356e39.png"},688:function(e,t,n){e.exports=n.p+"static/assets/images/editor/eye-slash-ff805f0fec76820991335845a87896c4.png"},689:function(e,t,n){e.exports=n.p+"static/assets/images/editor/target-ff54e741c7266e6dc9a8c0538f99c6d0.png"},69:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return d});var i=n(1),r=n(19),o=n(171),a=n.n(o);n.d(t,"b",function(){return a.a});var s=n(140),u=n.n(s);n.d(t,"e",function(){return u.a});var l=function(){return window.innerWidth<=parseInt(u.a.responsiveBreakpointXSmall)},c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(i.flatMap)(t,function(e){return Object(r.f)(e)?Object(i.flatMap)(Object.keys(e),function(t){return e[t]?[t]:[]}):Array.isArray(e)?e:e?[e]:[]}).join(" ")},d=function(e,t,n,i){var r=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;if(e/t<n/i){var o=t*n/e+r;return{width:n+r,height:o,x:0,y:-Math.abs(o-i)/2||0}}var a=e*i/t+r;return{width:a,height:i+r,x:-Math.abs(a-n)/2||0,y:0}}(e,t,n,i),o=r.width,a=r.height,s=r.x,u=r.y;return{width:o,height:a,transform:"translate(".concat(s,"px, ").concat(u,"px)")}}},7:function(e,t,n){"use strict";var i=n(11),r=n.n(i),o=n(21),a=n.n(o),s=n(2),u=n.n(s),l=n(4),c=n.n(l),d=n(1),f=n(5),h=n.n(f),p=n(25),g=n(41),m=n(29),v=n(61),b=n(24),w=n(16),y=n(9),C=n(111),S=p.a.extend({defaults:{likes:{},followings:{},subscriptions:{},reviewUpvotes:{},purchases:{}},mixins:[Object(C.a)(function(e){return{likes:y.c.authUser.likes(e)}})],endpoint:function(){return this.options.me&&!this.get("uid")?"/users/me":this.isNew()||null!==this.get("uid")?this.isNew()?"/users":"/users/".concat(this.get("uid")):"/users/@".concat(this.get("username"))},isAuthenticated:function(){return!this.get("isAnonymous")},isInflated:function(){return void 0!==this.get("account")&&Object.keys(this.attributes).length>Object.keys(this.defaults).length+1},followUsers:function(e){var t=this;return Array.isArray(e)?(e.forEach(function(e){return t.addFollowing(e,!0)}),S.authenticate(function(){return w.b.followUsers(e)})):h.a.reject("First argument should be an array of user UIDs.")},isProfileFilled:function(){return"avatar-blue"!==this.get("avatars").name&&(this.get("biography")||this.get("tagline")||this.get("city")||this.get("country"))&&(this.get("website")||this.get("twitterUsername")||this.get("linkedinUsername")||this.get("unityConnectUrl")||this.get("facebookUsername"))},follow:function(e){return this.addFollowing(e,!0),w.b.followUser(e)},unfollow:function(e){return this.addFollowing(e,!1),S.authenticate(function(){return w.b.unfollowUser(e)})},addFollowing:function(e,t){var n={},i=this.get("followingCount")||0;n[e]=t,this.addFollowings(n),this.set("followingCount",Math.max(i+(t?1:-1),0))},addFollowings:function(e){this.set("followings",Object(d.extend)({},this.get("followings"),e))},doesFollow:function(e){return!!this.get("followings")[e]},getDoesFollow:function(e){var t=this;return this.isAuthenticated()?w.b.doesCurrentUserFollow(e).then(function(n){return t.addFollowing(e,n),n}):h.a.resolve(!1)},getSummary:function(){var e=this;return w.b.getUserSummary(this.get("uid")).then(function(t){return e.set(t),t})},canViewPrivateModelsOf:function(e){return!!this.isAuthenticated()&&(!0===this.get("isStaff")||void 0!==e&&this.get("uid")===e)},canUpgradePlan:function(){return!1===Object(d.includes)(["ent"],this.get("account"))},canUpgradeToPro:function(){return Object(v.c)(this.get("account"))},doesLike:function(e){return y.c.authUser.doesLike(e,y.b.store.getState())},getDoesLike:function(e){return this.isAuthenticated()?y.b.store.dispatch(y.a.authUser.getDoesLike(e)):h.a.resolve(!1)},addReviewUpvote:function(e,t){this.addReviewUpvotes(c()({},e,t))},addReviewUpvotes:function(e){this.set("reviewUpvotes",Object(d.extend)({},this.get("reviewUpvotes"),e))},hasUpvotedReview:function(e){return this.get("reviewUpvotes")[e]||!1},getHasUpvotedReview:function(e){var t=this;return this.isAuthenticated()?w.b.hasCurrentUserUpvoted(e).then(function(n){return t.addReviewUpvote(e,n),n}):h.a.resolve(!1)},getReviewOnModel:function(e){var t=this;return w.b.getCurrentUserReview(e).then(function(n){return Object.keys(n).length?n:h.a.reject(new b.d("no review found for user ".concat(t.get("uid")," on model ").concat(e)))})},canReview:function(e){return this.isAuthenticated()?w.b.canReviewModel(e).then(function(e){return e.canReview}).catch(function(){return!1}):h.a.resolve(!1)},setPurchase:function(e,t){this.set("purchases",u()({},this.get("purchases"),c()({},e,t)))},getHasPurchased:function(e){var t=this;return this.isAuthenticated()?w.b.hasCurrentUserPurchased(e).then(function(n){return t.setPurchase(e,n),n}):h.a.resolve(!1)},hasPurchased:function(e){return this.get("purchases")[e]||!1},fetchPrivateLimits:function(){return this.isAuthenticated()?this.get("privateLimits")?h.a.resolve(this.get("privateLimits")):w.b.getCurrentUserPrivateLimits().then(function(e){return this.set("privateLimits",Object(d.extend)({},this.get("privateLimits"),e)),h.a.resolve(e)}.bind(this)):h.a.reject("User is not authenticated.")},hasSubscribed:function(e){return!!this.get("subscriptions")[e]},getHasSubscribed:function(e){var t=this;return this.isAuthenticated()?w.b.hasCurrentUserSubscribed(e).then(function(n){return t.updateSubscription(e,n),n}):h.a.resolve(!1)},updateSubscription:function(e,t){this.updateSubscriptions(c()({},e,t))},updateSubscriptions:function(e){this.set("subscriptions",u()({},this.get("subscriptions"),e))},updateAvatar:function(e){return w.b.updateUserAvatar(e).catch(function(e){throw e&&e.detail||"Unexpected error, your user settings may not have been changed."})},updateEmailSettings:function(e){return w.b.updateUserEmailSettings(this.get("uid"),e)},setAllowsRestricted:function(e){return this.isAuthenticated()?this.save({allowsRestricted:e},{patch:!0}):(m.a.set("sb_allows_age_restricted",e),h.a.resolve())},doAllowRestricted:function(){return this.isAuthenticated()?this.get("allowsRestricted"):"true"===m.a.get("sb_allows_age_restricted")},isMe:function(){return S.me().get("uid")===this.get("uid")},canAccessFeature:function(e){return Object(d.includes)(this.get("features").map(d.toUpper),Object(d.toUpper)(e))},getThumbnails:function(){var e=this;return w.b.getUserThumbnails(this.get("uid")).then(function(t){return e.set("thumbnails",t),t})}},{login:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).next;return w.b.login({email:e,password:t,next:n}).then(function(e){return S.clear(),e.result})},authenticate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0,i=function(){var e=a()(r.a.mark(function e(t,i){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(6),n.e(18),n.e(22)]).then(n.bind(null,116)).then(function(e){return e.default});case 2:return o=e.sent,e.abrupt("return",new o({initialForm:"login",next:i}).open().then(function(e){return S.fetchMe().then(function(e){return t(e)}).then(function(t){return t||e}).catch(function(t){return console.error(t),e})}).then(function(e){e&&e!==window.location.href?window.location=e:window.location.reload(!0)}));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),o=S.me();return o.isAuthenticated()?h.a.resolve(e(o)):i(e,t)},getMeSingleton:function(){if(!this._me){var e=y.c.authUser.user(y.b.store.getState());this._me=new S(e,{me:!0})}return this._me},fetchMe:function(){return y.b.store.dispatch(y.a.authUser.get({allowPrefetching:!1})).then(function(){return S.getMeSingleton()})},me:function(){return y.c.authUser.isInflated(y.b.store.getState())||y.b.store.dispatch(y.a.authUser.getFromPrefetched()),S.getMeSingleton()},getByName:function(e){var t=this;return w.b.getUserByName(e).then(function(e){return new t(e)})},getByAttributes:function(e,t){t=Object(d.extend)({},t);var n=new this(e=Object(d.extend)({uid:null},e),Object(d.extend)({},t.userOptions)),i=function(e){return e.set({}),e};return t.immediate?(n.fetch(t),i(n)):n.fetch(t).then(i)},getByUsername:function(e,t){return this.getByAttributes({username:e},t)},getByUid:function(e,t){return this.getByAttributes({uid:e},t)},clear:function(){g.b.invalidate("/i/users/me"),this._me=void 0}});t.a=S},70:function(e,t,n){"use strict";var i=n(15);t.a=i.a.extend({constructor:function(e){this.viewer=e.viewer,this.widgets=e.widgets,i.a.apply(this,arguments)},enable:function(){this.$el.removeClass("disabled")},disable:function(){this.$el.addClass("disabled")},isEnabled:function(){return this.$el.hasClass("disabled")}})},700:function(e,t,n){"use strict";var i=n(75),r=n(455),o=n.n(r),a=n(5),s=n.n(a),u=function(){return{_viewer:void 0,version:"0.2",initialize:function(e,t){this._viewer=e,this._uid=t;var n=this;window.addEventListener("message",function(e){if(e.data&&e.data.command){var t=e.data;"initialize"!==t.command&&Object.prototype.hasOwnProperty.call(n,t.command)&&n[t.command].call(n,t)}},!1)},ready:function(){this.answer({status:"load"})},clientReady:function(){return s.a.resolve()},answer:function(e){e.source=this._uid,void 0!==window.parent&&window.parent.postMessage(e,"*")},start:function(){this._viewer.start(),this.answer({status:"start"})},stop:function(){this._viewer.stop(),this.answer({status:"stop"})},lookat:function(e){this._viewer.lookat&&(this._viewer.lookat(e.eye,e.target,e.duration),window.setTimeout(function(){this.answer({status:"lookat"})}.bind(this),1e3*e.duration),this.answer({status:"lookat start"}))},autospin:function(e){!1===e&&(e=0),this.answer({status:"autospin"})},getViewerAPI:function(){}}},l=n(351),c=n(352),d=n(36),f=n(119),h=n(146),p=n(1),g=n(355),m=n(60),v=n(16),b=d.a.osg,w=d.a.osgAnimation,y=function(){c.a.apply(this,arguments),this.updateDaemon=void 0};y.prototype=Object(p.create)(c.a.prototype,{setCameraEasing:function(e){this._getFeatureModel("camera").set("easingFunction",e)},hideAnnotation:function(e,t){this._getFeatureModel("hotspot").get("hotspots").at(e).set("visible",!1),m.a.draw(),t(null)},showAnnotation:function(e,t){this._getFeatureModel("hotspot").get("hotspots").at(e).set("visible",!0),m.a.draw(),t(null)},createAnnotation:function(e,t,n,i,r,o,a){var s=f.a.computeNearestIntersection3D(e,t);if(!s)return a(null);var u=this._getFeatureModel("hotspot"),l=u.createHotspot(s,!0);v.b.getMarkdownPreview(o).then(function(e){l.set({name:r,content:{raw:o,rendered:e.result},eye:n,target:i}),m.a.redrawShadow(),a(null,u.get("hotspots").length-1),m.a.draw()},function(){l.set({name:r,eye:n,target:i}),m.a.redrawShadow(),a(null,u.get("hotspots").length-1),m.a.draw()}.bind(this))},updateAnnotation:function(e){var t,n=this._getFeatureModel("hotspot").get("hotspots").at(e);if(3===arguments.length){var i=arguments[1],r={};if(i.title&&(r.name=i.title),i.content&&(r.content={raw:i.content}),i.eye&&(r.eye=i.eye),i.target&&(r.target=i.target),t=arguments[2],i.content)return void v.b.getMarkdownPreview(i.content).then(function(e){r.content.rendered=e.result;var i=n.toJSON();this._filterAnnotationModelMessage(i),t(null,i),n.set(r),m.a.draw()}.bind(this),function(){var e=n.toJSON();this._filterAnnotationModelMessage(e),t(null,e),n.set(r),m.a.draw()}.bind(this));n.set(r)}else t=arguments[1];var o=n.toJSON();this._filterAnnotationModelMessage(o),m.a.redrawShadow(),t(null,o)},getAnnotation:function(e,t){var n=this._getFeatureModel("hotspot").get("hotspots").at(e).toJSON();this._filterAnnotationModelMessage(n),t(null,n)},removeAnnotation:function(e,t){var n=this._getFeatureModel("hotspot").get("hotspots"),i=n.at(e);n.remove(i),m.a.redrawShadow(),t(null)},pickFromScreen:function(){var e=b.vec3.create(),t=b.vec3.create();return function(n,i){var r=f.a.computeNearestIntersection2D(n[0],n[1],this._pickMask.click);if(!r)return i(null);f.a.getWorldPositionFromHit(r,t,e);var o=this._getHitNodeID(r),a=this._getFeatureModel("material").findFirstMaterial(r._nodePath);i(null,{position3D:t,position2D:n,normal:e,instanceID:o,material:a?a.getJSON():null})}}(),pickFromScene:function(){var e=b.vec3.create(),t=b.vec3.create();return function(n,i,r){var o=f.a.computeNearestIntersection3D(n,i);if(!o)return r(null);f.a.getWorldPositionFromHit(o,t,e);var a=this._getHitNodeID(o),s=this._getFeatureModel("material").findFirstMaterial(o._nodePath);r(null,{position3D:t,normal:e,instanceID:a,material:s?s.getJSON():null})}}(),addVideoTexture:function(e,t,n){this._convertVideoDataUriToImage(e,void 0,t,n)},_convertVideoDataUriToImage:function(e,t,n,i){var r=this._getFeatureModel("material").getImageCollection();h.default.instance.getOrCreateImage(e).promise.then(function(o){var a=r.addNewImage({uid:t,url:e,width:o.getWidth(),height:o.getHeight(),name:e.slice(0,100)});void 0!==n&&o.getImage&&(o.getImage().loop=n),i(null,a.getUID())}).catch(function(){i("failed to add texture")})},translate:function(e,t,n){var i=arguments.length,r=arguments[i-1],o=0,a=w.easeOutQuad;i>2&&((n=arguments[2]).duration&&(o=n.duration),n.easing&&w[n.easing]&&(a=w[n.easing]));var s=this._getNodeFromUserNodeID(e);if(s)if(s.getTypeID()===b.MatrixTransform.typeID){if(o>0){var u=b.vec3.create();b.mat4.getTranslation(u,s.getMatrix());var l=new g.c(u,t,o,a,function(t){this.updateDaemon.removeTranslateUpdateCallback(e),r(null,t)}.bind(this));this.updateDaemon||this._initUpdateDaemon(),this.updateDaemon.addTranslateUpdateCallback(s,l,e)}else b.mat4.setTranslation(s.getMatrix(),t),s.dirtyBound(),r(null,t);m.a.redrawShadow()}else r("you can only translate MatrixTransform nodes");else r("node with id "+e.toString()+" not found")},rotate:function(){var e=b.vec3.create(),t=b.vec3.create();return function(n,i,r){var o=arguments.length,a=arguments[o-1],s=0,u=w.easeOutQuad;o>2&&((r=arguments[2]).duration&&(s=r.duration),r.easing&&w[r.easing]&&(u=w[r.easing]));var l=this._getNodeFromUserNodeID(n);if(l)if(l.getTypeID()===b.MatrixTransform.typeID){var c=b.quat.create(),d=b.mat4.create();if(b.mat4.fromRotation(d,-i[0],b.vec3.set(t,i[1],i[2],i[3])),b.mat4.getRotation(c,d),s>0){var f=b.quat.create();b.mat4.getRotation(f,l.getMatrix());var h=new g.a(f,c,s,u,function(e){this.updateDaemon.removeRotateUpdateCallback(n),a(null,e)}.bind(this));this.updateDaemon||this._initUpdateDaemon(),this.updateDaemon.addRotateUpdateCallback(l,h,n)}else b.mat4.fromQuat(d,c),b.mat4.getTranslation(e,l.getMatrix()),b.mat4.setTranslation(d,e),b.mat4.copy(l.getMatrix(),d),l.dirtyBound(),a(null,i);m.a.redrawShadow()}else a("you can only rotate MatrixTransform nodes");else a("node with id "+n.toString()+" not found")}}(),_initUpdateDaemon:function(){var e=this._getViewer().getRootModel();this.updateDaemon=new g.b(this._getRealNodeMap()),e.addUpdateCallback(this.updateDaemon)}});var C=y,S=d.a.osg,k=function(){S.NodeVisitor.apply(this,arguments),this.reset()};S.createPrototypeObject(k,S.objectInherit(S.NodeVisitor.prototype,{reset:function(){this._nodes=[],this._nodeMap={},this._nodeList={},this._dirty=!0,this._apiSceneID=0},isDirty:function(){return this._dirty},getRootNode:function(){return this._nodes[0]},getRealNodeMap:function(){return this._nodeList},getRepresentationNodeMap:function(){return this._nodeMap},createNodeEntry:function(e){this._dirty=!1;var t=e._uniqueID;this._nodeList[t]||(this._nodeList[t]=e);var n={name:e.getName(),instanceID:t,nodeMask:e.getNodeMask()};return this._nodeMap[t]||(this._nodeMap[t]=n),n},applyNode:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="Group",t.push(n),this._nodes=t},applyMatrixTransform:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="MatrixTransform",n.localMatrix=S.mat4.clone(e.getMatrix()),n.worldMatrix=e.getWorldMatrices()[0],t.push(n),this._nodes=t},applyGeometry:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.type=e.className(),t.push(n),this._nodes=t},apply:function(e){if(void 0!==e._uniqueID){var t=e.getTypeID();t===S.Node.typeID?this.applyNode(e):t===S.MatrixTransform.typeID?this.applyMatrixTransform(e):e instanceof S.Geometry?this.applyGeometry(e):this.traverse(e)}else this.traverse(e)}}));var x=k,_=n(234),O=n(154),E=n(122),M=d.a.osg,P=function(){C.apply(this,arguments),this._sceneGraphVisitor=new x,this.updateDaemon=void 0,this._startDrag=!1,this._startCoord=M.vec2.create()};P.prototype=Object(p.create)(C.prototype,{addGlobalListener:function(e){E.a.getBoxReady().then(function(){_.a.initViewerAPI_1_4(this),this._getViewer().getInputManager().setEnable(O.a.SCENE_VIEWERAPI_1_4,!0)}.bind(this)),this._replayEmitter.subscribe(e)},onCursorUp:function(){var e=M.vec2.create();return function(t){var n=this._startDrag&&M.vec2.dist(M.vec2.set(e,t.glX,t.glY),this._startCoord)>5;this._startDrag=!1,n||c.a.prototype.onCursorUp.call(this,t)}}(),onCursorDown:function(e){M.vec2.set(this._startCoord,e.glX,e.glY),this._startDrag=!0},getFov:function(e){e(null,this._getFeatureModel("camera").get("fov"))},setCurrentAnimationByUID:function(e,t){l.a.prototype.setCurrentAnimationByUID.apply(this,arguments),m.a.redrawShadow(),t(null)},setLight:function(e,t,n){var i=this._getFeatureModel("lighting").get("lights")[e];t&&(void 0!==t.matrix&&i.set("matrix",t.matrix),void 0!==t.enabled&&i.set("enable",t.enabled),void 0!==t.type&&i.set("type",t.type),void 0!==t.shadowEnabled&&i.set("castShadows",t.shadowEnabled),void 0!==t.color&&i.set("color",t.color),void 0!==t.intensity&&i.set("intensity",t.intensity)),m.a.redrawShadow(),n(null)},getLight:function(e,t){var n=this._getFeatureModel("lighting").get("lights");(!n||e>=n.length)&&t("light with id "+e.toString()+" not found");var i=n[e];t(null,{matrix:i.get("matrix"),enabled:i.get("enable"),shadowEnabled:i.get("castshadows"),color:i.get("color"),intensity:i.get("intensity")})},setEnvironment:function(e,t){var n=this._getFeatureModel("environment");e&&(void 0!==e.enabled&&n.set("enable",e.enabled),void 0!==e.exposure&&n.set("exposure",e.exposure),void 0!==e.lightIntensity&&n.set("lightIntensity",e.lightIntensity),void 0!==e.rotation&&n.set("rotation",e.rotation),void 0!==e.shadowEnabled&&n.set("shadowEnable",e.shadowEnabled)),m.a.redrawShadow(),t(null)},getEnvironment:function(e){var t=this._getFeatureModel("environment");e(null,{enabled:t.get("enable"),exposure:t.get("exposure"),lightIntensity:t.get("lightIntensity"),rotation:t.get("rotation"),shadowEnabled:t.get("shadowEnable")})},setShadingStyle:function(e,t,n){var i=this._getFeatureModel("shadingStyle");try{i.set("renderer",e),t&&t.type&&i.set("type",t.type)}catch(e){return n(null)}m.a.redrawShadow(),n(null)},getShadingStyle:function(e){var t=this._getFeatureModel("shadingStyle");e(null,{shadingStyle:t.get("renderer"),type:t.get("type")})},setWireframe:function(e,t,n){var i=this._getFeatureModel("shadingStyle");try{i.set("wireframeEnable",e),t&&t.color&&i.set("wireframeColor",t.color)}catch(e){return n(null)}m.a.redrawShadow(),n(null)},getWireframe:function(e){var t=this._getFeatureModel("shadingStyle");e(null,{enabled:t.get("wireframeEnable"),color:t.get("wireframeColor")})},_getHitNodeID:function(e){if(e&&e._nodePath&&e._nodePath.length){var t=e._nodePath[e._nodePath.length-1];if(t)return t._uniqueID}}});var T=P,j=function(){T.apply(this,arguments)};j.prototype=Object(p.create)(T.prototype,{setAnnotationsTexture:function(e,t){this._getFeatureModel("hotspot").set("textureOptions",e),m.a.redrawShadow(),t(null)},gotoAnnotation:function(e,t,n){var i=this._getFeatureModel("hotspot").get("hotspots"),r=i.at(e);r.set("cameraPreventAnimation",t.preventCameraAnimation),r.set("cameraPreventMove",t.preventCameraMove),i.trigger("select",r),r.set("cameraPreventAnimation",!1),r.set("cameraPreventMove",!1),n(null,e)},_convertVideoDataUriToImage:function(e,t,n,i){var r=this._getFeatureModel("material").getImageCollection();h.default.instance.getOrCreateImage(e).promise.then(function(o){var a=r.addNewImage({uid:t,url:e,width:o.getWidth(),height:o.getHeight(),name:e.slice(0,100)});if(o.getImage&&n){var s=o.getImage();void 0!==n.loop&&(s.loop=n.loop),void 0!==n.mute&&(s.mute=n.mute)}i(null,a.getUID())}).catch(function(){i("failed to add texture")}),i(null)},addVideoTexture:function(e,t,n){this._convertVideoDataUriToImage(e,void 0,t,n),n(null)},setBackground:function(e,t){var n=this._getFeatureModel("background");e.uid?(n.set("enable","fixed"),n.set("uid",e.uid)):e.color?(n.set("enable","color"),n.set("color",e.color)):e.enable?n.set("enable",e.enable):e.transparent&&n.set("enable","none"),t(null)},_getUserCollectionList:function(e,t){var n=new XMLHttpRequest;n.open("GET","https://api.sketchfab.com/v3/me/"+t,!0),n.responseType="json",n.onload=function(){if(4===n.readyState&&200===n.status){var t=n.response,i=[];for(var r in t.results){var o=t.results[r];o&&o.uid&&i.push({name:o.name,uid:o.uid})}e(i)}},n.onerror=function(){e(null)},n.send(null)},getBackgroundList:function(e){this._getUserCollectionList(e,"backgrounds")},setEnvironment:function(e,t){var n=this._getFeatureModel("environment");e&&(void 0!==e.enabled&&n.set("enable",e.enabled),void 0!==e.exposure&&n.set("exposure",e.exposure),void 0!==e.lightIntensity&&n.set("lightIntensity",e.lightIntensity),void 0!==e.rotation&&n.set("rotation",e.rotation),void 0!==e.shadowEnabled&&n.set("shadowEnable",e.shadowEnabled),void 0!==e.blur&&n.set("blur",e.blur),void 0!==e.uid&&n.set("uid",e.uid)),m.a.redrawShadow(),t(null)},getEnvironmentList:function(e){this._getUserCollectionList(e,"environments")},setCycleMode:function(e,t){var n,i=this._getFeatureModel("animation");switch(e){case"loopOne":n="one";break;case"loopAll":n="all";break;case"one":n="oneAndStop";break;case"all":n="";break;default:n=e}i.set("cycleMode",n),m.a.redrawShadow(),t(null)},_emitEvents:function(){var e={viewerready:"viewerready",started:"viewerstart",stopped:"viewerstop",animationChange:"animationChange",animationEnded:"animationEnded",animationPlay:"animationPlay",animationStop:"animationStop",annotationFocus:"annotationFocus",annotationBlur:"annotationBlur",annotationMouseEnter:"annotationMouseEnter",annotationMouseLeave:"annotationMouseLeave",annotationSelect:"annotationSelect",nodeMouseEnter:"nodeMouseEnter",nodeMouseLeave:"nodeMouseLeave",click:"click",cameraStart:"camerastart",cameraStop:"camerastop"},t=function(t,n){var i=e[t];i&&this._replayEmitter.emit(i,n)}.bind(this);this._partial.on("all",t),this._partial.scene.on("all",t),this._emitEvents=function(){}}});var R=j,I=n(113),A=n(33),F=n(7),D={APICore1_0:l.a,APICore1_2:c.a,APICore1_3:C,APICore1_4:T,APICore1_5:R},N=function(e){this._definitions={},this._instance=void 0,this._instanceId=e,this._name=void 0,this._parentDomain=this.getMessageTargetDomain(document.referrer),this._defer=new i.a};N.create=function(e,t,n,i){var r;if(t){var a=t;r=new N(e);var s=o.a[t];if(!s){var l=Object.keys(o.a),c=l[l.length-1];s=o.a[c],console.warn("you requested api version "+t+" but this version is not available. Returned api version "+c+" instead"),a=c}var d=function(e,t){return new D[e](t)}("APICore"+s.ApiCoreVersion,n);r.register(a,s,d)}else(r=new u).initialize(n,i),console.warn("you are using a deprecated api, please update to the new one, read mode xxxx");return r},N.prototype={ready:function(){if(window.parent){var e=Object(A.a)().apiHookEnv;if(void 0!==e)if(F.a.me().get("isStaff")){var t=new XMLHttpRequest,n=function(e){if(t.readyState===XMLHttpRequest.DONE){var n=JSON.parse(e.target.response);if(n.domain){var i=n.domain;if(i===window.location.hostname);else{var r={type:"api.ready",instanceId:this._instanceId,results:[this._instanceId],options:{domain:i}};window.parent.postMessage(r,this._parentDomain)}}}}.bind(this);t.addEventListener("load",n),t.open("GET","/i/users/viewer-api/authorized-domains?domain="+e);var i=document.cookie.match(new RegExp("sb_csrftoken=([^;]+)"));i||console.error("CRSF cookie missing");var r=i[1];t.setRequestHeader("X-CSRFToken",r),t.send()}var o={type:"api.ready",instanceId:this._instanceId,results:[this._instanceId]};Object(I.a)()||(o.error="No Hardware Support for Webgl"),window.parent.postMessage(o,this._parentDomain)}},clientReady:function(){return this._defer.promise},register:function(e,t,n){this._name=e,this._members=Object.keys(t),this._membersMapping=t,this._instance=n,this.init()},getViewerAPI:function(){return this._instance},getMessageTargetDomain:function(e){if(!e||!e.length)return"*";var t=e.split("//");return t[0]+"//"+t[1].split("/")[0]},init:function(){this._defer.resolve();var e=["api.initialize","api.request"],t=Object.getPrototypeOf(this._instance);window.addEventListener("message",function(n){if((n.origin===this._parentDomain||"*"===this._parentDomain)&&n.data&&n.data.type){var i=n.data.type;if(-1!==e.indexOf(i)){var r="api.initialize"!==i;if(!r||n.data.instanceId&&n.data.instanceId===this._instanceId)try{if(r&&this._instanceId!==n.data.instanceId)throw"Invalid request : instance does not exists";if("api.request"===n.data.type){var o=this._membersMapping[n.data.member];if("-"===o&&(o=n.data.member),!o||!t[o])throw"Invalid request : member function does not exists: "+o;if("function"!=typeof t[o])throw"Invalid request : member function does not exists: "+o;for(var a=t[o],s=n.data.arguments.slice(),u=s.length-1;u>=0&&void 0===s[u];u--)s.splice(u,1);return a.length&&"function"==typeof s[a.length-1]&&(s.length=a.length-1),s.push(function(){n.source.postMessage({type:"api.request.result",instanceId:this._instanceId,requestId:n.data.requestId,results:Array.prototype.slice.call(arguments)},this._parentDomain)}.bind(this)),void a.apply(this._instance,s)}if("api.initialize"===n.data.type){if(this._name!==n.data.name)throw"No API named '"+n.data.name+"'";var l=this._members,c=this._instance;if(void 0!==c.addGlobalListener){var d=function(){var e={type:"api.event",instanceId:this._instanceId,results:Array.prototype.slice.call(arguments)};n.source.postMessage(e,this._parentDomain)}.bind(this);c.addGlobalListener(d)}return void n.source.postMessage({type:"api.initialize.result",instanceId:this._instanceId,requestId:n.data.requestId,results:[null,this._instanceId,l]},this._parentDomain)}}catch(e){console.error(e),n.source.postMessage({type:i+".result",instanceId:this._instanceId,requestId:n.data.requestId,results:[e.stack?e.stack:e]},this._parentDomain)}}}}.bind(this))}};t.a=N},71:function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return p});var i=n(40),r=n.n(i),o=n(53),a=n.n(o),s=n(4),u=n.n(s),l=n(2),c=n.n(l),d=n(48),f=function(e){var t=e.name,n=e.test,i=e.onCreate;return{name:t,test:n,lifecycle:c()({onRemove:function(){},onUpdate:function(){return!1},onStartHandling:function(){},onStopHandling:function(){}},i()||{})}},h={push:function(e){return{type:"RouteStack.Push",onCreate:e}},replace:function(e){return{type:"RouteStack.Replace",onCreate:e}},reload:function(){return{type:"RouteStack.Reload"}},noOp:function(){return{type:"RouteStack.NoOp"}}},p=function(){function e(){var t=this;r()(this,e),u()(this,"isInit",!0),u()(this,"routes",[]),u()(this,"activeRoutesStack",[]),u()(this,"handlingRoute",null),u()(this,"onHistoryChange",void 0);var n=function(e){t.handlingRoute!==e&&e.lifecycle.onStartHandling(),t.handlingRoute=e},i=function(e){var i=t.activeRoutesStack[0];i&&function(e){t.handlingRoute===e&&e.lifecycle.onStopHandling(),t.handlingRoute=null}(i),t.activeRoutesStack.unshift(e),n(e)},o=function(e){e.lifecycle.onRemove(),t.activeRoutesStack=t.activeRoutesStack.filter(function(t){return t!==e})},a=function(e,i,r,a){var s=a.remove,u=!0,l=!1,c=void 0;try{for(var d,f=t.activeRoutesStack[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value;if(h.test===e)if(h.lifecycle.onUpdate(i,r))return n(h),!0;s&&o(h)}}catch(e){l=!0,c=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return!1};this.onHistoryChange=function(e,n){var r=t.isInit;t.isInit=!1;var o=!0,s=!1,u=void 0;try{for(var l,d=t.routes[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var h=l.value,p=h.name,g=h.test,m=h.handler,v=g(e);if(null!==v&&void 0!==v){var b=c()({},n,{isInit:r,activeRoutes:t.activeRoutesStack}),w=m(v,b);switch(w.type){case"RouteStack.Replace":return void(a(g,v,b,{remove:!0})||i(f({name:p,test:g,onCreate:w.onCreate})));case"RouteStack.Push":return void(a(g,v,b,{remove:!1})||i(f({name:p,test:g,onCreate:w.onCreate})));case"RouteStack.Reload":return window.location.reload();case"RouteStack.NoOp":return}}}}catch(e){s=!0,u=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}n.isBack&&window.location.reload()},d.a.listen(this.onHistoryChange)}return a()(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0;i<t.length;i++){var r=t[i],o=r.test,a=r.handler,s=r.name;this.routes.push({test:o,handler:a,name:s})}return this}},{key:"start",value:function(){this.onHistoryChange(d.a.getWindowUrl(),{isBack:!1})}}]),e}()},75:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(5),r=n.n(i);function o(){var e={},t=new r.a(function(t,n){e.resolve=t,e.reject=n});return t.resolve=e.resolve,t.reject=e.reject,t.promise=t,t}},76:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var i=n(1),r=n(187),o=n.n(r),a=Symbol("instanceKey"),s=function(e){var t=e[a];return!t||t.shouldUpdate};t.a={name:"WithTemplate",template:function(){return""},renderDiff:function(e){var t=this.el.cloneNode();t.innerHTML=e,o()(this.el,t,{onBeforeElUpdated:s,onBeforeElChildrenUpdated:s,childrenOnly:!0})},render:function(){this.renderDiff(Object(i.result)(this,"template"))}}},77:function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(3),a=n.n(o),s=n(1),u=n(19),l=n(46),c=Symbol("windowCallbackKey");t.a={name:"WithWindowEvents",constructor:function(){var e=this;this[c]={listeners:[]},this.events=Object(u.e)(this.events,function(t,n){var i=Object(l.e)(n);if("window"!==i.selector)return r()({},n,t);if("string"==typeof t&&!e[t])throw new Error("WithWindowEvents error: "+e.displayName+"."+t+" is not defined.");return e[c].listeners.push({eventName:i.eventName,callback:function(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return Object(s.isFunction)(t)?t.call.apply(t,[e].concat(r)):(n=e[t]).call.apply(n,[e].concat(r))}}),{}})},delegateEvents:function(){this[c].listeners.forEach(function(e){a()(window).on(e.eventName,e.callback)})},undelegateEvents:function(){this[c].listeners.forEach(function(e){a()(window).off(e.eventName,e.callback)})},beforeRemove:function(){this[c].listeners.forEach(function(e){a()(window).off(e.eventName,e.callback)})}}},78:function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(3),a=n.n(o);t.a=function(e){return{name:"PreventPageScroll",constructor:function(){this.events=function(e,t){var n,i={},o=e?" "+e:"";return i["wheel"+o]=function(e){var t=-.25*e.originalEvent.wheelDelta;t&&(e.preventDefault(),a()(e.currentTarget).scrollTop(t+a()(e.currentTarget).scrollTop()))},i["touchstart"+o]=function(e){n=e.originalEvent.touches[0].pageY},i["touchmove"+o]=function(e){e.preventDefault();var t=n-e.originalEvent.touches[0].pageY;n=e.originalEvent.touches[0].pageY,a()(e.currentTarget).scrollTop(t+a()(e.currentTarget).scrollTop())},r()({},t,i)}(e,this.events)}}}},8:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return d});var i=n(1),r=n(31),o=n(59);function a(e){return"cursor"===e||"page"===e}function s(e,t){arguments.length<2&&(t=e,e=""),t=Object(o.a)(t);var n=Object.keys(t).sort(function(e,t){return a(e)?1:a(t)?-1:e===t?0:e<t?-1:1}).map(function(e){return t[e].filter(function(e){return null!==e&&void 0!==e&&""!==e}).map(function(t){return!0!==t&&!1!==t||(t=Number(t)),[e,t].map(function(e){return encodeURIComponent(e).replace(/%20/g,"+").replace(/%25/g,"%").replace(/%2C/g,",")}).join("=")}).join("&")}).filter(function(e){return e.length>0}).join("&");return n?e+n:""}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.search.substr(1);return Object(o.a)(n)[e]||t}function l(e,t,n){var i=u(e,void 0,n);return i.length?i.pop():void 0!==t?t.toString():void 0}function c(e,t,n){var i=l(e,void 0,n);return void 0===i?void 0!==t?Boolean(t):void 0:"0"!==i}function d(e,t,n){var i=l(e,void 0,n);return void 0===i?void 0!==t?Number(t):void 0:Number(i)}t.c={craft:s,merge:function(){return Array.prototype.slice.call(arguments).map(o.a).reduce(function(e,t){return Object.keys(t).forEach(function(n,i){e[i]=(e[i]||[]).concat(t[i])}),e},{})},features:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=l(e,"",arguments.length>2?arguments[2]:void 0),i=t.reduce(function(e,t){return e[t]=!1,e},{});return n.split(" ").map(r.snakeToCamelCase).reduce(function(e,t){return e[t]=!0,e},i)},reset:function(){return Array.prototype.slice.call(arguments).map(o.a).reduce(function(e,t){return Object(i.assign)(e,t)},{})},strings:u,string:l,bool:c,number:d,vec3:function(e,t,n){var i=l(e,void 0,n);if(!i)return t;if((i=i.split(",")).length<3)return t;i.length=3;for(var r=0;r<3;++r)i[r]=parseFloat(i[r]);return i}}},80:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(2),r=n.n(i),o=n(1),a=n(19);function s(e){return e[0].toUpperCase()+e.slice(1)}function u(e,t,n){t.mixins.forEach(function(i){i[e]&&i[e].apply(t,n)})}function l(e){var t=e||[];return function(e){return e.extend(Object(o.extend)(function(e,t){var n=function(e){return function(){if(t.prototype[e]){var n=t.prototype[e].apply(this,arguments);return u(e,this,arguments),n}u(e,this,arguments)}};return e.reduce(function(e,t){var i="after"+s(t),r="before"+s(t),o=n(t),a=n(r),u=n(i);return e[t]=o,e[r]=a,e[i]=u,e},{})}(t,e),{mixins:e.prototype.mixins||[],constructor:function(){Array.isArray(this.mixins)?this.mixins.forEach(function(e){!function(e,t){if(!e.name)throw new Error("Every mixin should have a `name` property. Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info");e.dependencies&&e.dependencies.forEach(function(n){if(-1===t.mixins.map(Object(a.k)("name")).indexOf(n))throw new Error("You must include the "+n+" mixin in order to use the "+e.name+" mixin. Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info")})}(e,this),Object(o.defaults)(this,Object(o.cloneDeep)(Object(o.omit)(e,["name","dependencies","constructor"].concat(t))))}.bind(this)):(this.mixins=[],console.error("Mixinable instances must have a `mixins` property of type Array.","Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info")),t.forEach(function(e){var t="after"+s(e),n="before"+s(e),i=this[e];this[e]=function(){this[n].apply(this,arguments);var e=i.apply(this,arguments);return this[t].apply(this,arguments),e}}.bind(this)),u("constructor",this,arguments),e.apply(this,arguments)}}),{extend:function(t,n){var i=t.mixins||[],o=r()({},t,{mixins:this.prototype.mixins.filter(function(e){return i.every(function(t){return t.name!==e.name})}).concat(i)});return e.extend.call(this,o,n)}})}}},81:function(e,t,n){"use strict";t.a=function(e){var t=Array.prototype.slice.call(arguments,1),n=e.bind.apply(e,t);return n(),n}},82:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var i=n(11),r=n.n(i),o=n(21),a=n.n(o),s=n(2),u=n.n(s),l=n(35),c=n.n(l),d=n(189),f=n.n(d),h=n(5),p=n.n(h),g=n(41),m=n(29),v=n(32),b=function(e){return e.match(new RegExp("^(".concat(window.location.origin,"|/)")))},w=function(e){return b(e)?{"X-CsrfToken":m.a.get("sb_csrftoken")||"skfb-no-token"}:{}},y=f.a.create({headers:{"X-Requested-With":"XMLHttpRequest"}}),C=function(){return m.a.get("sb_csrftoken")?p.a.resolve():y.get("/i/csrf").then(function(){return p.a.resolve()})},S=function(e){return{get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.allowPrefetching,r=void 0===i||i,o=n.headers,a=void 0===o?{}:o,s=c()(n,["allowPrefetching","headers"]),l=e.get(t);return r&&l?p.a.resolve(l):p.a.resolve(y.get(t,u()({},s,{headers:u()({},w(t),a)})).then(function(n){var i=n.data;return e.register(t,i),i}))},post:function(){var t=a()(r.a.mark(function t(n,i){var o,a,s,l,d,f,h=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=h.length>2&&void 0!==h[2]?h[2]:{},a=o.cacheBusting,s=void 0===a||a,l=o.headers,d=void 0===l?{}:l,f=c()(o,["cacheBusting","headers"]),s&&e.invalidate(n),!b(n)){t.next=6;break}return t.next=6,C();case 6:return t.abrupt("return",p.a.resolve(y.post(n,i,u()({},f,{headers:u()({},w(n),d)})).then(function(e){return e.data})));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),delete:function(){var t=a()(r.a.mark(function t(n,i){var o,a,s,l,d,f,h=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=h.length>2&&void 0!==h[2]?h[2]:{},a=o.cacheBusting,s=void 0===a||a,l=o.headers,d=void 0===l?{}:l,f=c()(o,["cacheBusting","headers"]),s&&e.invalidate(n),!b(n)){t.next=6;break}return t.next=6,C();case 6:return t.abrupt("return",p.a.resolve(y.request(u()({},f,{url:n,data:i,method:"DELETE",headers:u()({},w(n),d)})).then(function(e){return e.data})));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),patch:function(){var t=a()(r.a.mark(function t(n,i){var o,a,s,l,d=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=d.length>2&&void 0!==d[2]?d[2]:{},a=o.headers,s=void 0===a?{}:a,l=c()(o,["headers"]),e.update(n,i),!b(n)){t.next=6;break}return t.next=6,C();case 6:return t.abrupt("return",p.a.resolve(y.patch(n,i,u()({},l,{headers:u()({},w(n),s)})).then(function(e){return e.data})));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),poll:function e(t,n,i){return Object(v.b)(y.get(t,{headers:u()({},w(t))}).then(function(r){var o=r.status,a=r.data,s="function"==typeof n?n(i||1e3):n||1e3;return 202===o||429===o?p.a.delay(s).then(function(){return e(t,n,s)}):a}))}}};t.b=S(g.b)},83:function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return M}),n.d(t,"i",function(){return P}),n.d(t,"f",function(){return T}),n.d(t,"g",function(){return I}),n.d(t,"h",function(){return A}),n.d(t,"a",function(){return N});var i,r=n(39),o=n.n(r),a=n(11),s=n.n(a),u=n(21),l=n.n(u),c=n(35),d=n.n(c),f=n(4),h=n.n(f),p=n(2),g=n.n(p),m=n(10),v=n(1),b=n(20),w=n(37),y=n(17),C=n(22),S=n(8),k=n(141),x=n(42),_=Object(v.floor)(m.a.modelMinPrice,-2),O=5e4,E=0,M=25e4,P={UPDATE_QUERY:"storeSearch.UPDATE_QUERY",UPDATE_FILTERS:"storeSearch.UPDATE_FILTERS",LOAD_INITIAL_QUERY:Object(y.d)("storeSearch.LOAD_INITIAL_QUERY"),FIRST:Object(y.d)("storeSearch.FIRST"),NEXT:Object(y.d)("storeSearch.NEXT"),PREVIOUS:Object(y.d)("storeSearch.PREVIOUS")},T={query:"",filters:{sortBy:"-pertinence",animated:!1,rigged:!1,pbr:!1,restricted:!1,categories:[],inStore:!0,minFaceCount:E,maxFaceCount:M,minRating:"",fileFormats:[],minPrice:_,maxPrice:O,licenses:[]},pagination:x.c},j=function(e){return{cursors:e.effect.cursors,list:e.effect.models}},R=x.b("pagination"),I=Object(w.b)(T,g()((i={},h()(i,P.UPDATE_QUERY,function(e,t){return g()({},e,{query:t.query})}),h()(i,P.UPDATE_FILTERS,function(e,t){return g()({},e,{filters:g()({},e.filters,t.filters)})}),h()(i,P.LOAD_INITIAL_QUERY.PENDING,function(e,t){return g()({},e,{query:t.query,filters:t.filters})}),h()(i,P.LOAD_INITIAL_QUERY.RESOLVED,function(e,t){return g()({},e,{pagination:x.d(e.pagination,x.a.firstResolved({list:t.effect.models,cursors:t.effect.cursors}))})}),i),R(P.FIRST,x.f.FIRST,j),R(P.NEXT,x.f.NEXT,j),R(P.PREVIOUS,x.f.PREVIOUS,j))),A={query:function(e){return e.storeSearch.query},filters:function(e){return e.storeSearch.filters},models:function(e){return Object(b.a)(x.e.list(e.storeSearch.pagination),[C.f],e.entities)},cursors:function(e){return x.e.cursors(e.storeSearch.pagination)},isLoading:function(e){return x.e.isLoading(e.storeSearch.pagination)},loading:function(e){return x.e.loading(e.storeSearch.pagination)},hasNextPage:function(e){return x.e.hasNextPage(e.storeSearch.pagination)},hasPreviousPage:function(e){return x.e.hasPreviousPage(e.storeSearch.pagination)}},F=function(e,t){var n=t.animated,i=t.restricted,r=t.pbr,o=t.rigged,a=t.maxPrice,s=t.minPrice,u=t.maxFaceCount,l=t.minFaceCount,c=t.sortBy,f=d()(t,["animated","restricted","pbr","rigged","maxPrice","minPrice","maxFaceCount","minFaceCount","sortBy"]);return g()({},f,{q:e,maxPrice:a===O?void 0:a,minPrice:s===_?void 0:s,maxFaceCount:u===M?void 0:u,minFaceCount:l===E?void 0:l,inStore:!0,count:24,sortBy:e||"-pertinence"!==c?c:"-likeCount",processingStatus:"succeeded",animated:n||void 0,restricted:i||void 0,pbr:r||void 0,rigged:o||void 0})},D=function(){var e=l()(s.a.mark(function e(t,n){var i,r,o,a,u,l,c,f,h,p,m,v=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.length>2&&void 0!==v[2]?v[2]:null,r=A.filters(n),o=k.a.getSearchQueryParams(A.query(n)),a=o.q,u=d()(o,["q"]),e.next=5,t.searchModels(g()({},F(a,r),u,{cursor:i}));case 5:return l=e.sent,c=l.results,f=l.cursors,h=Object(b.b)(c,[C.f]),p=h.entities,m=h.result,e.abrupt("return",{entities:p,models:m,cursors:f});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),N={loadInitialQuery:function(e){var t=e.split("?"),n=o()(t,2)[1],i=void 0===n?"":n,r=Object(S.e)("sort_by",T.filters.sortBy,i),a=Object(S.e)("user","",i),s=Object(S.f)("tags",[],i),u={query:[a?"user:".concat(a," "):"",s.map(function(e){return"tag:".concat(e)}).join(" "),Object(S.e)("q","",i)].filter(Boolean).join(" "),sortBy:"-likeCount"===r?"-pertinence":r,animated:Object(S.a)("animated",T.filters.animated,i),rigged:Object(S.a)("rigged",T.filters.rigged,i),pbr:Object(S.a)("pbr",T.filters.pbr,i),restricted:Object(S.a)("restricted",T.filters.restricted,i),categories:Object(S.f)("categories",T.filters.categories,i),inStore:Object(S.a)("in_store",T.filters.inStore,i),minFaceCount:Object(S.d)("min_face_count",E,i),maxFaceCount:Object(S.d)("max_face_count",M,i),minRating:Object(S.e)("min_rating",T.filters.minRating,i),fileFormats:Object(S.f)("file_formats",T.filters.fileFormats,i),minPrice:Object(S.d)("min_price",_,i),maxPrice:Object(S.d)("max_price",O,i),licenses:Object(S.f)("licenses",T.filters.licenses,i)},l=u.query,c=d()(u,["query"]);return{type:P.LOAD_INITIAL_QUERY,payload:{query:l,filters:c,effect:function(t){var n=t.Prefetching.get(e);if(!n)throw new Error('No search response in prefetchedData for query "'.concat(e,'"'));var i=n.results,r=void 0===i?[]:i,o=n.cursors,a=void 0===o?{next:null,previous:null}:o,s=Object(b.b)(r,[C.f]);return{entities:s.entities,models:s.result,cursors:a}}}}},loadFirstPage:function(){return{type:P.FIRST,payload:{effect:function(e){var t=e.Api,n=e.getState;return D(t,n())}}}},loadNextPage:function(){return{type:P.NEXT,payload:{effect:function(e){var t=e.Api,n=e.getState,i=A.cursors(n()).next;return D(t,n(),i)}}}},loadPreviousPage:function(){return{type:P.PREVIOUS,payload:{effect:function(e){var t=e.Api,n=e.getState,i=A.cursors(n()).previous;return D(t,n(),i)}}}},updateQuery:function(e){return{type:P.UPDATE_QUERY,payload:{query:e}}},updateFilters:function(e){return{type:P.UPDATE_FILTERS,payload:{filters:e}}},resetFilters:function(){return N.updateFilters(T.filters)}}},86:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(5),a=n.n(o),s=n(1),u=Object(s.find)({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},function(e,t){return t in document.body.style});t.a=function(e){return new a.a(function(t){return r()(e).one(u,t)})}},89:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(2),r=n.n(i),o=n(14),a=n(6),s=n(58),u=n(76);function l(e){return s.a.extend({displayName:"Popup",mixins:[u.a],defaultOptions:e.prototype.defaultOptions,children:{componentWrapper:{selector:".js-popup-content",viewClass:o.a.extend({displayName:"PopupWrapper(".concat(e.prototype.displayName,")"),template:function(){return a.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:{viewClass:e,options:this.options}})})}}),options:function(){return r()({},this.options,{popup:{continue:this.continue.bind(this),cancel:this.cancel.bind(this),open:this.open.bind(this),close:this.close.bind(this),remove:this.remove.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),center:this.center.bind(this),resize:this.resize.bind(this),autofocus:this.autofocus.bind(this)}})}}},template:function(){return a.default.getFromString('\n                <div class="popup-container">\n                    <div class="popup-overlay"></div>\n                    <div class="js-popup js-popup-content"></div>\n                </div>\n                ',{})}})}},9:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"get",function(){return je}),n.d(i,"set",function(){return Re}),n.d(i,"remove",function(){return Ie}),n.d(i,"getJSON",function(){return Ae}),n.d(i,"setJSON",function(){return Fe});var r,o,a,s,u,l=n(27),c=n(85),d=n(11),f=n.n(d),h=n(21),p=n.n(h),g=n(4),m=n.n(g),v=n(2),b=n.n(v),w=n(1),y=n(18),C=n(20),S=n(17),k=n(37),x=n(22),_={GET_FROM_PREFETCHED:Object(S.d)("authUser.GET_FROM_PREFETCHED"),GET:Object(S.d)("authUser.GET"),LIKE_MODEL:Object(S.d)("authUser.LIKE_MODEL"),UNLIKE_MODEL:Object(S.d)("authUser.UNLIKE_MODEL"),GET_LIKES:Object(S.d)("authUser.GET_LIKES"),GET_PURCHASES:Object(S.d)("authUser.GET_PURCHASES"),GET_SUBSCRIPTIONS:Object(S.d)("authUser.GET_SUBSCRIPTIONS"),SUBSCRIBE:Object(S.d)("authUser.SUBSCRIBE"),UNSUBSCRIBE:Object(S.d)("authUser.UNSUBSCRIBE"),GET_FOLLOWINGS:Object(S.d)("authUser.GET_FOLLOWINGS"),FOLLOW:Object(S.d)("authUser.FOLLOW"),UNFOLLOW:Object(S.d)("authUser.UNFOLLOW")},O={uid:null,likes:{},purchases:{},followings:{},subscriptions:{}},E=Object(S.e)(Object(k.b)(O,(r={},m()(r,_.LIKE_MODEL.PENDING,function(e,t){return b()({},e,{likes:b()({},e.likes,m()({},t.modelUid,!0))})}),m()(r,_.UNLIKE_MODEL.PENDING,function(e,t){return b()({},e,{likes:b()({},e.likes,m()({},t.modelUid,!1))})}),m()(r,_.SUBSCRIBE.PENDING,function(e,t){return b()({},e,{subscriptions:b()({},e.subscriptions,m()({},t.collectionUid,!0))})}),m()(r,_.UNSUBSCRIBE.PENDING,function(e,t){return b()({},e,{subscriptions:b()({},e.subscriptions,m()({},t.collectionUid,!1))})}),m()(r,_.FOLLOW.PENDING,function(e,t){return b()({},e,{followings:b()({},e.followings,m()({},t.userUid,!0))})}),m()(r,_.UNFOLLOW.PENDING,function(e,t){return b()({},e,{followings:b()({},e.followings,m()({},t.userUid,!1))})}),r))),M=Object(k.b)(O,(o={},m()(o,_.GET_FROM_PREFETCHED.RESOLVED,function(e,t){return b()({},e,{uid:t.effect.result})}),m()(o,_.GET.RESOLVED,function(e,t){return b()({},e,{uid:t.effect.result})}),m()(o,_.GET_LIKES.RESOLVED,function(e,t){return b()({},e,{likes:b()({},e.likes,t.effect)})}),m()(o,_.GET_PURCHASES.RESOLVED,function(e,t){return b()({},e,{purchases:b()({},e.purchases,t.effect)})}),m()(o,_.GET_SUBSCRIPTIONS.RESOLVED,function(e,t){return b()({},e,{subscriptions:b()({},e.subscriptions,t.effect)})}),m()(o,_.GET_FOLLOWINGS.RESOLVED,function(e,t){return b()({},e,{followings:b()({},e.followings,t.effect)})}),o)),P=Object(k.a)(E,M),T={isInflated:function(e){return null!==e.authUser.uid},uid:function(e){return e.authUser.uid},user:function(e){return Object(C.a)(e.authUser.uid,x.h,e.entities)},isAuthenticated:function(e){return T.isInflated(e)&&!0!==T.user(e).isAnonymous},likes:function(e){return e.authUser.likes},doesLike:function(e,t){return t.authUser.likes[e]||!1},hasPurchased:function(e,t){return t.authUser.purchases[e]||!1},hasSubscribed:function(e,t){return t.authUser.subscriptions[e]||!1},doesFollow:function(e,t){return t.authUser.followings[e]||!1}},j=Object(w.memoize)(function(e){return Object(y.a)(function(t){return e({type:_.GET_LIKES,payload:{effect:function(){var e=p()(f.a.mark(function e(n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.Api,r=n.getState,!T.isAuthenticated(r())){e.next=7;break}return e.next=4,i.getCurrentUserLikes(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),R=Object(w.memoize)(function(e){return Object(y.a)(function(t){return e({type:_.GET_PURCHASES,payload:{effect:function(){var e=p()(f.a.mark(function e(n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.Api,r=n.getState,!T.isAuthenticated(r())){e.next=7;break}return e.next=4,i.getCurrentUserPurchases(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),I=Object(w.memoize)(function(e){return Object(y.a)(function(t){return e({type:_.GET_SUBSCRIPTIONS,payload:{effect:function(){var e=p()(f.a.mark(function e(n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.Api,r=n.getState,!T.isAuthenticated(r())){e.next=7;break}return e.next=4,i.getCurrentUserSubscriptions(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),A=Object(w.memoize)(function(e){return Object(y.a)(function(t){return e({type:_.GET_FOLLOWINGS,payload:{effect:function(){var e=p()(f.a.mark(function e(n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.Api,r=n.getState,!T.isAuthenticated(r())){e.next=7;break}return e.next=4,i.getCurrentUserFollowings(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),F={getFromPrefetched:function(){return{type:_.GET_FROM_PREFETCHED,payload:{effect:function(e){var t=e.Prefetching,n=t.get("/i/users/me"),i=n.isAnonymous?b()({},n,{uid:"anonymous"}):t.get("/i/users/".concat(n.uid))||n;return Object(C.b)(i,x.h)}}}},get:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowPrefetching,t=void 0===e||e;return{type:_.GET,payload:{effect:function(){var e=p()(f.a.mark(function e(n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.Api,e.next=3,i.getCurrentUser({allowPrefetching:t});case 3:return r=e.sent,e.abrupt("return",Object(C.b)(r,x.h));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}},getDoesLike:function(e){return function(t){return j(t)([e]).then(function(t){return t[e]})}},likeModel:function(e){return{type:_.LIKE_MODEL,payload:{modelUid:e,entities:{models:m()({},e,{likeCount:function(e){return e+1}})},effect:function(t){return t.Api.likeModel(e)}}}},unlikeModel:function(e){return{type:_.UNLIKE_MODEL,payload:{modelUid:e,entities:{models:m()({},e,{likeCount:function(e){return e-1}})},effect:function(t){return t.Api.unlikeModel(e)}}}},toggleLikeModel:function(e){return function(t,n){return t(T.doesLike(e,n())?F.unlikeModel(e):F.likeModel(e))}},getHasPurchased:function(e){return function(t){return R(t)([e]).then(function(t){return t[e]||!1})}},getHasSubscribed:function(e){return function(t){return I(t)([e]).then(function(t){return t[e]})}},subscribe:function(e){return{type:_.SUBSCRIBE,payload:{collectionUid:e,entities:{collections:m()({},e,{subscriberCount:function(e){return e+1}})},effect:function(t){return t.Api.subscribeToCollection(e)}}}},unsubscribe:function(e){return{type:_.UNSUBSCRIBE,payload:{collectionUid:e,entities:{collections:m()({},e,{subscriberCount:function(e){return e-1}})},effect:function(t){return t.Api.unsubscribeFromCollection(e)}}}},toggleSubscribe:function(e){return function(t,n){return t(T.hasSubscribed(e,n())?F.unsubscribe(e):F.subscribe(e))}},getDoesFollow:function(e){return function(t){return A(t)([e]).then(function(t){return t[e]})}},follow:function(e){return{type:_.FOLLOW,payload:{userUid:e,entities:{users:m()({},e,{followerCount:function(e){return e+1}})},effect:function(t){return t.Api.followUser(e)}}}},unfollow:function(e){return{type:_.UNFOLLOW,payload:{userUid:e,entities:{users:m()({},e,{followerCount:function(e){return e-1}})},effect:function(t){return t.Api.unfollowUser(e)}}}},toggleFollow:function(e){return function(t,n){return t(T.doesFollow(e,n())?F.unfollow(e):F.follow(e))}}},D=n(19),N=Object(D.j)(3),B={UPDATE:"entities.UPDATE"},U={models:{},users:{},collections:{},categories:{},licenses:{},comments:{},reviews:{},uploadActivities:{},collectionActivities:{},collectActivities:{},commentActivities:{},mentionActivities:{},followActivities:{},subscribeActivities:{},likeActivities:{},staffpickActivities:{},reviewActivities:{},reviewReplyActivities:{}},L=function(e){return e.meta&&e.meta.isEffect},V=Object(S.e)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return(!L(t)||function(e){return L(e)&&e.meta.effectStatus===S.b.Pending}(t))&&t.payload&&t.payload.entities?Object(D.l)(t.payload.entities,e):e}),$=Object(k.b)(U,m()({},B.UPDATE,function(e,t){return N(e,t.entities)})),G=Object(k.a)(V,function(e,t){return function(e){return L(e)&&e.meta.effectStatus===S.b.Resolved}(t)&&t.payload.effect&&t.payload.effect.entities?N(e,t.payload.effect.entities):e},$),z={all:function(e){return e.entities},model:function(e,t){return Object(C.a)(e,x.f,t.entities)},user:function(e,t){return Object(C.a)(e,x.h,t.entities)},collection:function(e,t){return Object(C.a)(e,x.c,t.entities)},category:function(e,t){return Object(C.a)(e,x.b,t.entities)},license:function(e,t){return Object(C.a)(e,x.e,t.entities)},comment:function(e,t){return Object(C.a)(e,x.d,t.entities)},review:function(e,t){return Object(C.a)(e,x.g,t.entities)},activity:function(e,t){return Object(C.a)(e,x.a,t.entities)}},H={update:function(e){var t=e.models,n=void 0===t?[]:t,i=e.users,r=void 0===i?[]:i,o=e.collections,a=void 0===o?[]:o,s=e.categories,u=void 0===s?[]:s,l=e.licenses,c=void 0===l?[]:l,d=e.comments,f=void 0===d?[]:d,h=e.reviews,p=void 0===h?[]:h,g=e.activities,m=void 0===g?[]:g;return{type:B.UPDATE,payload:{entities:N(Object(C.b)(n,[x.f]).entities,Object(C.b)(r,[x.h]).entities,Object(C.b)(a,[x.c]).entities,Object(C.b)(u,[x.b]).entities,Object(C.b)(c,[x.e]).entities,Object(C.b)(f,[x.d]).entities,Object(C.b)(p,[x.g]).entities,Object(C.b)(m.map(function(e){var t=e.obj,n=e.target,i=e.actor,r=e.verb;return{timestamp:e.timestamp,uid:e.uid,obj:t,target:n,actor:i,verb:r}}),[x.a]).entities)}}}},W=n(28),q=n.n(W),Y=n(5),K=n.n(Y),J=n(10),Q=n(24),X=n(32),Z={GET:Object(S.d)("cart.GET"),ADD_MODEL:Object(S.d)("cart.ADD_MODEL"),REMOVE_MODEL:Object(S.d)("cart.REMOVE_MODEL"),CLEAR:Object(S.d)("cart.CLEAR")},ee={models:[]},te=Object(S.e)(Object(k.b)(ee,(a={},m()(a,Z.ADD_MODEL.PENDING,function(e,t){var n=t.modelUid;return b()({},e,{models:e.models.concat(n)})}),m()(a,Z.REMOVE_MODEL.PENDING,function(e,t){var n=t.modelUid;return b()({},e,{models:e.models.filter(function(e){return e!==n})})}),m()(a,Z.CLEAR.PENDING,function(e){return b()({},e,{models:[]})}),a))),ne=Object(k.b)(ee,(s={},m()(s,Z.GET.RESOLVED,function(e,t){return b()({},e,{models:t.effect.result})}),m()(s,Z.ADD_MODEL.RESOLVED,function(e,t){return b()({},e,{models:t.effect.result})}),m()(s,Z.REMOVE_MODEL.RESOLVED,function(e,t){return b()({},e,{models:t.effect.result})}),s)),ie=Object(k.a)(te,ne),re={isModelInCart:function(e,t){return t.cart.models.includes(e)},models:function(e){return Object(C.a)(e.cart.models,[x.f],e.entities)},modelUids:function(e){return e.cart.models}},oe=function(){var e=p()(f.a.mark(function e(t,n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.addModelsToCart(t);case 2:return i=e.sent,r=i.results,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=p()(f.a.mark(function e(t,n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.removeModelsFromCart(t);case 2:return i=e.sent,r=i.results,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),se=function(e){return e.getJSON("skfb-cart").then(function(e){return e||[]}).catch(function(){return[]})},ue=function(){var e=p()(f.a.mark(function e(t,n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(n);case 2:return i=e.sent,r=[].concat(q()(i),q()(t.filter(function(e){return i.every(function(t){return t.uid!==e.uid})}))),n.setJSON("skfb-cart",r),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=p()(f.a.mark(function e(t,n){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(n);case 2:return i=e.sent,r=i.filter(function(e){return t.every(function(t){return e.uid!==t})}),n.setJSON("skfb-cart",r),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=p()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setJSON("skfb-cart",[]),e.abrupt("return",[]);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=p()(f.a.mark(function e(t,n,i,r){var o,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=11;break}if(!t.length){e.next=10;break}return e.next=4,ae(n.map(function(e){return e.uid}),i);case 4:return e.next=6,oe(t.map(function(e){return e.uid}),i);case 6:return o=e.sent,e.next=9,ce(r);case 9:return e.abrupt("return",o);case 10:return e.abrupt("return",n);case 11:if(!t.length){e.next=18;break}return e.next=14,oe(t.map(function(e){return e.uid}),i);case 14:return a=e.sent,e.next=17,ce(r);case 17:return e.abrupt("return",a);case 18:return e.abrupt("return",[]);case 19:case"end":return e.stop()}},e)}));return function(t,n,i,r){return e.apply(this,arguments)}}(),fe=X.e(function(e){return e({type:Z.GET,payload:{effect:function(){var e=p()(f.a.mark(function e(t){var n,i,r,o,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Api,i=t.LocalStorage,r=t.getState,e.next=3,se(i);case 3:if(o=e.sent,T.isAuthenticated(r())){e.next=8;break}e.t0=o,e.next=11;break;case 8:return e.next=10,n.getCart().then(function(e){var t=e.results;return de(o,t,n,i)});case 10:e.t0=e.sent;case 11:return a=e.t0,e.abrupt("return",Object(C.b)(a,[x.f]));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})}),he={get:function(){return fe},addModel:function(e){return function(t,n){var i=n(),r=re.isModelInCart(e.uid,i),o=re.models(i);return r?K.a.resolve(Object(C.b)(o,[x.f])):t({type:Z.ADD_MODEL,payload:{modelUid:e.uid,entities:Object(C.b)(e,x.f).entities,effect:function(){var t=p()(f.a.mark(function t(n){var r,a,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.Api,a=n.LocalStorage,!(o.length+1>J.a.storeCartMaxSize)){t.next=3;break}throw new Q.b;case 3:if(!T.isAuthenticated(i)){t.next=9;break}return t.next=6,oe([e.uid],r);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,ue([e],a);case 11:t.t0=t.sent;case 12:return s=t.t0,t.abrupt("return",Object(C.b)(s,[x.f]));case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})}},removeModel:function(e){return function(t,n){var i=n(),r=re.isModelInCart(e.uid,i),o=re.models(i);return r?t({type:Z.REMOVE_MODEL,payload:{modelUid:e.uid,entities:Object(C.b)(e,x.f).entities,effect:function(){var t=p()(f.a.mark(function t(n){var r,o,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.Api,o=n.LocalStorage,!T.isAuthenticated(i)){t.next=7;break}return t.next=4,ae([e.uid],r);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,le([e.uid],o);case 9:t.t0=t.sent;case 10:return a=t.t0,t.abrupt("return",Object(C.b)(a,[x.f]));case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}):K.a.resolve(Object(C.b)(o,[x.f]))}},clear:function(){return function(e,t){var n=t();return e({type:Z.CLEAR,payload:{effect:function(){var e=p()(f.a.mark(function e(t){var i,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.Api,r=t.LocalStorage,!T.isAuthenticated(n)){e.next=6;break}return e.next=4,ae(re.modelUids(n),i);case 4:e.next=8;break;case 6:return e.next=8,ce(r);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})}}},pe={effect:function(e,t){return t.effects[e.ORIGINAL]||{}},isPending:function(e,t){return pe.effect(e,t).status===S.b.Pending},isResolved:function(e,t){return pe.effect(e,t).status===S.b.Resolved},isRejected:function(e,t){return pe.effect(e,t).status===S.b.Rejected}},ge=n(83),me=n(8),ve=n(30),be={UPDATE_QUERY:"search.UPDATE_QUERY",UPDATE_TYPE:"search.UPDATE_TYPE",OPEN:Object(S.d)("search.OPEN"),CLOSE:Object(S.d)("search.CLOSE")},we={isOpen:!!Object(ve.d)("search:search",window.location.pathname),query:me.c.string("q",""),type:"models",previousLocation:""},ye=Object(k.b)(we,(u={},m()(u,be.UPDATE_QUERY,function(e,t){return b()({},e,{query:t.query})}),m()(u,be.UPDATE_TYPE,function(e,t){return b()({},e,{type:t.type})}),m()(u,be.OPEN.PENDING,function(e){return b()({},e,{isOpen:!0})}),m()(u,be.OPEN.RESOLVED,function(e,t){return b()({},e,{previousLocation:t.effect})}),m()(u,be.CLOSE.RESOLVED,function(e){return b()({},e,{isOpen:!1})}),u)),Ce={query:function(e){return e.search.query},type:function(e){return e.search.type},isOpen:function(e){return e.search.isOpen},previousLocation:function(e){return e.search.previousLocation||{models:"/models/popular",users:"/users",collections:"/collections"}[Ce.type(e)]}},Se={updateQuery:function(e){return{type:be.UPDATE_QUERY,payload:{query:e}}},updateType:function(e){return{type:be.UPDATE_TYPE,payload:{type:e}}},open:function(){return function(e,t){if(!Ce.isOpen(t()))return e({type:be.OPEN,payload:{effect:function(e){var t=e.History,n=Object(ve.d)("search:search",window.location.pathname)?"":window.location.pathname;return t.pushRoute("search:search"),n}}})}},close:function(){return function(e,t){if(Ce.isOpen(t()))return e({type:be.CLOSE,payload:{effect:function(e){e.History.push(Ce.previousLocation(t()),{shouldPreventModelPopup:!0})}}})}},toggle:function(){return function(e,t){return e(Ce.isOpen(t())?Se.close():Se.open())}}},ke={authUser:_,entities:B,cart:Z,effects:{},storeSearch:ge.i,search:be},xe=Object(c.c)({authUser:P,entities:G,cart:ie,effects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.meta&&t.meta.isEffect?b()({},e,m()({},t.meta.originalType,{status:t.meta.effectStatus})):e},storeSearch:ge.g,search:ye}),_e={authUser:T,entities:z,cart:re,effects:pe,storeSearch:ge.h,search:Ce},Oe={authUser:F,entities:H,cart:he,effects:{},storeSearch:ge.a,search:Se},Ee=n(12),Me=n.n(Ee),Pe=(n(26),n(95)),Te=n(16),je=function(e){return localStorage.getItem(e)},Re=function(e,t){return localStorage.setItem(e,t)},Ie=function(e){return localStorage.removeItem(e)},Ae=function(e){return K.a.try(function(){return JSON.parse(je(e))})},Fe=function(e,t){return Re(e,JSON.stringify(t))},De=n(29),Ne=n(41),Be=n(48),Ue=n(188);function Le(e,t){var n=[Ue.a,Object(S.c)(t)],i=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d;return Object(c.e)(xe,e,i(c.a.apply(void 0,n)))}n(82);n.d(t,"b",function(){return ze}),n.d(t,"c",function(){return _e}),n.d(t,"d",function(){return ke}),n.d(t,"a",function(){return Oe});var Ve=Object(l.j)()?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Le(e,t);return{store:n,StateProvider:function(e){var i=e.children;return Me()(S.a.Provider,{value:t},void 0,Me()(Pe.a,{store:n},void 0,i))}}}():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.b.get("initialState"),t={Api:Te.b,LocalStorage:i,CookieBag:De.a,Prefetching:Ne.b,History:Be.a},n=Le(e,t);return{store:n,StateProvider:function(e){var i=e.children;return Me()(S.a.Provider,{value:t},void 0,Me()(Pe.a,{store:n},void 0,i))}}}(),$e=Ve.store,Ge=Ve.StateProvider;Object(l.j)()&&(global.__setStore=function(e){$e=e},global.__setStateProvider=function(e){Ge=e});var ze={get Provider(){return Ge},get store(){return $e},subscribeTo:function(e,t){var n=e($e.getState());return $e.subscribe(function(){var i=e($e.getState());n!==i&&(t(i),n=i)})}}},90:function(e,t,n){"use strict";var i=n(14),r=n(6),o=n(0);n(293);t.a=i.a.extend({displayName:"Popup",optionTypes:{child:o.b.component.isRequired,title:o.b.string,className:o.b.string,isClosable:o.b.bool,width:o.b.number},defaultOptions:{className:"",isClosable:!0},state:{},events:{},template:function(){var e=this.options,t=e.width,n=e.className,i=e.isClosable,o=e.title,a=e.child;return r.default.getFromMacro("skfb_front/macros/components/molecules/popup","popup",[{className:n,isClosable:i,width:t,title:o,components:this.createChildrenComponents({child:a})}])}})},91:function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(1),a=n(62),s=n(45),u=n(131);t.a=a.a.extend({mixins:[s.b,u.a],el:'<div class="widget"/>',constructor:function(e,t){this.environment=Object(o.extend)({},e?e.environment:{},(t||{}).environment),this.options=t||{},this.collection=this.options.collection,this.model=this.options.model,a.a.call(this,t)},initialize:function(e){a.a.prototype.initialize.call(this,e),this.render(),void 0!==this.options.id&&(this.id=this.options.id,this.$el.attr("id",this.id)),void 0!==this.options.className&&(this.className=this.options.className,this.$el.addClass(this.className)),void 0!==this.options.title&&this.$el.attr("title",this.options.title)},$:function(e){var t=this.$el;return this.$el.find(e).filter(function(){return r()(this).parent().closest(".widget").is(t)})},delegateEvents:function(e){e||(e=Object(o.result)(this,"events")||{});var t=this.$el;return a.a.prototype.delegateEvents.call(this,Object.keys(e).reduce(function(n,i){var a=e[i];return Object(o.isFunction)(a)||(a=this[e[i]]),a?(n[i]=function(e){e&&e.currentTarget&&!r()(e.currentTarget).closest(".widget").is(t)||a.apply(this,arguments)}.bind(this),n):n}.bind(this),{})),this.model&&this.model.on("change",this.modelChangeEvent,this),this},undelegateEvents:function(){return a.a.prototype.undelegateEvents.apply(this,arguments),this.model&&this.model.off("change",this.modelChangeEvent,this),this},modelChangeEvent:function(){var e=this.options.name,t=e+".",n=!e,i=Object.keys(this.model.changedAttributes()||{}).some(function(n){return n===e||0===n.indexOf(t)});(n||i)&&this.render()},change:function(e,t){1===arguments.length&&(t=e,e=void 0);var n=!0,i={target:this,which:e,value:t,preventDefault:function(){n=!1}};return this.trigger("change.before",i),!!n&&(this.defaultAction(e,t),this.trigger("change"),!0)},defaultAction:function(e,t){this.set(t)},field:function(e){return this.options.name+(e?"."+e:"")},get:function(e){return this.model.get(this.field(e))},set:function(e,t){return 1===arguments.length&&(t=e,e=void 0),this.model.set(this.field(e),t)},disable:function(){this._disabled=!0,this.$el.addClass("disabled")},enable:function(){this._disabled=!1,this.$el.removeClass("disabled")}},{reify:function(){var e=arguments,t=this,n=function(){t.apply(this,e)};return n.prototype=this.prototype,new n}})},94:function(e,t,n){"use strict";var i=n(4),r=n.n(i),o=n(9);t.a=function(e){return{name:"WithEntitiesUpdate",initialize:function(){this.on("afterAdd",function(t){o.b.store.dispatch(o.a.entities.update(r()({},e,t.map(function(e){return e.toJSON()}))))})}}}},96:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var i=n(84),r=n.n(i);n.d(t,"a",function(){return r.a});var o=n(205),a=n.n(o),s=n(204),u=n.n(s);r.a.extend(a.a),r.a.extend(u.a);r.a.extend(function(e,t,n){t.prototype.isValid=function(){return!isNaN(this.$s)},n.utc=function(e){return r()(function(e){if("number"==typeof e)return e;var t=new Date(e);return t.getTime()-60*t.getTimezoneOffset()*1e3}(e))};var i=t.prototype.format;t.prototype.format=function(){if(!this.isValid())return this.toString();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.call.apply(i,[this].concat(t))}});var l=function(e){return r.a.utc(e).fromNow()}},97:function(e,t,n){"use strict";var i=!1;t.a=function(e){return void 0!==e&&(i=e),i}},99:function(e,t,n){"use strict";t.a={name:"internal",domain:"/i",parse:function(e){return e.results||[]}}}},[[1718,47,50,49,48]]])});
//# sourceMappingURL=standaloneViewer-853e4554c922ee246f94.js.map