!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(){return(window.webpackJsonp=window.webpackJsonp||[]).push([[79,5,36,46,51],{0:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var o=n(38),i=n.n(o),r=n(1),a=n(47),s=n.n(a),l=n(108),c=n.n(l),u=n(102),d=n.n(u);function p(e){function t(t,n,o,i,r,a){var s=n[o];return a=a||o,null===s||void 0===s?t?new Error("Required "+r+" `"+a+"` was not specified in `"+i+"`."):null:e(n,o,i,r,a,d.a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function m(e){return Array.isArray(e)?"array":i()(e)}function f(e){return p(function(t,n,o,i,r){var a=t[n],l=m(a);if(!function(e){return e instanceof s.a.Model}(a))return new Error("Invalid "+i+" `"+r+"` of type `"+l+"` supplied to `"+o+"`, expected `Backbone.Model`.");for(var c in e){var u=e[c];if(u){var p=u(a.attributes,c,o,i,n+".get('"+c+"')",d.a);if(p)return p}}return null})}var h=f({}),g=p(function(e,t,n,o,i){var r=e[t],a=m(r);return function(e){return e instanceof s.a.Collection}(r)?null:new Error("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `Backbone.Collection`.")}),b=Object(r.extend)({},c.a);b.valuesOf=function(e){return p(function(t,n,o,i,r){var a=function(e,t,n,o){if("function"!=typeof e)return new Error("Property `"+t+"` of `"+n+"` has invalid OptionType notation inside "+o+".")}(e,r,o,"valuesOf");if(a)return a;var s=t[n],l=m(s);if("object"!==l)return new Error("Invalid "+i+" `"+r+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var c in s){var u=e(s,c,o,i,r+"."+c,d.a);if(u instanceof Error)return u}return null})},b.modelShape=f,b.model=h,b.collection=g,b.numberBetween=function(e,t){return p(function(n,o,i,r,a){var s=c.a.number(n,o,i,r,a,d.a);if(s)return s;var l=n[o];return l<e||l>t?new Error("Invalid "+r+" `"+o+"` of value `"+l+"` supplied to `"+i+"`, expected number between "+e+" and "+t+"."):null})},b.component=b.oneOfType([b.shape({viewClass:b.func.isRequired,options:b.object}).isRequired,b.arrayOf(b.shape({viewClass:b.func.isRequired,options:b.object})).isRequired]),b.selectOptionListOf=function(e){return b.arrayOf(b.shape({title:b.string.isRequired,value:e,default:b.bool}).isRequired)},t.b=b;var v=c.a.checkPropTypes},10:function(e,t,n){"use strict";var o=n(1),i=n(27);window.webpackPublicPath=Object(i.o)("webpack-public-path");var r=Object(i.o)("sketchfab-runtime","json");n.p=window.webpackPublicPath;var a={__webpack_public_path__:window.webpackPublicPath,isFeatureEnabled:function(e){var t=this.features[e];return t&&void 0!==t.enabled?t.enabled:!t||void 0===t.flag||t.flag>0}};Object(o.extend)(a,r);var s=a;t.a=Object(o.extend)({},s,{buildMode:"dist",routes:{"categories:detail":"categories/<slug:category>","categories:list":"categories","collections:collection_display":"<username:username>/collections/<slug:collection_slug>","collections:explore_collections":"collections","collections:popular":"collections/popular","feeds:activity":"feed/activity","feeds:following":"feed","feeds:suggestions":"feed/suggestions","models:brands":"models/brands","models:edit":"models/<uid:model_id>/edit","models:embed":"models/<uid:model_id>/embed","models:embed_legacy_redirect":"embed/<uid:model_id>","models:embed_password":"models/<uid:model_id>/embed/password","models:explore":"models","models:explore_by_category":"models/categories/<slug:category>","models:model_categories_redirect":"models/categories","models:password_legacy_redirect":"models/<uid:model_id>/password","models:playlists_embed":"playlists/embed","models:popular":"models/popular","models:review":"models/<uid:model_id>/review","models:show_legacy_redirect":"show/<uid:model_id>","models:staffpicks":"models/staffpicks","models:view":"3d-models/<slug:slug>-<uid:model_id>","models:view_old":"models/<uid:model_id>","models:view_password":"3d-models/<slug:slug>-<uid:model_id>/password","models:view_password_without_slug":"3d-models/<uid:model_id>/password","models:view_without_slug":"3d-models/<uid:model_id>","pages:1million":"1million","pages:about":"about","pages:advertising":"3d-advertising","pages:animation":"animation","pages:careers":"careers","pages:configurator":"3d-configurators","pages:developers":"developers","pages:developers_data":"developers/data-api","pages:developers_exporters":"developers/exporters","pages:developers_support":"developers/support","pages:download":"download","pages:education":"education","pages:enterprise":"enterprise","pages:exporters":"exporters","pages:exporters_detail":"exporters/<slug:exporter>","pages:features":"features","pages:features_animation":"features/animation","pages:features_download":"features/download","pages:features_gltf":"features/gltf","pages:features_pbr":"features/pbr","pages:gltf":"gltf","pages:importers":"importers","pages:index":"","pages:licenses":"licenses","pages:mobile":"mobile","pages:oauth2_success":"oauth2/success","pages:pbr":"pbr","pages:plans":"plans","pages:press":"press","pages:privacy":"privacy","pages:render_test_viewer":"tests/models/<uid:model_id>/render-test","pages:terms":"terms","pages:tests_grid_playground":"tests/playground/grid","pages:verticals_games":"games","pages:verticals_museums":"museums","pages:virtual_reality":"virtual-reality","pages:vr":"vr","pages:vr_browser":"vr-browser","pages:vr_launcher":"vr-launcher","search:search":"search","store:cart":"store/cart","store:categories_list":"store/categories","store:checkout":"store/checkout","store:home":"store","store:invoice":"<username:username>/invoices/<uid:uid>","store:invoice_redirect":"<username:username>/invoices","store:search":"store/3d-models","store:search_by_keyword":"store/3d-models/<slug:keyword>","store:user":"<username:username>/store","tags:tag_detail_view":"tags/<slug:tag>","users:explore_users":"members","users:explore_users_pro":"members/pros","users:farewell":"farewell","users:onboarding":"signup/onboarding","users:onboarding_step":"signup/onboarding/<str:usage>/<str:step>","users:profile_collections":"<username:username>/collections","users:profile_followers":"<username:username>/followers","users:profile_following":"<username:username>/followings","users:profile_likes":"<username:username>/likes","users:profile_models":"<username:username>/models","users:profile_purchases":"<username:username>/purchases","users:profile_sales":"<username:username>/sales","users:profile_subscriptions":"<username:username>/subscriptions","users:profile_summary":"<username:username>","users:profile_uploads":"<username:username>/uploads","users:reset_password":"login/reset-password","users:reset_password_confirm":"login/reset-password-confirm","users:settings_account":"settings/account","users:settings_apps":"settings/apps","users:settings_avatar":"settings/avatar","users:settings_dotme":"settings/dotme","users:settings_email":"settings/email","users:settings_notifications":"settings/notifications","users:settings_password":"settings/password","users:settings_profile":"settings/profile","users:settings_unsubscribe":"settings/unsubscribe","users:signin":"login","users:signin_hololens":"login/hololens","users:signout":"logout","users:signup":"signup","users:signup_connect":"signup/connect","users:signup_email_confirmation":"signup/email-confirmation","users:signup_finalize":"signup/finalize","users:upgrade_welcome":"upgrade/<str:account>/<str:cycle>/welcome"},modelFiletypes:["wrl","obj","ive","3ds","dae","ply","osg2","osgt","osgb","osgx","osgs","gem","geo","mdl","rgb","lws","dxf","tgz","osgterrain","shp","zae","stl","sta","bvh","ac","flt","ogr","osga","md2","x","txp","dw","osgtgz","3dc","asc","lw","lwo","gdal","bsp","osg","iv","blend","blend1","fbx","dat","mc2obj","dwf","vpk","zip","7z","rar","gz","kmz","craft","wrz","mu","q3d","gltf","glb","iges","igs","abc","las","vox"],environmentFiletypes:["hdr","exr"],exportersFiletypes:{"3dslash":"3dslash",blend:"blender",c4d:"cinema4d",craft:"kerbalspaceprogram",fmz:"formz",gh:"grasshopper",ghx:"grasshopper",ic3d:"ironcad",ipt:"inventor",lws:"lightwave",lxo:"modo",ma:"maya",mat:"unity",max:"3dsmax",mb:"maya",prefab:"unity",psd:"photoshop",qb:"qubicle",qef:"qubicle",qmo:"qubicle",s3d:"strata",sbs:"substance",skp:"sketchup",sldprt:"solidworks",spp:"substance",unity:"unity",ztl:"zbrush"},textureFileTypes:["jpg","jpeg","png","tga"],avatarFiletypes:["jpg","jpeg","png"],backgroundFiletypes:["jpg","jpeg","png"],matcapFiletypes:["jpg","jpeg","png","tga"],additionalUploadableFileTypes:["mtl","psd","bin"],soundFiletypes:["mp3"],maxBackgroundFilesize:4194304,maxMatcapFilesize:4194304,maxEnvironmentFilesize:52428800,maxAvatarFilesizes:{basic:1048576,biz:1048576,ent:1048576,prem:1048576,pro:1048576},maxModelFilesizes:{basic:52428800,biz:524288e3,ent:524288e3,prem:524288e3,pro:209715200},maxHotspotsPerModel:{basic:5,biz:75,ent:100,prem:50,pro:20},maxSoundFilesize:5242880,maxSoundtracksPerModel:{basic:1,biz:15,ent:15,prem:10,pro:5},plansPrivateModelLimit:{basic:0,biz:500,ent:"Custom",prem:200,pro:20},textureMaxFileSize:78643200,cameraConstraintsEditing:{basic:0,biz:1,ent:1,prem:1,pro:1},analyticsReferrerOverrides:["facebook.com/.*?/?dialog/oauth.*?","facebook.com/login$","facebook.com/l.php$"],oauthRedirectUris:{},usernameMaxLength:30,usernameValidatorRegex:"^[a-zA-Z0-9._-]{2,30}$",usernameValidatorTitle:"Letters, numbers, -, _ and . only",userUsageTypeChoices:{buyer:"buyer",uploader:"uploader",visitor:"visitor"},proPlanTypes:["pro","prem","biz","ent"],planLabels:{basic:"basic",biz:"business",ent:"enterprise",prem:"premium",pro:"pro"},deflatableModelFiletypes:["stl","ply","obj","dae"],minDeflatableFilesize:524288,maxLevenshteinDistance:2,prodHookDomainsBlacklist:["sketchfab.com"],inspectorBlacklist:["3dexport.com","3docean.net","3dsquirrel.co.uk","blendermarket.com","cgtrader.com","creativemarket.com","crytek.com","cubebrush.co","daz3d.com","evermotion.org","flippednormals.com","gumroad.com","pond5.com","renderosity.com","stock.adobe.com","turbosquid.com","unity3d.com","unrealengine.com"],maxExtraArchiveSize:524288e3,apiPageSize:24,internalDomains:[{domain:"2mdn.net",allowSubdomains:!0},{domain:"3dtotal.com",allowSubdomains:!0},{domain:"80.lv",allowSubdomains:!0},{domain:"artstation.com",allowSubdomains:!0},{domain:"blendernation.com",allowSubdomains:!0},{domain:"cgsociety.org",allowSubdomains:!0},{domain:"fatvoxel.com",allowSubdomains:!0},{domain:"guidigo.com",allowSubdomains:!0},{domain:"moddb.com",allowSubdomains:!0},{domain:"nearpod.com",allowSubdomains:!0},{domain:"serving-sys.com",allowSubdomains:!0},{domain:"sketchfab.com",allowSubdomains:!0},{domain:"skfb-local.com",allowSubdomains:!0},{domain:"syncsketch.com",allowSubdomains:!0},{domain:"therookies.co",allowSubdomains:!0},{domain:"yeggi.com",allowSubdomains:!0},{domain:"yobi3d.com",allowSubdomains:!0}],hosts:{faq:"https://help.sketchfab.com/hc/en-us"},optionsVersion:9,channelNames:{Matcap:["matcap"],Displacement:["displacement"],Opacity:["transparency","transparent","opacity","mask","alpha"],SubsurfaceScattering:["scattering","subsurface"],SubsurfaceTranslucency:["translucency","thickness"],DiffuseColor:["diffuse","albedo","basecolor"],DiffusePBR:["diffuse","albedo","basecolor"],AlbedoPBR:["diffuse","albedo","basecolor"],ClearCoat:["clearcoat"],ClearCoatRoughness:["clearcoat roughness"],ClearCoatNormalMap:["clearcoat normal map"],SpecularColor:["specular","spec","s"],DiffuseIntensity:["ambient occlusion","ao","occlusion","lightmap","diffuseintensity"],SpecularPBR:["specular","spec","s"],MetalnessPBR:["metalness","metallic","metal","m"],GlossinessPBR:["glossiness","glossness","gloss","g","glossy"],RoughnessPBR:["roughness","rough","r"],NormalMap:["normal","nrm","normalmap"],BumpMap:["bump","bumpmap","heightmap"],AOPBR:["ambient occlusion","ao","occlusion","lightmap","diffuseintensity"],EmitColor:["emission","emit","emissive"],CavityPBR:["cavity"],SpecularHardness:["glossiness","glossness","gloss","g","glossy"],SpecularF0:["specularf0","f0"],Inspector:[]},shortcuts:{viewerRendering:{name:"Rendering",shortcuts:[{id:"defaultRenderingMode",name:"Lit: ",description:"Shows default rendering mode",keyCombinations:["1"]},{id:"shadelessRenderingMode",name:"Shadeless: ",description:"Shows shadeless rendering mode",keyCombinations:"2"},{id:"matcapRenderingMode",name:"MatCap: ",description:"Shows matcap rendering mode",keyCombinations:"3"},{id:"toggleWireframe",name:"Wireframe: ",description:"Toggles wireframe visibility",keyCombinations:"5"},{id:"inspector",name:"Inspector: ",keyCombinations:["i"]}]},generalControls:{name:"General",shortcuts:[{id:"fullscreen",name:"Fullscreen: ",keyCombinations:["f"]}]},animationControl:{name:"Animations",shortcuts:[{id:"prevFrame",name:"Previous frame: ",keyCombinations:["b","ctrl+b","shift+b"]},{id:"nextFrame",name:"Next frame: ",keyCombinations:["n","ctrl+n","shift+n"]},{id:"toggleTextEdition",name:"Go to time/frame : ",keyCombinations:["enter"]}]},annotationControl:{name:"Annotations",shortcuts:[{id:"prevAnnotation",name:"Previous: ",keyCombinations:["j","pageup"]},{id:"nextAnnotation",name:"Next: ",keyCombinations:["k","pagedown"]}]},inspectorControl:{name:"Inspector",shortcuts:[{id:"render",name:"Render: ",keyCombinations:["1"]},{id:"materials",name:"Materials: ",keyCombinations:["2"]},{id:"geometry",name:"Geometry: ",keyCombinations:["3"]},{id:"uv",name:"UV: ",keyCombinations:["4"]},{id:"animation",name:"Animation: ",keyCombinations:["6"]}]},sound:{name:"Sound",shortcuts:[{id:"mute",name:"Mute: ",keyCombinations:["m"]}]}},vr:{launcherUid:"c0022acc4f3242e2bcae8043e08df8cc"},defaultMatcapUid:"35c4d334eded44d8a657f390954a32dd",facebookApiVersion:"v2.10",modelMinPrice:399,reviewsUsageOptions:[{title:"Game development",value:"game"},{title:"Real-Time Rendering",value:"rtr"},{title:"Rendering & Visual FX",value:"vfx"},{title:"Animation/Motion Design",value:"anim"},{title:"VR",value:"vr"},{title:"3D Printing, Maker Projects & DIY",value:"print"},{title:"Architecture / Interior Design",value:"archi"},{title:"Education",value:"edu"},{title:"AR",value:"ar"},{title:"Art",value:"art"},{title:"Other",value:"other"}],fileFormatOptions:[{title:".fbx (Autodesk FBX)",value:"fbx"},{title:".3ds (3ds Max)",value:"3ds"},{title:".max (3ds Max)",value:"max"},{title:".blend (Blender)",value:"blend"},{title:".obj (OBJ wavefront)",value:"obj"},{title:".c4d (Cinema 4D)",value:"c4d"},{title:".mb (Maya)",value:"mb"},{title:".ma (Maya)",value:"ma"},{title:".lwo (LightWave)",value:"lwo"},{title:".lxo (Modo)",value:"lxo"},{title:".skp (SketchUp)",value:"skp"},{title:".stl (Stereolithography)",value:"stl"},{title:".unitypackage (Unity)",value:"unitypackage"},{title:".uasset (Unreal)",value:"uasset"},{title:".dae (Collada)",value:"dae"},{title:".ply (Polygon File Format)",value:"ply"}],storeCartMaxSize:50,countries:[{title:"Afghanistan",value:"AF"},{title:"Åland Islands",value:"AX"},{title:"Albania",value:"AL"},{title:"Algeria",value:"DZ"},{title:"American Samoa",value:"AS"},{title:"Andorra",value:"AD"},{title:"Angola",value:"AO"},{title:"Anguilla",value:"AI"},{title:"Antarctica",value:"AQ"},{title:"Antigua and Barbuda",value:"AG"},{title:"Argentina",value:"AR"},{title:"Armenia",value:"AM"},{title:"Aruba",value:"AW"},{title:"Australia",value:"AU"},{title:"Austria",value:"AT"},{title:"Azerbaijan",value:"AZ"},{title:"Bahamas",value:"BS"},{title:"Bahrain",value:"BH"},{title:"Bangladesh",value:"BD"},{title:"Barbados",value:"BB"},{title:"Belarus",value:"BY"},{title:"Belgium",value:"BE"},{title:"Belize",value:"BZ"},{title:"Benin",value:"BJ"},{title:"Bermuda",value:"BM"},{title:"Bhutan",value:"BT"},{title:"Bolivia, Plurinational State of",value:"BO"},{title:"Bonaire, Sint Eustatius and Saba",value:"BQ"},{title:"Bosnia and Herzegovina",value:"BA"},{title:"Botswana",value:"BW"},{title:"Bouvet Island",value:"BV"},{title:"Brazil",value:"BR"},{title:"British Indian Ocean Territory",value:"IO"},{title:"Brunei Darussalam",value:"BN"},{title:"Bulgaria",value:"BG"},{title:"Burkina Faso",value:"BF"},{title:"Burundi",value:"BI"},{title:"Cambodia",value:"KH"},{title:"Cameroon",value:"CM"},{title:"Canada",value:"CA"},{title:"Cabo Verde",value:"CV"},{title:"Cayman Islands",value:"KY"},{title:"Central African Republic",value:"CF"},{title:"Chad",value:"TD"},{title:"Chile",value:"CL"},{title:"China",value:"CN"},{title:"Christmas Island",value:"CX"},{title:"Cocos (Keeling) Islands",value:"CC"},{title:"Colombia",value:"CO"},{title:"Comoros",value:"KM"},{title:"Congo",value:"CG"},{title:"Congo, Democratic Republic of the",value:"CD"},{title:"Cook Islands",value:"CK"},{title:"Costa Rica",value:"CR"},{title:"Côte d'Ivoire",value:"CI"},{title:"Croatia",value:"HR"},{title:"Cuba",value:"CU"},{title:"Curaçao",value:"CW"},{title:"Cyprus",value:"CY"},{title:"Czechia",value:"CZ"},{title:"Denmark",value:"DK"},{title:"Djibouti",value:"DJ"},{title:"Dominica",value:"DM"},{title:"Dominican Republic",value:"DO"},{title:"Ecuador",value:"EC"},{title:"Egypt",value:"EG"},{title:"El Salvador",value:"SV"},{title:"Equatorial Guinea",value:"GQ"},{title:"Eritrea",value:"ER"},{title:"Estonia",value:"EE"},{title:"Ethiopia",value:"ET"},{title:"Falkland Islands (Malvinas)",value:"FK"},{title:"Faroe Islands",value:"FO"},{title:"Fiji",value:"FJ"},{title:"Finland",value:"FI"},{title:"France",value:"FR"},{title:"French Guiana",value:"GF"},{title:"French Polynesia",value:"PF"},{title:"French Southern Territories",value:"TF"},{title:"Gabon",value:"GA"},{title:"Gambia",value:"GM"},{title:"Georgia",value:"GE"},{title:"Germany",value:"DE"},{title:"Ghana",value:"GH"},{title:"Gibraltar",value:"GI"},{title:"Greece",value:"GR"},{title:"Greenland",value:"GL"},{title:"Grenada",value:"GD"},{title:"Guadeloupe",value:"GP"},{title:"Guam",value:"GU"},{title:"Guatemala",value:"GT"},{title:"Guernsey",value:"GG"},{title:"Guinea",value:"GN"},{title:"Guinea-Bissau",value:"GW"},{title:"Guyana",value:"GY"},{title:"Haiti",value:"HT"},{title:"Heard Island and McDonald Islands",value:"HM"},{title:"Holy See",value:"VA"},{title:"Honduras",value:"HN"},{title:"Hong Kong",value:"HK"},{title:"Hungary",value:"HU"},{title:"Iceland",value:"IS"},{title:"India",value:"IN"},{title:"Indonesia",value:"ID"},{title:"Iran, Islamic Republic of",value:"IR"},{title:"Iraq",value:"IQ"},{title:"Ireland",value:"IE"},{title:"Isle of Man",value:"IM"},{title:"Israel",value:"IL"},{title:"Italy",value:"IT"},{title:"Jamaica",value:"JM"},{title:"Japan",value:"JP"},{title:"Jersey",value:"JE"},{title:"Jordan",value:"JO"},{title:"Kazakhstan",value:"KZ"},{title:"Kenya",value:"KE"},{title:"Kiribati",value:"KI"},{title:"Korea, Democratic People's Republic of",value:"KP"},{title:"Korea, Republic of",value:"KR"},{title:"Kosovo",value:"XK"},{title:"Kuwait",value:"KW"},{title:"Kyrgyzstan",value:"KG"},{title:"Lao People's Democratic Republic",value:"LA"},{title:"Latvia",value:"LV"},{title:"Lebanon",value:"LB"},{title:"Lesotho",value:"LS"},{title:"Liberia",value:"LR"},{title:"Libya",value:"LY"},{title:"Liechtenstein",value:"LI"},{title:"Lithuania",value:"LT"},{title:"Luxembourg",value:"LU"},{title:"Macao",value:"MO"},{title:"Macedonia, the former Yugoslav Republic of",value:"MK"},{title:"Madagascar",value:"MG"},{title:"Malawi",value:"MW"},{title:"Malaysia",value:"MY"},{title:"Maldives",value:"MV"},{title:"Mali",value:"ML"},{title:"Malta",value:"MT"},{title:"Marshall Islands",value:"MH"},{title:"Martinique",value:"MQ"},{title:"Mauritania",value:"MR"},{title:"Mauritius",value:"MU"},{title:"Mayotte",value:"YT"},{title:"Mexico",value:"MX"},{title:"Micronesia, Federated States of",value:"FM"},{title:"Moldova, Republic of",value:"MD"},{title:"Monaco",value:"MC"},{title:"Mongolia",value:"MN"},{title:"Montenegro",value:"ME"},{title:"Montserrat",value:"MS"},{title:"Morocco",value:"MA"},{title:"Mozambique",value:"MZ"},{title:"Myanmar",value:"MM"},{title:"Namibia",value:"NA"},{title:"Nauru",value:"NR"},{title:"Nepal",value:"NP"},{title:"Netherlands",value:"NL"},{title:"New Caledonia",value:"NC"},{title:"New Zealand",value:"NZ"},{title:"Nicaragua",value:"NI"},{title:"Niger",value:"NE"},{title:"Nigeria",value:"NG"},{title:"Niue",value:"NU"},{title:"Norfolk Island",value:"NF"},{title:"Northern Mariana Islands",value:"MP"},{title:"Norway",value:"NO"},{title:"Oman",value:"OM"},{title:"Pakistan",value:"PK"},{title:"Palau",value:"PW"},{title:"Palestine, State of",value:"PS"},{title:"Panama",value:"PA"},{title:"Papua New Guinea",value:"PG"},{title:"Paraguay",value:"PY"},{title:"Peru",value:"PE"},{title:"Philippines",value:"PH"},{title:"Pitcairn",value:"PN"},{title:"Poland",value:"PL"},{title:"Portugal",value:"PT"},{title:"Puerto Rico",value:"PR"},{title:"Qatar",value:"QA"},{title:"Réunion",value:"RE"},{title:"Romania",value:"RO"},{title:"Russian Federation",value:"RU"},{title:"Rwanda",value:"RW"},{title:"Saint Barthélemy",value:"BL"},{title:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{title:"Saint Kitts and Nevis",value:"KN"},{title:"Saint Lucia",value:"LC"},{title:"Saint Martin (French part)",value:"MF"},{title:"Saint Pierre and Miquelon",value:"PM"},{title:"Saint Vincent and the Grenadines",value:"VC"},{title:"Samoa",value:"WS"},{title:"San Marino",value:"SM"},{title:"Sao Tome and Principe",value:"ST"},{title:"Saudi Arabia",value:"SA"},{title:"Senegal",value:"SN"},{title:"Serbia",value:"RS"},{title:"Seychelles",value:"SC"},{title:"Sierra Leone",value:"SL"},{title:"Singapore",value:"SG"},{title:"Sint Maarten (Dutch part)",value:"SX"},{title:"Slovakia",value:"SK"},{title:"Slovenia",value:"SI"},{title:"Solomon Islands",value:"SB"},{title:"Somalia",value:"SO"},{title:"South Africa",value:"ZA"},{title:"South Georgia and the South Sandwich Islands",value:"GS"},{title:"South Sudan",value:"SS"},{title:"Spain",value:"ES"},{title:"Sri Lanka",value:"LK"},{title:"Sudan",value:"SD"},{title:"Suriname",value:"SR"},{title:"Svalbard and Jan Mayen",value:"SJ"},{title:"Eswatini",value:"SZ"},{title:"Sweden",value:"SE"},{title:"Switzerland",value:"CH"},{title:"Syrian Arab Republic",value:"SY"},{title:"Taiwan, Province of China",value:"TW"},{title:"Tajikistan",value:"TJ"},{title:"Tanzania, United Republic of",value:"TZ"},{title:"Thailand",value:"TH"},{title:"Timor-Leste",value:"TL"},{title:"Togo",value:"TG"},{title:"Tokelau",value:"TK"},{title:"Tonga",value:"TO"},{title:"Trinidad and Tobago",value:"TT"},{title:"Tunisia",value:"TN"},{title:"Turkey",value:"TR"},{title:"Turkmenistan",value:"TM"},{title:"Turks and Caicos Islands",value:"TC"},{title:"Tuvalu",value:"TV"},{title:"Uganda",value:"UG"},{title:"Ukraine",value:"UA"},{title:"United Arab Emirates",value:"AE"},{title:"United Kingdom of Great Britain and Northern Ireland",value:"GB"},{title:"United States of America",value:"US"},{title:"United States Minor Outlying Islands",value:"UM"},{title:"Uruguay",value:"UY"},{title:"Uzbekistan",value:"UZ"},{title:"Vanuatu",value:"VU"},{title:"Venezuela, Bolivarian Republic of",value:"VE"},{title:"Viet Nam",value:"VN"},{title:"Virgin Islands, British",value:"VG"},{title:"Virgin Islands, U.S.",value:"VI"},{title:"Wallis and Futuna",value:"WF"},{title:"Western Sahara",value:"EH"},{title:"Yemen",value:"YE"},{title:"Zambia",value:"ZM"},{title:"Zimbabwe",value:"ZW"}],usStates:[{title:"Alabama",value:"AL"},{title:"Alaska",value:"AK"},{title:"Arizona",value:"AZ"},{title:"Arkansas",value:"AR"},{title:"California",value:"CA"},{title:"Colorado",value:"CO"},{title:"Connecticut",value:"CT"},{title:"Delaware",value:"DE"},{title:"District of Columbia",value:"DC"},{title:"Florida",value:"FL"},{title:"Georgia",value:"GA"},{title:"Hawaii",value:"HI"},{title:"Idaho",value:"ID"},{title:"Illinois",value:"IL"},{title:"Indiana",value:"IN"},{title:"Iowa",value:"IA"},{title:"Kansas",value:"KS"},{title:"Kentucky",value:"KY"},{title:"Louisiana",value:"LA"},{title:"Maine",value:"ME"},{title:"Maryland",value:"MD"},{title:"Massachusetts",value:"MA"},{title:"Michigan",value:"MI"},{title:"Minnesota",value:"MN"},{title:"Mississippi",value:"MS"},{title:"Missouri",value:"MO"},{title:"Montana",value:"MT"},{title:"Nebraska",value:"NE"},{title:"Nevada",value:"NV"},{title:"New Hampshire",value:"NH"},{title:"New Jersey",value:"NJ"},{title:"New Mexico",value:"NM"},{title:"New York",value:"NY"},{title:"North Carolina",value:"NC"},{title:"North Dakota",value:"ND"},{title:"Ohio",value:"OH"},{title:"Oklahoma",value:"OK"},{title:"Oregon",value:"OR"},{title:"Pennsylvania",value:"PA"},{title:"Rhode Island",value:"RI"},{title:"South Carolina",value:"SC"},{title:"South Dakota",value:"SD"},{title:"Tennessee",value:"TN"},{title:"Texas",value:"TX"},{title:"Utah",value:"UT"},{title:"Vermont",value:"VT"},{title:"Virginia",value:"VA"},{title:"Washington",value:"WA"},{title:"West Virginia",value:"WV"},{title:"Wisconsin",value:"WI"},{title:"Wyoming",value:"WY"}]})},101:function(e,t,n){"use strict";var o,i=n(1);o=n(56).a.extend({},{get:function(e){e=Object(i.extend)({},e);var t=new this;return!1!==e.allowPrefetching?(void 0===this.singleton&&(this.singleton=t),this.singleton.fetch(e),this.singleton):t.fetch(e)}}),t.a=o},104:function(e,t,n){"use strict";var o=n(14),i=n(6),r=n(18),a=n(89),s=n(0),l=n(90),c=o.a.extend({displayName:"MessagePopupContent",template:function(){var e=this.options,t=e.buttons,n=void 0===t?[]:t,o=e.children,r=void 0===o?[]:o;return i.default.getFromString('\n                <div class="c-message-popup">\n                    <div class="c-message-popup__content">\n                        {{ options.html | safe }}\n                        {% if options.text %}\n                            <p class="c-message-popup__text">{{ options.text }}</p>\n                        {% endif %}\n                        {{ components.children | component }}\n                    </div>\n                    {% if components.buttons.length %}\n                        <div class="c-message-popup__buttons">\n                            {{ components.buttons | component }}\n                        </div>\n                    {% endif %}\n                </div>\n                ',{options:this.options,components:this.createChildrenComponents({buttons:n,children:r})})}});t.a=Object(a.a)(o.a.extend({displayName:"MessagePopup",optionTypes:{title:s.b.string.isRequired,popup:s.b.object.isRequired,text:s.b.string,html:s.b.string,children:s.b.component,width:s.b.number,renderButtons:s.b.func},defaultOptions:{title:"",text:"",html:"",width:450,shouldRejectOnCancel:!0,renderButtons:r.d},template:function(){return i.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:l.a,options:{title:this.options.title,width:this.options.width,child:{viewClass:c,options:{html:this.options.html,text:this.options.text,children:this.options.children,buttons:this.options.renderButtons(this.options.popup)}}}}})})}}))},105:function(e,t,n){"use strict";t.a=function(e,t,n){return e?0===(o=e.images?e.images:e).length?"":1===o.length?o[0].url:o.reduce(function(e,o){var i=Math.abs(t-e.width)+Math.abs(n-e.height),r=Math.abs(t-o.width)+Math.abs(n-o.height);return(e.width<t||e.height<n)&&(i+=t*n),(o.width<t||o.height<n)&&(r+=t*n),i<r?e:o}).url:"";var o}},107:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(1),a=n(19),s=n(46),l=n(27);t.a={name:"WithOptionsEvents",constructor:function(){var e=this;this.__withOptionsEvents={listeners:[]},this.events=Object(a.e)(this.events,function(t,n){var o=Object(s.e)(n);if(!o.selector.match(/^this\.options\./))return i()({},n,t);if("string"==typeof t&&!e[t])throw new Error("WithOptionsEvents error: "+e.displayName+"."+t+" is not defined.");return e.__withOptionsEvents.listeners.push({optionName:o.selector.replace(/^this\.options\./,""),eventName:o.eventName,callback:function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Object(r.isFunction)(t)?t.call.apply(t,[e].concat(o)):e[t].apply(e,o)}}),{}})},afterViewDidMount:function(){var e=this;this.__withOptionsEvents.listeners.forEach(function(t){var n=t.optionName,o=t.eventName,i=t.callback;Object(l.a)(e.options[n],o,i)})},afterViewDidUpdate:function(e){var t=this;this.__withOptionsEvents.listeners.forEach(function(n){var o=n.optionName,i=n.eventName,r=n.callback;e[o]!==t.options[o]&&(Object(l.p)(e[o],i,r),Object(l.a)(t.options[o],i,r))})},beforeViewWillUnmount:function(){var e=this;this.__withOptionsEvents.listeners.forEach(function(t){var n=t.optionName,o=t.eventName,i=t.callback;Object(l.p)(e.options[n],o,i)})}}},1077:function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},1078:function(e,t,n){var o=n(1077);function i(e,t,n,i,r){var a=function(e,t,n,i){return function(n){n.delegateTarget=o(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}e.exports=function(e,t,n,o,r){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,o,r)}))}},1079:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},1080:function(e,t,n){var o=n(1079),i=n(1078);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(o.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(o.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},1081:function(e,t){function n(){}n.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var r=0,a=o.length;r<a;r++)o[r].fn!==t&&o[r].fn._!==t&&i.push(o[r]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},1082:function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}},1083:function(e,t,n){var o,i,r;i=[e,n(1082)],void 0===(r="function"==typeof(o=function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=r})?o.apply(t,i):o)||(e.exports=r)},110:function(e,t,n){"use strict";var o=n(25),i=n(7),r=n(16),a=n(111),s=n(9);t.a=o.a.extend({mixins:[Object(a.a)(function(e,t){if(!t.get("uid"))return{};var n=s.c.entities.collection(t.get("uid"),e);return{subscriberCount:n?n.subscriberCount:t.get("subscriberCount")}})],endpoint:function(){return"/collections".concat(this.isNew()?"":"/".concat(this.get("uid")))},sharing:function(){return r.b.getCollectionSharing(this.get("uid")).then(function(e){return this.set("sharing",e),e}.bind(this))},updateModels:function(e,t){return e?r.b.removeModelsFromCollection(this.get("uid"),t):r.b.addModelsToCollection(this.get("uid"),t)},subscribe:function(){var e=this;return r.b.subscribeToCollection(this.get("uid")).then(function(){e.set("subscriberCount",e.get("subscriberCount")+1)})},unsubscribe:function(){var e=this;return r.b.unsubscribeFromCollection(this.get("uid")).then(function(){e.set("subscriberCount",e.get("subscriberCount")-1)})},setSubscription:function(e){return e?this.unsubscribe():this.subscribe()},toggleSubscription:function(){var e=this;return i.a.authenticate(function(t){var n=t.hasSubscribed(e.id);return e.setSubscription(n).then(function(){t.updateSubscription(e.id,!n)})}).catch(function(){})},getThumbnails:function(){var e=this;return r.b.getCollectionThumbnails(this.get("uid")).then(function(t){return e.set("thumbnails",t),t})}})},111:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(2),a=n.n(r),s=n(1),l=n(19),c=n(9),u=Symbol("WithGlobalState");t.a=function(e){return{name:"WithGlobalState",initialize:function(){var t=this;this.set(e(c.b.store.getState(),this)),this[u]={unsubscribe:c.b.store.subscribe(Object(s.debounce)(function(){var n=e(c.b.store.getState(),t),o=Object.keys(n).reduce(function(e,n){return a()({},e,i()({},n,t.get(n)))},{});Object(l.g)(o,n)||t.set(n)},16))}},destroy:function(){this[u].unsubscribe()}}}},1111:function(e,t,n){"use strict";n.r(t);var o=n(209),i=n(30),r=n(65),a=n(79),s=n(3),l=n.n(s),c=n(1),u=n(29),d=n(15),p=n(49),m=n(16),f=d.a.extend({events:{"submit form":"tryPassword"},initialize:function(){d.a.prototype.initialize.apply(this,arguments),void 0===u.a.get("sb_csrftoken")&&m.b.getCsrf().catch(function(){new p.default({title:"Warning",text:["The model can not be displayed on this site ","because your browser is blocking cookies.<br />","To view this model, allow cookies or ",'<a href="'+window.location+'" target="_blank">view it on sketchfab.com</a>.'].join(" "),safe:!0,buttons:{ok:!0}}).open().then(function(){window.open(window.location,"_blank")})}),this.deferred=l.a.Deferred(),this.promise=this.deferred.promise()},tryPassword:Object(c.throttle)(function(){!this.throttled&&this.$('[name="password"]').val()&&(this.$el.find(".form-error").fadeOut(),l.a.post(window.location.href,{password:this.$('[name="password"]').val()}).then(function(e){this.deferred.resolve(e.result.redirectTo)}.bind(this),function(e){if(401===e.status)this.$(".form-error").fadeIn(),this.$('[name="password"]').val("");else if(429===e.status){var t=l()(".button.submit");t.addClass("btn-disabled"),this.throttled=!0,setTimeout(function(){t.removeClass("btn-disabled"),this.throttled=!1}.bind(this),3e4),new p.default({title:"Too many wrong password attempts",text:"You have entered too many wrong passwords. Please wait a minute before trying again.",popupClosable:!0}).open()}else new p.default({title:"Unexpected error",text:'Please try again later or <a href="https://help.sketchfab.com/hc/en-us/requests/new?type=website&utm_source=website&utm_campaign=model-password-error" target="_blank">contact us</a> if the error persists',safe:!0,popupClosable:!0}).open()}.bind(this)))},1e3),then:function(){return this.promise.then.apply(this.promise,arguments)}}),h=a.a.extend({initialize:function(){a.a.prototype.initialize.apply(this,arguments),new f({el:this.$(".embed-password"),model:this.model}).then(function(e){window.location.replace(e)})}}),g=a.a.extend({initialize:function(){a.a.prototype.initialize.apply(this,arguments),new f({el:this.$(".popup-container"),model:this.model}).then(function(e){window.location.replace(e)})}}),b=n(4),v=n.n(b),k=n(2),w=n.n(k),y=n(28),C=n.n(y),_=n(10),O=n(5),L=n.n(O),x=n(14),S=n(6),F=n(0),E=n(350),P=n(144),j=n(161),R=n(19),T=n(44),M=n(24),N=n(7),A=n(167),D=n(104),U=n(169),V=n(57),B=n(335),I=n(529),z=(n(837),Object(P.a)(I.a)),q=[{value:"",title:"Select your usage"}].concat(C()(_.a.reviewsUsageOptions)),$=Object(E.a)({previewFidelity:{initialValue:0,validators:[Object(j.i)(),Object(j.e)(1,"This field is required")]},easeOfUse:{initialValue:0,validators:[Object(j.i)(),Object(j.e)(1,"This field is required")]},valueForMoney:{initialValue:0,validators:[Object(j.i)(),Object(j.e)(1,"This field is required")]},usage:{initialValue:"",validators:[Object(j.i)(),Object(j.g)(q.map(Object(R.k)("value")))]},body:{initialValue:"",validators:[Object(j.i)(),Object(j.f)(50)]}})(x.a.extend({displayName:"ReviewEditForm",optionTypes:{form:F.b.shape({data:F.b.shape({previewFidelity:F.b.numberBetween(0,5),easeOfUse:F.b.numberBetween(0,5),valueForMoney:F.b.numberBetween(0,5),body:F.b.string.isRequired,usage:F.b.string.isRequired}).isRequired}).isRequired,model:F.b.shape({viewerUrl:F.b.string.isRequired,uid:F.b.string.isRequired}).isRequired,onContactSeller:F.b.func.isRequired},events:{'submit [data-ref="form"]':"onSubmit"},viewDidMount:function(){this.review=new A.a({body:""}),N.a.me().getReviewOnModel(this.options.model.uid).then(function(e){return e&&e.body?e:L.a.reject(new M.d)}).then(function(e){this.review.set(e),this.options.form.onFieldsChange({previewFidelity:e.previewFidelity,easeOfUse:e.easeOfUse,valueForMoney:e.valueForMoney,body:e.body,usage:e.usage})}.bind(this)).catch(Object(M.g)(M.d))},onSubmit:function(){var e=this;this.options.form.onSubmit(function(t){return Object(T.a)([t.previewFidelity,t.easeOfUse,t.valueForMoney])<=2?e.displayContactSellerPopup().then(function(n){switch(n){case"post":return e.saveReview(t);case"contact":return e.options.onContactSeller()}}).catch(Object(M.g)(M.e)):e.saveReview(t)})},displayContactSellerPopup:function(){return new D.a({title:"Confirm your review",text:"Based on the rating, it seems that you've had an issue with your purchase. Would you like to get help from the seller?",renderButtons:function(e){return[{viewClass:V.a,options:{key:"contact",type:"tertiary",text:"contact seller",onClick:function(){return e.continue("contact")}}},{viewClass:V.a,options:{key:"post",type:"primary",text:"post my review",onClick:function(){return e.continue("post")}}}]}}).open()},saveReview:function(e){var t=this.options.model,n=w()({},e,{model:t.uid});L.a.resolve(this.review.save(n,{patch:!!this.review.get("uid")})).then(function(){window.location=t.viewerUrl}).catch(function(e){if(400===e.status){var t=e.responseJSON.detail;return L.a.reject(Object.keys(t).reduce(function(e,n){return w()({},e,v()({},n,Object(c.head)(t[n])))},{}))}return new D.a({title:"Something went wrong",text:"There was an error while saving your review. Please try again later.",shouldRejectOnCancel:!1,renderButtons:function(e){return{viewClass:V.a,options:{text:"ok",onClick:e.continue}}}}).open()})},template:function(){return S.default.getFromMacro("skfb_front/macros/components/organisms/review-edit-form","review_edit_form",[{SKFB_FAQ_HOST:_.a.hosts.faq,minCharsCount:50,ratings:this.options.form.data,fields:this.options.form.fields,charsCount:this.options.form.data.body.length,components:this.createChildrenComponents({previewFidelityRating:{viewClass:U.a,options:w()({},this.options.form.fields.previewFidelity,{size:"large"})},easeOfUseRating:{viewClass:U.a,options:w()({},this.options.form.fields.easeOfUse,{size:"large"})},valueForMoneyRating:{viewClass:U.a,options:w()({},this.options.form.fields.valueForMoney,{size:"large"})},usageSelect:{viewClass:B.a,options:w()({},this.options.form.fields.usage,{placeholder:"E.g: Architecture visualization, mobile game, 3D printing, …",options:q,grey:!0,className:"form-select c-review-edit-form__select"})},commentEditor:{viewClass:z,options:w()({},this.options.form.fields.body,{grey:!0,placeholder:"",onSubmit:this.onSubmit.bind(this)})},publishButton:{viewClass:V.a,options:{text:this.options.form.isSubmitting?"publishing...":"publish my review",loading:this.options.form.isSubmitting,attrs:{type:"submit"}}}})}])}})),W=n(509),H=n(512),G=a.a.extend({displayName:"ModelReviewEdit",children:{reviewForm:{selector:".js-review-edit-form",viewClass:$,options:function(){return{model:this.options.model.toJSON(),onContactSeller:this.onContactSeller.bind(this)}}},card:{selector:".js-card",viewClass:H.a,options:function(){return{model:this.options.model,isPriceHidden:!0,isRatingHidden:!0}}}},events:{'click [data-action="contact"]':"onContactSeller"},initialize:function(){if(a.a.prototype.initialize.apply(this,arguments),this.render(),window.location.hash)switch(window.location.hash){case"#contact":this.onContactSeller()}},onContactSeller:function(){var e=this.options.model.toJSON();new N.a({uid:e.user.uid}).fetch().then(function(t){return new W.a({model:t,title:"Sketchfab Store: "+e.name,body:"Model: "+e.viewerUrl+"\n"}).open()})},render:function(){this.renderChildren()}}),J=n(68),Y=n.n(J),K=n(323),X=n(23),Q=n(334),Z=n(113),ee=n(487),te=n(32),ne=n(69),oe=n(67),ie=n(262),re=n(884),ae=n(885),se=a.a.extend({displayName:"ModelPage",optionTypes:{dragAndDrop:F.b.oneOfType([F.b.object.isRequired,F.b.bool.isRequired])},defaultOptions:{dragAndDrop:{enabled:!0}},state:{shouldDisplayModelManagement:!1,isPollingVersions:!1,forcedFeedbackTab:void 0},children:{main:{viewClass:ae.a,selector:".js-model-main",options:function(){return{model:this.options.model,onOpenDownloadPopup:this.openDownloadPopup.bind(this),onInspect:this.onInspect.bind(this),onScrollToReviews:this.onScrollToReviews.bind(this),getDownloadButtonText:this.getDownloadButtonText.bind(this),forcedFeedbackTab:this.state.forcedFeedbackTab}}},sidebar:{viewClass:re.a,selector:".js-model-sidebar",options:function(){return{model:this.options.model,onOpenDownloadPopup:this.openDownloadPopup.bind(this),onInspect:this.onInspect.bind(this),onScrollToReviews:this.onScrollToReviews.bind(this),getDownloadButtonText:this.getDownloadButtonText.bind(this),shouldDisplayModelManagement:this.state.shouldDisplayModelManagement}}}},events:{"mouseenter iframe":"ensureIframeFocus",'click [data-action="cancel-restricted"]':"cancelRestricted",'click [data-action="allows-restricted"]':"allowsRestricted","route #download":"openDownloadPopup"},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.openDownloadPopup=te.e(this.openDownloadPopup.bind(this)),Y.a.any||this.initializeTheatreMode(),Object(Z.a)()||this.$('[data-action="settings3d-button"]').addClass("disable");var e=this.$("iframe.viewer-object");e.length&&this.ensureIframeFocus({target:e[0]}),Y.a.any&&this.$(".additional .actions .settings").hide(),this.fixViewerHeight(),this.initializeProcessingPolling(),this.watchIframeFocus(),this.fetchModelMetadata(),this.options.model.on("change",this.forceUpdate,this),this.options.model.getExtraArchive(),this.render(),this.options.model.get("inStore")&&this.trackViewStoreModel()},viewDidUpdate:function(e){this.options.isCurrentRoute!==e.isCurrentRoute&&(this.options.isCurrentRoute?this.onStartHandling():this.onStopHandling())},viewWillUnmount:function(){this.onStopHandling()},onStartHandling:function(){ee.a.then(function(e){e.isStarted()||e.start()})},onStopHandling:function(){ee.a.then(function(e){return e.stop()})},fixViewerHeight:function(){if(Y.a.apple.phone&&window.innerWidth<=parseInt(ne.e.responsiveBreakpointSmall)){var e=this.$(".viewer");e.css({height:e.height()});var t=this.$(".viewer-container");t.css({height:t.height()})}},getDownloadButtonText:function(e){var t=e.isModelOwned,n=e.isModelInCart,o=e.wasJustAdded;return t?{text:"Download",subtext:""}:n?o?{text:"Added to your cart!",subtext:"go to checkout",iconClassName:"fa fa-check",iconAttrs:{style:{fontSize:"30px",animation:"scaleIn .3s ease"}}}:{text:"go to checkout",subtext:"model already added to your cart",iconClassName:""}:{text:"Add to cart",subtext:"",iconClassName:""}},fetchModelMetadata:function(){var e=this;this.options.model.canEdit()&&this.options.model.getModelManagementData().then(function(){e.setState({shouldDisplayModelManagement:!0})})},initializeProcessingPolling:function(){this.model.isProcessing()&&(this.setState({isPollingVersions:!0}),this.options.model.checkStatusAndRetry().then(function(e){switch(e.processing){case"SUCCEEDED":case"FAILED":window.location.reload()}}))},initializeTheatreMode:function(){var e=this;this.isTheatreModeEnabled()&&this.$(".model-container").addClass("theatre"),ee.a.then(function(t){t.on("enterTheatreMode",function(){e.$(".model-container").addClass("theatre"),X.a.modelViewerTheatreModeButtonClicked(!0)}),t.on("leaveTheatreMode",function(){e.$(".model-container").removeClass("theatre"),X.a.modelViewerTheatreModeButtonClicked(!1)})})},isTheatreModeEnabled:function(){return"false"!==u.a.get("sb_theatre_mode","false")},onInspect:function(){l()("html").animate({scrollTop:0},200,function(){ee.a.then(function(e){e.toggleInspector()})})},onScrollToReviews:function(){this.setState({forcedFeedbackTab:"reviews"}),l()("html").animate({scrollTop:document.querySelector("#comments").offsetTop},400)},openDownloadPopup:function(e){var t=this;return this.options.model.get("isDownloadable")||this.options.model.get("inStore")?(X.a.modelPageDownloadButtonClicked(this.options.model.get("uid")),!this.options.model.get("inStore")&&N.a.me().get("isLimited")?(e&&e.preventDefault&&e.preventDefault(),new ie.default({reason:"download"}).open()):N.a.me().isAuthenticated()?(location.hash="#download",Object(oe.b)().then(function(e){return new e({model:t.options.model}).open()}).then(function(){history.replaceState("",document.title,window.location.pathname+window.location.search)}).catch(Object(M.g)(M.e))):N.a.authenticate(function(){return window.location.href})):L.a.resolve()},ensureIframeFocus:function(e){e.target.contentWindow.focus()},watchIframeFocus:function(){this.setIframeFocusStyle(),l()(window).on("blur focus",this.setIframeFocusStyle.bind(this))},setIframeFocusStyle:function(){var e=this.$("iframe.viewer-object");e.parent().toggleClass("focused",document.activeElement===e[0])},cancelRestricted:function(){window.location.href=document.referrer?document.referrer:"/"},allowsRestricted:function(){N.a.me().setAllowsRestricted(!0),this.$(".restricted-overlay").addClass("hidden"),l()("body.restricted").removeClass("restricted")},trackViewStoreModel:function(){var e=this.options.model.get("uid"),t=this.options.model.get("price");K.a.setStoreProductId({product_id:e}),Q.a.trackViewContent({content_ids:[e],value:t})},render:function(){this.renderChildren()}}),le=function(e){var t=e.model_id;return r.a.get(t).then(function(e){return new g({el:"body",model:e})})},ce=[Object(i.b)("models:embed_password",function(e){var t=e.model_id;return r.a.get(t).then(function(e){return new h({el:"body",model:e})})}),Object(i.b)("models:review",function(e){var t=e.model_id;return r.a.get(t).then(function(e){return new G({el:"body",model:e})})}),Object(i.b)(["models:view","models:view_old","models:view_without_slug"],function(e){var t=e.model_id;return r.a.get(t).then(function(e){return e.get("isDeleted")?new a.a({el:"body"}):new se({el:"body",model:e})})}),Object(i.b)("models:view_password",le),Object(i.b)("models:view_password_without_slug",le)];o.a.unpack(ce)},112:function(e,t,n){"use strict";function o(e,t,n){return e.filter(n)[0]||t}function i(e){return Array.prototype.slice.call(e)}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},113:function(e,t,n){"use strict";var o,i=n(198),r=n(33),a=[{type:"VERTEX_SHADER",text:["attribute vec3 aPosition;","void main() {","gl_Position = vec4(aPosition, 1.0);","}"].join("\n")},{type:"FRAGMENT_SHADER",text:["#version 100","#ifdef GL_FRAGMENT_PRECISION_HIGH","  precision highp float;","#else"," precision mediump float;","#endif","uniform sampler2D uT0;","uniform sampler2D uT1;","uniform sampler2D uT2;","uniform sampler2D uT3;","uniform ivec4 uR;","varying vec2 vT;","varying vec3 vC;","varying vec3 vColor;","varying vec4 vColor2;","void f(in vec3 a, out vec3 b) {","b = 2.0 * a;","}","#define LIN_SRGB(x) x < 0.0031308 ? x * 12.92 : 1.055 * pow(x, 1.0/2.4) - 0.055","#define SRGB_LIN(x) x < 0.04045 ? x * (1.0 / 12.92) : pow((x + 0.055) * (1.0 / 1.055), 2.4)","float linearTosRGB(const in float color) { return LIN_SRGB(color); }","vec3 linearTosRGB(const in vec3 color) { return vec3(LIN_SRGB(color.r), LIN_SRGB(color.g), LIN_SRGB(color.b)); }","vec4 linearTosRGB(const in vec4 color) { return vec4(LIN_SRGB(color.r), LIN_SRGB(color.g), LIN_SRGB(color.b), color.a); }","void main(void) {","vec4 col;","col.r = linearTosRGB(vColor2.r);","col.rgb = linearTosRGB(vColor);","f(vC, col.xyz);","if ( uR.x == 3 ) {","  col.rgb = texture2D( uT0, vT ).aaa;","  col.a = uR.y == 0 ? texture2D( uT1, vT ).r : texture2D( uT1, vT ).a;","} else if ( uR.x == 2 ) {","  col.rgb = texture2D( uT0, vT ).rgb;","  col.a = uR.y == 0 ? texture2D( uT1, vT ).r : texture2D( uT1, vT ).a;","} else {","  col.r = uR.x == 0 ? texture2D( uT0, vT ).r : texture2D( uT0, vT ).a;","  col.g = uR.y == 0 ? texture2D( uT1, vT ).r : texture2D( uT1, vT ).a;","  col.b = uR.z == 0 ? texture2D( uT2, vT ).r : texture2D( uT2, vT ).a;","  col.a = uR.w == 0 ? texture2D( uT3, vT ).r : texture2D( uT3, vT ).a;","}","gl_FragColor = gl_FrontFacing ? vec4(col.rgb, 1.0) : col;","}"].join("\n")}];t.a=function(){if(void 0!==window.sketchfabWebGLSupport)return window.sketchfabWebGLSupport;if(o=!1,window.sketchfabWebGLSupport=o,!window.Set||!window.Map||!window.Uint8ClampedArray)return!1;if(Object(i.a)())return!1;try{var e=["webgl","experimental-webgl"],t={antialias:!1},n=null,s=document.createElement("canvas");if(!s||!s.getContext)return!1;for(var l=0;l<e.length&&!(n=s.getContext(e[l],t));l++);if(!(n&&n.getParameter&&n.getExtension&&n.getShaderPrecisionFormat))return!1;var c=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS);if(!c||c<64)return!1;var u=n.getParameter(n.MAX_VARYING_VECTORS);if(!u||u<8)return!1;var d=n.getExtension("WEBGL_debug_renderer_info");if(d&&"Google SwiftShader"===n.getParameter(d.UNMASKED_RENDERER_WEBGL)&&!Object(r.a)().allowSwiftShader)return!1;o=a.every(function(e){return function(e,t,n){var o=t;"string"==typeof o&&(o=e[t]);var i=e.createShader(o);return e.shaderSource(i,n),e.compileShader(i),!(!e.getShaderParameter(i,e.COMPILE_STATUS)&&!e.isContextLost()&&(console.warn("Could't compile shader "+n),console.warn(e.getShaderInfoLog(i)),console.warn("You may want to consider a browser that fully supports WebGL."),1))}(n,e.type,e.text)})}catch(e){return!1}return window.sketchfabWebGLSupport=o,o}},114:function(e,t,n){"use strict";var o,i=n(101),r=n(156),a=n(94);o=i.a.extend({mixins:[Object(a.a)("categories")],model:r.a,endpoint:"/categories",defaultOptions:{pageSize:""},queryParams:function(){return{}}}),t.a=o},115:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),a=n(14),s=n(9),l=n(6),c=n(18),u=n(19);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return function(n){return a.a.extend({initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.state=e(s.b.store.getState(),this.options)},viewDidMount:function(){var t=this;this.unsubscribe=s.b.store.subscribe(Object(r.throttle)(function(){var n=e(s.b.store.getState(),t.options);Object(u.g)(t.state,n)||t.setState(n)},16))},viewWillUnmount:function(){this.unsubscribe()},getBoundActions:function(){return Object(r.isFunction)(t)?t(s.b.store.dispatch):Object(r.mapValues)(t,function(e){return function(){return s.b.store.dispatch(e.apply(void 0,arguments))}})},template:function(){return l.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:{viewClass:n,options:i()({},this.options,this.state,this.getBoundActions(),{parentElement:this.el})}})})}})}}},116:function(e,t,n){"use strict";n.r(t);var o=n(14),i=n(6),r=n(23),a=n(0),s=n(89),l=n(90),c=n(194);t.default=Object(s.a)(o.a.extend({displayName:"AuthenticatePopup",optionTypes:{initialForm:a.b.oneOf(["login","signup"]).isRequired,popup:a.b.shape({continue:a.b.func.isRequired}).isRequired,next:a.b.string,email:a.b.string,usageType:a.b.string},defaultOptions:{cleanOnClose:!0,shouldRejectOnCancel:!0},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.state={currentForm:this.options.initialForm}},viewDidMount:function(){r.a.pageView("/".concat(this.options.initialForm))},onSuccess:function(e){e?window.location=e:window.location.reload(!0)},template:function(){var e=this;return i.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:l.a,options:{title:{signup:"Signup",login:"Login"}[this.state.currentForm],width:400,child:{viewClass:c.a,options:{initialForm:this.options.initialForm,redirect:this.options.next,onFormChange:function(t){return e.setState({currentForm:t})},onLoginSuccess:this.onSuccess.bind(this),onSignupSuccess:this.onSuccess.bind(this),usageType:this.options.usageType,email:this.options.email}}}}})})}}))},118:function(e,t,n){"use strict";var o=n(149);t.a={client:o,debounceMap:{},blacklistedUrls:[/extensions\//i,/^chrome:\/\//i,/^moz-extension:\/\//i,/webtoolbar\//i],install:function(){return console.warn("Sentry was not installed ; it is manually disabled."),o},onBeforeSend:function(e,t){var o={message:(t&&t.originalException&&t.originalException.message||e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].value||"No Error Message").toString().replace("Error: ",""),exception:e.exception};if("No Error Message"===o.message&&(void 0===o.exception||!o.exception.values.length))return!1;if("plugin.setSuspendState is not a function"===o.message||"undefined"===o.message)return!1;if(-1!==o.message.indexOf("NS_ERROR"))return!1;if(o.message.indexOf("undefined")&&(-1!==o.message.indexOf("osgjs/osg/GLObject")||-1!==o.message.indexOf("window.Map")))return!1;var i=Date.now(),r="";try{r=o.exception.values[0].stacktrace.frames.reduce(function(e,t){t.filename+t.lineno+";"},"")}catch(e){}var a=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(o.message+r),s="No Error Message"!==o.message&&i-this.debounceMap[a]<500;if(this.debounceMap[a]=Date.now(),s)return!1;if((0,n(164).default)()&&window.MSInputMethodContext&&document.documentMode)return!1;var l=navigator.userAgent.toLowerCase();return(-1===l.indexOf("msie")||9!==parseInt(l.split("msie")[1]))&&e}}},124:function(e,t,n){"use strict";var o=n(48),i=n(68),r=n.n(i),a=n(142),s=Symbol("WithRouteLinks");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"WithRouteLinks",constructor:function(){var t=this;this[s]={onRouteLinkClick:function(n){var i=n.currentTarget.getAttribute("href")||n.currentTarget.getAttribute("data-link"),s=n.ctrlKey||n.metaKey,l=function(e){return e.replace(window.location.origin,"").replace(/^\//,"")}(i),c=a.a.find(function(e){return(0,e.test)(l)});if(!s&&!r.a.any&&c)if(n.preventDefault(),n.stopPropagation(),e[c.name]){var u=c.test(l);o.a.push(l,e[c.name](t,u))}else o.a.push(l,{})},addListener:function(){t.$el.on("click","[data-route]",t[s].onRouteLinkClick)},resetListener:function(){t[s].removeListener(),t[s].addListener()},removeListener:function(){t.$el.off("click","[data-route]",t[s].onRouteLinkClick)}}},initialize:function(){this[s].addListener()},afterViewDidMount:function(){this[s].resetListener()},afterViewDidUpdate:function(){this[s].resetListener()},beforeViewWillUnmount:function(){this[s].removeListener()}}}},126:function(e,t,n){"use strict";var o=n(15),i=n(1),r=n(3),a=n.n(r),s=n(6),l=n(86),c=n(0);n(282);t.a=o.a.extend({displayName:"Notification",optionTypes:{parent:c.b.string,class:c.b.string,content:c.b.string,delay:c.b.number},defaultOptions:{parent:".flashmessage-container"},events:{'click [data-action="close"]':"onClickClose"},template:function(){return s.default.getFromMacro("skfb_front/macros/notification","flashmessage",[this.options.class,this.options.content,{safecontent:"True"}])},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.render(),this.options.delay&&this.close(this.options.delay)},render:function(){this.$el.html(Object(i.result)(this,"template")),a()(this.options.parent).append(this.$el);var e=this.$el.find(".notification");e.addClass("hidden"),Object(i.defer)(e.removeClass.bind(e,"hidden"))},onClickClose:function(e){e&&e.preventDefault&&e.preventDefault(),this.close(0)},close:function(e){var t=this;e=e||0;var n=this.$el.find(".notification");return setTimeout(function(){n.addClass("hidden"),Object(l.a)(n).then(function(){t.$el.parent()[0].removeChild(t.el)})},e),this}})},129:function(e,t,n){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/common.jinja"]={root:function(e,t,o,i,r){var a=null,s=null,l="";try{var c=i.makeMacro(["options"],[],function(t,n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",t);var a="";return a+="\n\n    ",i.memberLookup(t,"maintenance")&&(a+='\n        <meta property="skfb:maintenance" content="',a+=i.suppressValue(i.memberLookup(t,"maintenance"),e.opts.autoescape),a+='">\n    '),a+="\n\n",o=r,new i.SafeString(a)});t.addExport("meta_sketchfab"),t.setVariable("meta_sketchfab",c),l+="\n\n";var u=i.makeMacro([],[],function(t){var r=o;o=new i.Frame,(t=t||{}).hasOwnProperty("caller")&&o.set("caller",t.caller);var a="";return a+='\n\n    <link rel="apple-touch-icon" sizes="180x180" href="',a+=i.suppressValue(n(806),e.opts.autoescape),a+='">\n    <link rel="icon" type="image/png" sizes="32x32" href="',a+=i.suppressValue(n(805),e.opts.autoescape),a+='">\n    <link rel="icon" type="image/png" sizes="16x16" href="',a+=i.suppressValue(n(804),e.opts.autoescape),a+='">\n    <link rel="shortcut icon" type="image/png" sizes="192x192" href="',a+=i.suppressValue(n(803),e.opts.autoescape),a+='">\n    <link rel="mask-icon" href="',a+=i.suppressValue(n(802),e.opts.autoescape),a+='" color="#5bbad5">\n    <meta name="msapplication-TileColor" content="#2b5797">\n    <meta name="theme-color" content="#ffffff">\n\n',o=r,new i.SafeString(a)});t.addExport("favicon"),t.setVariable("favicon",u),l+="\n\n";var d=i.makeMacro(["options"],[],function(t,n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",t);var a="";return a+="\n\n    ",a+="\n    ",a+="\n    ",a+='\n\n    <meta property="og:site_name" content="Sketchfab">\n    ',i.memberLookup(t,"facebook")&&(a+='\n        <meta property="fb:app_id" content="',a+=i.suppressValue(i.memberLookup(i.memberLookup(t,"facebook"),"appId"),e.opts.autoescape),a+='">\n    '),a+='\n\n    <meta property="twitter:site" content="@sketchfab">\n    <meta property="twitter:domain" content="https://sketchfab.com/">\n\n\n    <meta name="p:domain_verify" content="af528e3df5f766ca012f5e065c7cb812">\n\n    ',i.memberLookup(t,"video")?a+='\n        <meta property="twitter:card" content="player">\n    ':a+='\n        <meta property="twitter:card" content="summary">\n    ',a+="\n\n    ",i.memberLookup(t,"twitter")&&(a+="\n        ",i.memberLookup(i.memberLookup(t,"twitter"),"author")&&(a+='\n            <meta property="twitter:creator" content="@',a+=i.suppressValue(i.memberLookup(i.memberLookup(t,"twitter"),"author"),e.opts.autoescape),a+='">\n        '),a+="\n    "),a+="\n\n    ",i.memberLookup(t,"title")&&(a+='\n        <meta property="twitter:title" content="',a+=i.suppressValue(i.memberLookup(t,"title"),e.opts.autoescape),a+='">\n        <meta property="og:title" content="',a+=i.suppressValue(i.memberLookup(t,"title"),e.opts.autoescape),a+='">\n    '),a+="\n\n    ",i.memberLookup(t,"type")?(a+='\n        <meta property="og:type" content="',a+=i.suppressValue(i.memberLookup(t,"type"),e.opts.autoescape),a+='">\n    '):a+='\n        <meta property="og:type" content="website">\n    ',a+="\n\n    ",i.memberLookup(t,"description")&&(a+='\n        <meta property="twitter:description" content="',a+=i.suppressValue(i.memberLookup(t,"description"),e.opts.autoescape),a+='">\n        <meta property="og:description" content="',a+=i.suppressValue(i.memberLookup(t,"description"),e.opts.autoescape),a+='">\n    '),a+="\n\n    ",i.memberLookup(t,"image")&&(a+='\n        <meta property="twitter:image" content="',a+=i.suppressValue(i.memberLookup(t,"image"),e.opts.autoescape),a+='">\n        <meta property="og:image" content="',a+=i.suppressValue(i.memberLookup(t,"image"),e.opts.autoescape),a+='">\n        <meta property="og:image:width" content="1024">\n        <meta property="og:image:height" content="768">\n    '),a+="\n\n    ",i.memberLookup(t,"oembed")&&(a+='\n        <link rel="alternate" type="application/json+oembed" href="',a+=i.suppressValue(i.memberLookup(t,"oembed"),e.opts.autoescape),a+='" title="',a+=i.suppressValue(i.memberLookup(t,"title"),e.opts.autoescape),a+='">\n    '),a+="\n\n    ",i.memberLookup(t,"video")&&(a+='\n        <meta property="og:url" content="',a+=i.suppressValue(i.memberLookup(t,"video"),e.opts.autoescape),a+='">\n        <meta property="og:video:type" content="text/html">\n        <meta property="og:video:url" content="',a+=i.suppressValue(i.memberLookup(t,"video"),e.opts.autoescape),a+='">\n        <meta property="og:video:secure_url" content="',a+=i.suppressValue(i.memberLookup(t,"video"),e.opts.autoescape),a+='">\n        <meta property="og:video:width" content="800">\n        <meta property="og:video:height" content="600">\n\n        <meta name="twitter:player" content="',a+=i.suppressValue(i.memberLookup(t,"video"),e.opts.autoescape),a+='">\n        <meta name="twitter:player:stream:content_type" content="text/html">\n        <meta name="twitter:player:width" content="800">\n        <meta name="twitter:player:height" content="600">\n\n    '),a+="\n\n",o=r,new i.SafeString(a)});t.addExport("meta_social"),t.setVariable("meta_social",d),l+="\n\n\n";var p=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var a,s="";return s+="\n\n    ",a=e.getFilter("merge").call(t,{disableScaling:!0,withThemeColor:!0},i.contextOrFrameLookup(t,o,"options")),o.set("options",a,!0),o.topLevel&&t.setVariable("options",a),o.topLevel&&t.addExport("options",a),s+="\n\n    ",0!=i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"disableScaling")&&(s+='\n        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">\n    '),s+="\n\n    ",0!=i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"withThemeColor")&&(s+='\n         <meta name="theme-color" content="#1CAAD9">\n    '),s+="\n\n",o=r,new i.SafeString(s)});t.addExport("meta_browser"),t.setVariable("meta_browser",p),l+="\n\n\n";var m=i.makeMacro(["host"],["options"],function(n,r){var l=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("host",n),o.set("options",r.hasOwnProperty("options")?r.options:{});var c="";c+='\n\n    <meta name="description" content="',c+=i.suppressValue(e.getFilter("default").call(t,i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"description"),"Use Sketchfab to publish, share and embed interactive 3D files. Discover and download thousands of 3D models from games, cultural heritage, architecture, design and more."),e.opts.autoescape),c+='">\n\n    ',o=o.push();var u=["canonical","next","prev"];if(u)for(var d=u.length,p=0;p<u.length;p++){var m,f,h,g=u[p];o.set("key",g),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",d-p),o.set("loop.revindex0",d-p-1),o.set("loop.first",0===p),o.set("loop.last",p===d-1),o.set("loop.length",d),c+="\n        ",i.memberLookup(i.contextOrFrameLookup(t,o,"options"),g)&&(c+="\n            ",m=i.memberLookup(i.contextOrFrameLookup(t,o,"options"),g),o.set("url",m,!0),o.topLevel&&t.setVariable("url",m),o.topLevel&&t.addExport("url",m),c+="\n            ",c+="\n            ",c+="\n            ",i.inOperator(n,i.contextOrFrameLookup(t,o,"url"))&&(f=i.memberLookup((a=118,s=48,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"url"),"split"),'url["split"]',t,[n,1])),1),o.set("url",f,!0),o.topLevel&&t.setVariable("url",f),o.topLevel&&t.addExport("url",f)),c+="\n            ","/"==i.contextOrFrameLookup(t,o,"url")&&(h=e.getFilter("replace").call(t,i.contextOrFrameLookup(t,o,"url"),"/","",1),o.set("url",h,!0),o.topLevel&&t.setVariable("url",h),o.topLevel&&t.addExport("url",h)),c+='\n            <link rel="',c+=i.suppressValue(g,e.opts.autoescape),c+='" href="',c+=i.suppressValue(n,e.opts.autoescape),c+=i.suppressValue(i.contextOrFrameLookup(t,o,"url"),e.opts.autoescape),c+='">\n        '),c+="\n    "}return o=o.pop(),c+="\n\n    ",i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"noIndex")&&(c+='\n        <meta name="robots" content="noindex">\n    '),c+="\n\n",o=l,new i.SafeString(c)});t.addExport("meta_seo"),t.setVariable("meta_seo",m),l+="\n\n\n";var f=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var a="";if(a+='\n\n    <meta http-equiv="x-dns-prefetch-control" content="on">\n\n    ',i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"hosts")){a+="\n        ",o=o.push();var s=i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"hosts");if(s)for(var l=s.length,c=0;c<s.length;c++){var u=s[c];o.set("host",u),o.set("loop.index",c+1),o.set("loop.index0",c),o.set("loop.revindex",l-c),o.set("loop.revindex0",l-c-1),o.set("loop.first",0===c),o.set("loop.last",c===l-1),o.set("loop.length",l),a+='\n            <link rel="dns-prefetch" href="',a+=i.suppressValue(u,e.opts.autoescape),a+='">\n        '}o=o.pop(),a+="\n    "}return a+="\n\n",o=r,new i.SafeString(a)});t.addExport("meta_prefetch"),t.setVariable("meta_prefetch",f),l+="\n\n\n";var h=i.makeMacro(["prefetchedData"],[],function(n,r){var l=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("prefetchedData",n);var c,u="";u+="\n    \n    ",c=["{"],o.set("lines",c,!0),o.topLevel&&t.setVariable("lines",c),o.topLevel&&t.addExport("lines",c),u+="\n    ",o=o.push();var d,p=e.getFilter("dict_items").call(t,n);if(p)if(i.isArray(p)){var m=p.length;for(d=0;d<p.length;d++){var f=p[d][0];o.set("url",p[d][0]);var h=p[d][1];o.set("data",p[d][1]),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",m-d),o.set("loop.revindex0",m-d-1),o.set("loop.first",0===d),o.set("loop.last",d===m-1),o.set("loop.length",m),u+="\n        ",u+=i.suppressValue((a=148,s=21,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,['"'+f+'":'])),e.opts.autoescape),u+="\n        ",u+=i.suppressValue((a=149,s=21,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,[e.getFilter("json_data").call(t,h)])),e.opts.autoescape),u+="\n        ",i.memberLookup(i.contextOrFrameLookup(t,o,"loop"),"last")||(u+="\n            ",u+=i.suppressValue((a=151,s=25,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,[","])),e.opts.autoescape),u+="\n        "),u+="\n    "}}else for(var g in d=-1,m=i.keys(p).length,p){d++;var b=p[g];o.set("url",g),o.set("data",b),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",m-d),o.set("loop.revindex0",m-d-1),o.set("loop.first",0===d),o.set("loop.last",d===m-1),o.set("loop.length",m),u+="\n        ",u+=i.suppressValue((a=148,s=21,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,['"'+g+'":'])),e.opts.autoescape),u+="\n        ",u+=i.suppressValue((a=149,s=21,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,[e.getFilter("json_data").call(t,b)])),e.opts.autoescape),u+="\n        ",i.memberLookup(i.contextOrFrameLookup(t,o,"loop"),"last")||(u+="\n            ",u+=i.suppressValue((a=151,s=25,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,[","])),e.opts.autoescape),u+="\n        "),u+="\n    "}return o=o.pop(),u+="\n    ",u+=i.suppressValue((a=154,s=17,i.callWrap(i.memberLookup(i.contextOrFrameLookup(t,o,"lines"),"append"),'lines["append"]',t,["}"])),e.opts.autoescape),u+="\n    \n    ",u+=i.suppressValue((a=156,s=20,i.callWrap(i.contextOrFrameLookup(t,o,"insert_dom_data"),"insert_dom_data",t,["prefetched-data",e.getFilter("join").call(t,i.contextOrFrameLookup(t,o,"lines"),"")])),e.opts.autoescape),u+="\n\n",o=l,new i.SafeString(u)});t.addExport("use_prefetched_data"),t.setVariable("use_prefetched_data",h),l+="\n\n\n";var g=i.makeMacro(["authUser","options"],[],function(n,r,l){var c=o;o=new i.Frame,(l=l||{}).hasOwnProperty("caller")&&o.set("caller",l.caller),o.set("authUser",n),o.set("options",r);var u="";return u+="\n\n    ",u+=i.suppressValue((a=163,s=20,i.callWrap(i.contextOrFrameLookup(t,o,"insert_dom_data"),"insert_dom_data",t,["trackers-options",e.getFilter("json_data").call(t,e.getFilter("default").call(t,r,"{}"))])),e.opts.autoescape),u+="\n    ",i.memberLookup(r,"googleTagManager")&&(u+="\n        ",u+=i.suppressValue((a=165,s=43,i.callWrap(i.contextOrFrameLookup(t,o,"notify_google_tag_manager_fallback"),"notify_google_tag_manager_fallback",t,[i.memberLookup(r,"googleTagManager")])),e.opts.autoescape),u+="\n    "),u+="\n\n",o=c,new i.SafeString(u)});t.addExport("notify_trackers"),t.setVariable("notify_trackers",g),l+="\n\n",l+="\n";var b=i.makeMacro(["ss_id"],[],function(e,t){var n=o;o=new i.Frame,(t=t||{}).hasOwnProperty("caller")&&o.set("caller",t.caller),o.set("ss_id",e);var r="";return r+='\n    \n    <script type="text/javascript">\n        var shareasaleSSCID=shareasaleGetParameterByName("sscid");function shareasaleSetCookie(e,a,r,s,t){if(e&&a){var o,n=s?"; path="+s:"",i=t?"; domain="+t:"",l="";r&&((o=new Date).setTime(o.getTime()+r),l="; expires="+o.toUTCString()),document.cookie=e+"="+a+l+n+i}}function shareasaleGetParameterByName(e,a){a||(a=window.location.href),e=e.replace(/[\\[\\]]/g,"\\\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return r?r[2]?decodeURIComponent(r[2].replace(/\\+/g," ")):"":null}\n        shareasaleSSCID&&shareasaleSetCookie("shareasaleSSCID",shareasaleSSCID,94670778e4,"/");\n    <\/script>\n\n',o=n,new i.SafeString(r)});t.addExport("share_a_sale_master_script"),t.setVariable("share_a_sale_master_script",b),l+="\n\n",l+="\n";var v=i.makeMacro(["order_id","order_subtotal","merchant_id"],[],function(t,n,r,a){var s=o;o=new i.Frame,(a=a||{}).hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("order_id",t),o.set("order_subtotal",n),o.set("merchant_id",r);var l="";return l+="\n    <script type=\"text/javascript\">\n        var sscid = document.cookie.match(new RegExp('(^| )shareasaleSSCID=([^;]+)'))[2];\n        var i = new Image();\n        var amount = (",l+=i.suppressValue(n,e.opts.autoescape),l+=" / 100).toFixed(2);\n        i.width = i.height = 1;\n        i.src = 'https://www.shareasale.com/sale.cfm?tracking=",l+=i.suppressValue(t,e.opts.autoescape),l+="&amount=' + amount + '&merchantID=",l+=i.suppressValue(r,e.opts.autoescape),l+='&transtype=sale&sscidmode=6&sscid=\' + sscid;\n        document.body.appendChild(i);\n    <\/script>\n    <script defer async type="text/javascript" src="https://shareasale-analytics.com/j.js"><\/script>\n',o=s,new i.SafeString(l)});t.addExport("share_a_sale_notify_sale"),t.setVariable("share_a_sale_notify_sale",v),l+="\n\n\n";var k=i.makeMacro(["order_subtotal"],[],function(t,n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("order_subtotal",t);var a="";return a+='\n    <script type="text/javascript">\n        window.adroll_conversion_value = (',a+=i.suppressValue(t,e.opts.autoescape),a+=" / 100).toFixed(2);\n        window.adroll_currency = 'USD';\n    <\/script>\n",o=r,new i.SafeString(a)});t.addExport("adroll_notify_sale"),t.setVariable("adroll_notify_sale",k),l+="\n\n\n";var w=i.makeMacro(["options"],[],function(t,n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",t);var a="";return a+='\n\n<noscript><iframe src="//www.googletagmanager.com/ns.html?id=',a+=i.suppressValue(i.memberLookup(t,"uid"),e.opts.autoescape),a+='"\nheight="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>\n\n',o=r,new i.SafeString(a)});t.addExport("notify_google_tag_manager_fallback"),t.setVariable("notify_google_tag_manager_fallback",w),l+="\n\n\n";var y=i.makeMacro(["stylesheet_name"],[],function(n,r){var a=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("stylesheet_name",n);var s="";return s+='\n    <link rel="stylesheet" crossorigin="anonymous" integrity="',s+=i.suppressValue(e.getFilter("get_sri").call(t,n),e.opts.autoescape),s+='" href="',s+=i.suppressValue(e.getFilter("require").call(t,n),e.opts.autoescape),s+='" />\n',o=a,new i.SafeString(s)});t.addExport("insert_stylesheet"),t.setVariable("insert_stylesheet",y),l+="\n\n\n";var C=i.makeMacro(["host","description"],[],function(t,n,r){var a=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("host",t),o.set("description",n);var s="";return s+='\n\n    <script type="application/ld+json">\n        {\n          "@context": "http://schema.org",\n          "@type": "WebSite",\n          "url": "',s+=i.suppressValue(t,e.opts.autoescape),s+='",\n          "name": "Sketchfab",\n          "creator": {\n            "@type": "Organization",\n            "name": "Sketchfab",\n            "location": {\n                "@type": "Place",\n                "name": "Paris / New York"\n            }\n          },\n          "description": "',s+=i.suppressValue(n,e.opts.autoescape),s+='",\n          "potentialAction": [{\n            "@type": "SearchAction",\n            "target": "',s+=i.suppressValue(t,e.opts.autoescape),s+='/search?q={search_term_string}",\n            "query-input": "required name=search_term_string"\n          }]\n        }\n    <\/script>\n\n',o=a,new i.SafeString(s)});t.addExport("meta_structured_data_sitelink"),t.setVariable("meta_structured_data_sitelink",C),l+="\n\n\n";var _=i.makeMacro(["host"],[],function(t,n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("host",t);var a="";return a+='\n\n    <script src="',a+=i.suppressValue(t,e.opts.autoescape),a+='" defer="defer" async="async"><\/script>\n\n',o=r,new i.SafeString(a)});t.addExport("notify_webglstats"),t.setVariable("notify_webglstats",_),l+="\n\n\n";var O=i.makeMacro(["currentIndex","navigationList"],[],function(n,r,a){var s=o;o=new i.Frame,(a=a||{}).hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("currentIndex",n),o.set("navigationList",r);var l,c,u,d,p="";return p+='\n\n    <div class="arrow-navigation',0==n&&(p+=" no-left-element"),p+='">\n        ',n>0&&(p+="\n\n            ",l=c=i.memberLookup(r,n-1),o.set("text",l,!0),o.topLevel&&t.setVariable("text",l),o.topLevel&&t.addExport("text",l),o.set("link",c,!0),o.topLevel&&t.setVariable("link",c),o.topLevel&&t.addExport("link",c),p+='\n            <a class="nav-left" href="',p+=i.suppressValue(i.contextOrFrameLookup(t,o,"link"),e.opts.autoescape),p+='">',p+=i.suppressValue(i.contextOrFrameLookup(t,o,"text"),e.opts.autoescape),p+="</a>\n\n        "),p+="\n        ",n<e.getFilter("length").call(t,r)-1&&(p+="\n\n            ",u=d=i.memberLookup(r,n+1),o.set("text",u,!0),o.topLevel&&t.setVariable("text",u),o.topLevel&&t.addExport("text",u),o.set("link",d,!0),o.topLevel&&t.setVariable("link",d),o.topLevel&&t.addExport("link",d),p+='\n            <a class="nav-right" href="',p+=i.suppressValue(i.contextOrFrameLookup(t,o,"link"),e.opts.autoescape),p+='">',p+=i.suppressValue(i.contextOrFrameLookup(t,o,"text"),e.opts.autoescape),p+="</a>\n\n        "),p+="\n    </div>\n\n",o=s,new i.SafeString(p)});t.addExport("arrow_navigation"),t.setVariable("arrow_navigation",O),l+="\n\n";var L=i.makeMacro(["notification","link","options"],[],function(n,r,a,s){var l=o;o=new i.Frame,(s=s||{}).hasOwnProperty("caller")&&o.set("caller",s.caller),o.set("notification",n),o.set("link",r),o.set("options",a);var c="";return c+='\n<div class="news-notification-legacy" data-date="',c+=i.suppressValue(i.memberLookup(n,"timestamp"),e.opts.autoescape),c+='">\n    ',i.memberLookup(a,"closable")&&(c+='\n    <button class="news-notification-legacy-close" data-action="close"><i class="icon fa fa-times"></i></button>\n    '),c+='\n\n    <h1 class="news-notification-legacy-title">\n        ',c+=i.suppressValue(i.memberLookup(n,"title"),e.opts.autoescape),c+='\n    </h1>\n\n    <div class="news-notification-legacy-content">\n        ',c+=i.suppressValue(e.getFilter("safe").call(t,i.memberLookup(n,"body")),e.opts.autoescape),c+='\n    </div>\n\n    <div class="news-notification-legacy-actions">\n        <a href="',c+=i.suppressValue(r,e.opts.autoescape),c+='">\n            <i class="icon fa fa-bars"></i>\n            <span class="text">View all news</span>\n        </a>\n    </div>\n</div>\n',o=l,new i.SafeString(c)});t.addExport("news_notification_legacy"),t.setVariable("news_notification_legacy",L),l+="\n\n\n";var x=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var a="";return a+='\n    <a target="_blank" href="',a+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"href"),e.opts.autoescape),a+='" class="help">\n        <i class="fa fa-question-circle"></i>\n        <div class="tooltip tooltip-up">\n            ',a+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"tooltip"),e.opts.autoescape),a+="\n        </div>\n    </a>\n",o=r,new i.SafeString(a)});t.addExport("info_link_icon"),t.setVariable("info_link_icon",x),l+="\n\n\n";var S=i.makeMacro(["data"],[],function(n,r){var l=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("data",n);var c="";return c+="\n    ",c+=i.suppressValue((a=304,s=20,i.callWrap(i.contextOrFrameLookup(t,o,"insert_dom_data"),"insert_dom_data",t,["webpack-manifest",e.getFilter("safe").call(t,e.getFilter("replace").call(t,n,"\n",""))])),e.opts.autoescape),c+="\n",o=l,new i.SafeString(c)});t.addExport("chunk_manifest"),t.setVariable("chunk_manifest",S),l+="\n\n";var F=i.makeMacro(["jsRuntime"],[],function(n,r){var l=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("jsRuntime",n);var c="";return c+="\n    ",c+=i.suppressValue((a=308,s=20,i.callWrap(i.contextOrFrameLookup(t,o,"insert_dom_data"),"insert_dom_data",t,["webpack-public-path",i.memberLookup(n,"publicPath")])),e.opts.autoescape),c+="\n    ",c+=i.suppressValue((a=309,s=20,i.callWrap(i.contextOrFrameLookup(t,o,"insert_dom_data"),"insert_dom_data",t,["sketchfab-runtime",e.getFilter("safe").call(t,e.getFilter("json_data").call(t,n))])),e.opts.autoescape),c+="\n",o=l,new i.SafeString(c)});t.addExport("insert_runtime"),t.setVariable("insert_runtime",F),l+="\n\n";var E=i.makeMacro(["is_dev_build_mode","entry"],[],function(n,r,a){var s=o;o=new i.Frame,(a=a||{}).hasOwnProperty("caller")&&o.set("caller",a.caller),o.set("is_dev_build_mode",n),o.set("entry",r);var l="";if(l+="\n    ",n){l+="\n        ",o=o.push();var c=e.getFilter("iterable").call(t,r);if(c)for(var u=c.length,d=0;d<c.length;d++){var p=c[d];o.set("x",p),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",u-d),o.set("loop.revindex0",u-d-1),o.set("loop.first",0===d),o.set("loop.last",d===u-1),o.set("loop.length",u),l+='\n            <script src="',l+=i.suppressValue(e.getFilter("static_url").call(t,p),e.opts.autoescape),l+='" integrity="',l+=i.suppressValue(e.getFilter("get_sri").call(t,p),e.opts.autoescape),l+='" crossorigin="anonymous"><\/script>\n        '}o=o.pop(),l+="\n    "}else{l+="\n        ",o=o.push();var m=e.getFilter("get_runtime").call(t,r);if(m)for(var f=m.length,h=0;h<m.length;h++){var g=m[h];o.set("x",g),o.set("loop.index",h+1),o.set("loop.index0",h),o.set("loop.revindex",f-h),o.set("loop.revindex0",f-h-1),o.set("loop.first",0===h),o.set("loop.last",h===f-1),o.set("loop.length",f),l+='\n            <script src="',l+=i.suppressValue(e.getFilter("raw_static_url").call(t,g),e.opts.autoescape),l+='" integrity="',l+=i.suppressValue(e.getFilter("get_sri").call(t,e.getFilter("get_canonical_chunk_name").call(t,g)),e.opts.autoescape),l+='" crossorigin="anonymous"><\/script>\n        '}o=o.pop(),l+="\n    "}return l+="\n",o=s,new i.SafeString(l)});t.addExport("insert_entry"),t.setVariable("insert_entry",E),l+="\n\n";var P=i.makeMacro(["is_dev_build_mode"],["opt"],function(n,r){var l=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("is_dev_build_mode",n),o.set("opt",r.hasOwnProperty("opt")?r.opt:{});var c="";return c+="\n    ",n&&(c+="\n        ",c+=i.suppressValue((a=326,s=20,i.callWrap(i.contextOrFrameLookup(t,o,"insert_dlls"),"insert_dlls",t,[])),e.opts.autoescape),c+="\n    "),c+="\n",o=l,new i.SafeString(c)});t.addExport("insert_common_dependencies"),t.setVariable("insert_common_dependencies",P),l+="\n\n";var j=i.makeMacro([],[],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller);var a="";return a+='\n    <script src="',a+=i.suppressValue(e.getFilter("raw_static_url").call(t,"libs-dll.js"),e.opts.autoescape),a+='" crossorigin="anonymous"><\/script>\n    <script src="',a+=i.suppressValue(e.getFilter("raw_static_url").call(t,"assets-dll.js"),e.opts.autoescape),a+='" crossorigin="anonymous"><\/script>\n    <script src="',a+=i.suppressValue(e.getFilter("raw_static_url").call(t,"templates-dll.js"),e.opts.autoescape),a+='" crossorigin="anonymous"><\/script>\n',o=r,new i.SafeString(a)});t.addExport("insert_dlls"),t.setVariable("insert_dlls",j),l+="\n\n";var R=i.makeMacro(["name","data"],[],function(t,n,r){var a=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("name",t),o.set("data",n);var s="";return s+='\n    <div class="dom-data-container" style="display:none;" id="js-dom-data-',s+=i.suppressValue(t,e.opts.autoescape),s+='"><![CDATA[\n    ',s+=i.suppressValue(n,e.opts.autoescape),s+="\n    ]]></div>\n",o=a,new i.SafeString(s)});t.addExport("insert_dom_data"),t.setVariable("insert_dom_data",R),l+="\n\n";var T=i.makeMacro([],[],function(e){var t=o;o=new i.Frame,(e=e||{}).hasOwnProperty("caller")&&o.set("caller",e.caller);var n="";return n+="\n<script type=\"text/javascript\">\n    var displayMessage = function (s) {\n        s = s || 'regular';\n        var notSeenSince = Date.now() - parseInt(window.localStorage.getItem('browser_support_last_seen'), 10);\n        if ( s === 'modern' || s === 'regular') return;\n        if ( notSeenSince < (1000 * 60 * 60 * 24) ) return;\n        window.localStorage.setItem('browser_support_last_seen', Date.now());\n        var message = '', title = '', popup = document.createElement('div');\n        var popupTemplate = function (title, message) { return '<div class=\"popup-overlay\"></div><div class=\"popup\"><div class=\"popup-header\"><p class=\"popup-title\">' + title + '</p></div><div class=\"popup-content\"><p>' + message + '</p><p>Please update your browser for the best and most secure experience on our site.</p></div><div class=\"popup-footer\"><div class=\"actions \"><button class=\"button btn-medium btn-tertiary cancel\" type=\"reset\" tabindex=\"2\">Ignore</button><button class=\"button btn-medium  btn-primary  submit loading\" type=\"submit\" onclick=\"window.open(\\'http://browser-update.org/update.html\\')\" tabindex=\"1\">Update</div></button></div></div></div>'}\n        if (s === 'pre_deprecation') {\n            title = 'Impending deprecation';\n            message = 'Your browser is out of date. We will stop supporting this browser shortly.';\n        } else if (s === 'deprecated') {\n            title = 'Unsupported browser';\n            message = 'Your browser is out of date, so some Sketchfab features may not work as intended.';\n        }\n        popup.className = 'popup-container browser-support-popup';\n        popup.innerHTML = popupTemplate(title, message);\n        popup.addEventListener('click', function() { popup.parentElement.removeChild(popup); })\n        document.body.appendChild(popup);\n    }\n    var checkSupport = function (done) {\n        var v = window.localStorage.getItem('browser_support');\n        if ( !v ) {\n            var r = new XMLHttpRequest();\n            r.addEventListener('load', function () {\n                v = JSON.parse(this.responseText).support;\n                window.localStorage.setItem('browser_support', v);\n                done(v);\n            });\n            r.open('GET', '/i/browser-support');\n            r.send();\n        } else { done(v) }\n    }\n    checkSupport(displayMessage);\n<\/script>\n",o=t,new i.SafeString(n)});t.addExport("browser_support_check"),t.setVariable("browser_support_check",T),r(null,l+="\n")}catch(e){r(i.handleError(e,a,s))}}}},130:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m});var o=n(10),i=function(e){return!e.isDeleted&&!1!==e.inStore&&!e.isOwned},r=function(e){return e.filter(i).reduce(function(e,t){return e+t.price},0)},a=function(e,t){return t-t*(e/100)},s=function(e,t){return t+t*(e/100)},l=function(e,t){return o.a.maxHotspotsPerModel[t]>=e.hotspot.hotspots.length},c=function(e,t){return o.a.maxSoundtracksPerModel[t]>=e.sound.soundtracks.length},u=function(e,t){return!!o.a.proPlanTypes.includes(t)||!e.camera.useCameraConstraints},d=function(e,t){return!!o.a.proPlanTypes.includes(t)||!e.isPrivate},p=function(e){return{background:function(e){return function(t,n){return!!o.a.proPlanTypes.includes(n)||"none"===t.background.enable||e.instance.getBackgroundCollection().find(function(e){return e.get("uid")===t.background.uid}).get("isDefault")}}(e),environment:function(e){return function(t,n){return!!o.a.proPlanTypes.includes(n)||e.instance.getEnvironmentCollection().find(function(e){return e.get("uid")===t.environment.uid}).get("isDefault")}}(e),matcap:function(e){return function(t,n){if(o.a.proPlanTypes.includes(n))return!0;var i=t.materials,r=Object.keys(i).map(function(e){return i[e].channels.Matcap.texture.uid}),a=e.instance.getMatcapCollection();return!r.some(function(e){return!1===a.find(function(t){return t.get("uid")===e}).get("isDefault")})}}(e),camera:u,hotspot:l,sound:c,private:d}},m=function(e,t,n){var o=[];return Object.keys(n).forEach(function(i){n[i](e,t)||o.push(i)}),o}},131:function(e,t,n){"use strict";var o=n(1);n(0);function i(e,t){var n=e.__withChildren.childrenConfigs[t];return"function"==typeof n.selector?n.selector.call(e):n.selector}function r(e,t){var n=e.__withChildren.childrenConfigs[t];return"function"==typeof n.options?n.options.call(e):n.options}function a(e,t){var n=e.__withChildren.childrenConfigs[t];return n.viewClass.isView?n.viewClass:n.viewClass.call(e)}var s={options:function(){return{}}};t.a={name:"WithChildren",dependencies:["WithOptionTypes"],children:{},constructor:function(){this.__withChildren={childrenConfigs:{}},Object.keys(this.children).forEach(function(e){this.updateChildConfig(e,this.children[e])}.bind(this)),this.children={}},setElement:function(){return this.setChildrenElements(),this},beforeRemove:function(){this.removeChildren()},createChild:function(e){var t=i(this,e),n=r(this,e),s=new(a(this,e))(Object(o.extend)({},n,t?{el:this.$(t)}:{}));return this.children[e]=s,this},removeChild:function(e){return this.hasChild(e)&&this.getChild(e).remove(),delete this.children[e],this},removeChildren:function(){return Object.keys(this.__withChildren.childrenConfigs).forEach(this.removeChild.bind(this)),this},refreshChild:function(e){var t=function(e,t){var n=e.__withChildren.childrenConfigs[t];return!n.shouldCreateChild||n.shouldCreateChild.call(e)}(this,e),n=this.hasChild(e);return t?n?this.refreshChildViewClass(e).setChildElement(e):this.createChild(e):this.removeChild(e),this},refreshChildren:function(){Object.keys(this.__withChildren.childrenConfigs).forEach(this.refreshChild.bind(this))},initializeChild:function(e){this.refreshChild(e)},initializeChildren:function(){this.refreshChildren()},setChildElement:function(e){var t=i(this,e);return t&&this.getChild(e).setElement(this.$(t)),this},setChildrenElements:function(){return Object.keys(this.__withChildren.childrenConfigs).filter(this.hasChild.bind(this)).forEach(this.setChildElement.bind(this)),this},setChildOptions:function(e){return this.getChild(e).setOptions(r(this,e)),this},setChildrenOptions:function(){return Object.keys(this.__withChildren.childrenConfigs).filter(this.hasChild.bind(this)).forEach(this.setChildOptions.bind(this)),this},refreshChildViewClass:function(e){var t=a(this,e);return this.getChild(e)instanceof t||(this.removeChild(e),this.createChild(e)),this},renderChild:function(e){if(this.refreshChild(e),this.hasChild(e)){var t=this.getChild(e);t.isMounted?this.setChildOptions(e):t.render()}},renderChildren:function(){Object.keys(this.__withChildren.childrenConfigs).forEach(this.renderChild.bind(this))},getChildrenConfigs:function(){return this.__withChildren.childrenConfigs},updateChildConfig:function(e,t){var n=Object(o.extend)({},s,t);return this.__withChildren.childrenConfigs[e]=n,this},getChild:function(e){return this.children[e]},hasChild:function(e){return!!this.children[e]}}},133:function(e,t,n){"use strict";var o,i=n(25).a.extend({});o=n(101).a.extend({model:i,url:"/i/skills"});t.a=o},134:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(10),a=n(49);t.a={isMaintenance:function(){return i()('meta[property="skfb:maintenance"]').attr("content")},showPopup:function(){var e="?utm_source=website&utm_campaign=maintenance_error",t='An unknown error occurred. Please try again later or <a href="'+r.a.hosts.faq+"/requests/new"+e+'&type=website" target="_blank">contact our support team</a> if the problem persists.',n=this.isMaintenance(),o=new a.default({title:n?"Maintenance":"Error",text:n?'Sketchfab is undergoing maintenance.<br>See: <a href="https://forum.sketchfab.com/t/sketchfab-operations/6678?utm_source=website&utm_campaign=maintenance_error" target=_blank>Operations forum post</a>':t,buttons:{ok:!0},safe:!0});return o.open().then(function(){o.close()}),o}}},135:function(e,t,n){"use strict";var o=n(15),i=n(7);t.a=o.a.extend({isReady:!1,initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.$el.addClass("btn-loading btn-disabled"),this.$el.find(".button").addClass("btn-disabled"),i.a.me().isAuthenticated()||this.setIsReady()},setIsReady:function(){this.isReady=!0,this.isLoading=!1,this.$el.removeClass("btn-loading btn-disabled"),this.$el.find(".button").removeClass("btn-disabled")},setIsLoading:function(){this.isReady=!1,this.isLoading=!0}})},137:function(e,t,n){"use strict";var o=n(15),i=n(81),r=n(0);t.a=o.a.extend({displayName:"FormText",optionTypes:{name:r.b.string.isRequired},events:{input:function(){this.$el.addClass("edited"),this.model.set(this.options.name,this.$el.val())}},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.model.set(this.options.name,this.$el.val()),this.model.on("change:"+this.options.name,Object(i.a)(function(){var e=(this.model.get(this.options.name)||"").toString();this.$el.toggleClass("empty",0===e.length),e!==this.$el.val()&&this.$el.val(e)},this))}})},14:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(1),a=n(19),s=(n(0),n(15)),l=n(76),c=n(112),u={name:"WithRefs",refs:{},initialize:function(){this.refreshRefs()},afterRender:function(){this.refreshRefs()},refreshRefs:function(){this.refs=Object(c.b)(this.$("[data-ref]")).reduce(function(e,t){var n=t.getAttribute("data-ref");return e["$"+n]=i()(t),e[n]=t,e},{})}},d=s.a.extend({displayName:"Component",mixins:[l.a,u],isComponent:!0,setElement:function(){return s.a.prototype.setElement.apply(this,arguments),this.isRenderedManually()&&(this.$el.attr("data-component")||this.$el.attr("data-component",""),this.$el.attr("id")||this.$el.attr("id",this.cid)),this},$:function(e){var t=this.$el;return this.$el.find(e).filter(function(){return i()(this).parent().closest("[data-component]").is(t)})},delegate:function(e,t,n){var o=this.$el;return this.$el.on(e+".delegateEvents"+this.cid,t,function(e){i()(e.currentTarget).closest("[data-component]").is(o)&&n.apply(this,arguments)}),this},_removeElement:function(){this.isRenderedManually()&&this.$el.html("")},isRenderedManually:function(){return!this.options._isChildOfAComponent},getItemKey:function(e,t,n){return e.options&&e.options.key||t},normalizeChildConfig:function(e,t){var n=t||{};return Object(r.extend)({viewClass:d},n,{options:Object(r.extend)({},n.options,{_isChildOfAComponent:!0,el:void 0})})},_getLazyComponent:function(e,t){return function(){var n=this,o=this.updateChildConfig(e,this.normalizeChildConfig(e,t)).refreshChild(e).getChild(e);return{isComponentElement:!0,template:function(){var t=n.setChildOptions(e).getChild(e);return t.isMounted?t.shouldUpdate?t._template:"":(t._template=t.template(),t._template)},cid:o.cid,displayName:o.displayName}}.bind(this)},createChildComponent:function(e,t){var n=this;return Array.isArray(t)?t.map(function(o,i){var r=n.getItemKey(o,i,t);return n._getLazyComponent(e+r,o)}):this._getLazyComponent(e,t)},createChildrenComponents:function(e){return Object(r.mapValues)(e,function(e,t){return this.createChildComponent(t,e)}.bind(this))},beforeRender:function(){s.a.prototype.beforeRender.apply(this,arguments),Object.keys(this.children).map(this.getChild.bind(this)).filter(Object(a.k)("isComponent")).forEach(function(e){e.beforeRender()})},removeUnmountedChildren:function(e){Object.keys(this.children).filter(function(t){return this.getChild(t).isComponent&&!e.match('id="'+this.getChild(t).cid+'"')}.bind(this)).forEach(this.removeChild.bind(this))},onViewUpdate:function(e,t,n,o,i,r){e&&(r||this.isRenderedManually()?(this.render(),this.viewDidUpdate(t,n)):(this._template=this.template(),this.removeUnmountedChildren(this._template),this._executeAfterRender=this.viewDidUpdate.bind(this,t,n)))},render:function(){this._template=this.template(),this.removeUnmountedChildren(this._template),this.renderDiff(this._template)},afterRender:function(){var e=this;s.a.prototype.afterRender.apply(this,arguments),Object.keys(this.children).map(this.getChild.bind(this)).filter(Object(a.k)("isComponent")).map(function(t){var n=e.el.querySelector("#".concat(t.cid));return n&&t.el!==n&&t.setElement(n),t}).forEach(function(e){e.afterRender()}),this._executeAfterRender&&(this._executeAfterRender(),this._executeAfterRender=null)}});t.a=d},140:function(e,t){e.exports={websiteTopHeight:"60px",websiteBigTopHeight:"86px",websiteBannerHeight:"50px",websiteResponsiveTopHeight:"40px",websiteResponsiveNavigationWidth:"250px",editorHeaderHeight:"55px",editorPanelWidth:"320px",editorScrollbarWidth:"10px",editorGroupWidgetHeaderHeight:"30px",editorGroupWidgetSwitchWidth:"50px",editorGroupWidgetSwitchHeight:"24px",editorGroupWidgetSwitchMargin:"2px",editorGroupWidgetSwitchCursorWidth:"12px",editorNestedGroupWidgetSwitchMargin:"3px",editorImageWidgetWidth:"30px",editorImageWidgetHeight:"30px",viewerControlSize:"30px",websiteMaxWidth:"2000px",responsiveBreakpointXXLarge:"1910px",responsiveBreakpointXLarge:"1400px",responsiveBreakpointLarge:"1280px",responsiveBreakpointMedium:"1100px",responsiveBreakpointSmall:"950px",responsiveBreakpointXSmall:"800px",responsiveBreakpointXXSmall:"480px",responsiveGridOneColumn:"700px",responsiveGridTwoColumn:"1015px",responsiveGridThreeColumn:"1910px",viewerResponsiveHeight:"calc(100vh - 40px - 130px)"}},141:function(e,t,n){"use strict";n.d(t,"b",function(){return l});var o=n(2),i=n.n(o),r=["tag","user"];function a(e){return{tags:e.filter(function(e){return"tag"===e.command}).map(function(e){return e.term.trim()}),user:e.filter(function(e){return"user"===e.command}).map(function(e){return e.term.trim()})[0]}}function s(e){var t=/[^\s]+:[^\s]+/g;return{originalTerm:e,commands:(e.match(t)||[]).map(function(e){return{command:e.split(":")[0],term:e.split(":")[1]}}).filter(function(e){return r.includes(e.command)}),term:e.replace(t,function(e){return r.includes(e.split(":")[0])?" ":e}).trim()}}function l(e){var t=s(e);return i()({},a(t.commands),{q:t.term})}t.a={commandsToQueryParams:a,parseQuery:s,getSearchQueryParams:l}},142:function(e,t,n){"use strict";var o,i=n(24),r=n(67),a=n(48),s=n(71),l=n(30),c=!1,u=function(e){return["models:view","models:view_without_slug","models:view_old"].map(function(t){return Object(l.d)(t,e)}).filter(Boolean).map(function(e){return e.model_id})[0]},d={name:"modelPopup",test:u,handler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.previousUrl,o=void 0===n?"":n,l=t.playlist,d=void 0===l?[]:l,p=t.shouldPreventModelPopup,m=void 0!==p&&p;return!c&&o&&u(o)?s.b.reload():m?s.b.noOp():s.b.push(function(){var t;c=!0;var n=Object(r.e)().then(function(n){return(t=new n({uid:e,playlist:d})).open().catch(Object(i.g)(i.e)).then(function(){t=null,c=!1,a.a.push(o)}),function(){t&&t.cancel()}});return{onUpdate:function(e,n){var o=n.playlist,i=void 0===o?[]:o;return!!t&&(t.setOptions({uid:e,playlist:i}),!0)},onRemove:function(){n.then(function(e){return e()})}}})}},p=n(11),m=n.n(p),f=n(39),h=n.n(f),g=n(21),b=n.n(g),v=n(5),k=n(9),w=n(1),y=n(27),C=/^\/search(\?[^\s]*)?/,_=Object(w.memoize)(b()(m.a.mark(function e(){var t,o,i,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(y.d)('<div class="c-search-overlay"><div class="spinner initial-spinner"></div></div>'),document.body.appendChild(t),t.classList.add("visible","initial-delay"),e.next=5,v.all([Promise.all([n.e(2),n.e(5),n.e(15)]).then(n.bind(null,887)),v.delay(500)]);case 5:return o=e.sent,i=h()(o,1),r=i[0].default,e.abrupt("return",new r({el:t}));case 9:case"end":return e.stop()}},e)})));k.b.subscribeTo(k.c.search.isOpen,function(e){e?o=function(){var e=_(),t=document.querySelector(".responsive-top"),n=document.querySelector(".top");return t.classList.add("searchmode"),n.classList.add("searching"),e.then(function(e){e.render(),e.el.classList.add("visible"),e.el.classList.remove("initial-delay"),document.body.style.overflow="hidden",0!==e.el.scrollTop&&e.el.scrollTo(0,0)}),function(){e.then(function(e){e.el.classList.remove("visible"),e.el.classList.remove("initial-delay"),document.body.style.overflow="auto",t.classList.remove("searchmode"),n.classList.remove("searching")})}}():o&&o()});var O={name:"searchOverlay",test:function(e){return e.match(C)},handler:function(){return s.b.push(function(){return k.b.store.dispatch(k.a.search.open()),{onUpdate:function(){return!0},onRemove:function(){k.b.store.dispatch(k.a.search.close())}}})}};t.a=[d,O]},143:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(1),a=n(41);t.a=function(){var e=i.a.ajax;i.a.ajax=function(){var t=arguments.length>=2?arguments[1]:arguments[0];if((t=Object(r.extend)({allowPrefetching:!0,cacheBusting:!0},t)).method)throw new Error('The "method" option is actually "type" ;)');if(t.allowPrefetch)throw new Error('The "allowPrefetch" option is actually "allowPrefetching" ;)');if(t.immediate&&!t.allowPrefetching)throw new Error('The "immediate" option cannot be used with "allowPrefetching" false (mutually exclusives)');if("GET"===t.type.toUpperCase()){var n=a.b.get(t.url);if(!n&&t.immediate)throw new Error('The "'+t.url+'" URL should be prefetched: immediate loading required');if(n&&t.allowPrefetching){var o={status:200,data:n};t.success&&t.success(o.data,"success",o),t.complete&&t.complete(o,"success");var s=i.a.Deferred().resolve(o.data,"success",o);return s.readyState=4,s.status=200,s.abort=function(){},s}var l=e.apply(this,arguments);return l.then(function(e,n,o){return a.b.register(t.url,e),i.a.Deferred().resolve(e,n,o)}),l}return"PATCH"===t.type.toUpperCase()?(a.b.update(t.url,"string"==typeof t.data?JSON.parse(t.data):t.data),e.apply(this,arguments)):t.cacheBusting?(a.b.invalidate(t.url),e.apply(this,arguments)):e.apply(this,arguments)}}},144:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var o=n(12),i=n.n(o),r=n(26),a=n.n(r),s=n(182),l=n(285),c=n(1),u=n(14),d=n(9),p=function(e){return new Error("\n\nReactDOM.render error: `".concat(e,"` Component doesn't have a valid mount point. Check its selector.\n"))},m=function(e){return Object(c.omit)(e,["el","_isChildOfAComponent"])};function f(e){return u.a.extend({displayName:"FromReact(".concat(e.displayName||e.name,")"),optionTypes:e.propTypes,initialize:function(){u.a.prototype.initialize.apply(this,arguments),this.isHydrated=!0},viewDidMount:function(){this.options._isChildOfAComponent&&!this.isHydrated&&this.hydrate()},viewWillReceiveOptions:function(e){if(!this.el)throw p(this.displayName);Object(s.render)(this.getReactElements(e),this.el)},shouldViewUpdate:function(){return!1},template:function(){return this.isHydrated=!1,Object(l.renderToString)(this.getReactElements(this.options))},hydrate:function(){if(!this.el)throw p(this.displayName);Object(s.hydrate)(this.getReactElements(this.options),this.el),this.isHydrated=!0},render:function(){if(!this.el)throw p(this.displayName);Object(s.render)(this.getReactElements(this.options),this.el)},getReactElements:function(t){return i()(d.b.Provider,{},void 0,a.a.createElement(e,m(t)))}})}},15:function(e,t,n){"use strict";var o=n(38),i=n.n(o),r=n(2),a=n.n(r),s=n(3),l=n.n(s),c=n(1),u=n(19),d=n(18),p=n(62),m=n(131),f=n(45),h=n(76);function g(e){return e.__withState.nextState||e.state}var b={name:"WithState",state:{},constructor:function(){var e=this;this.__withState={planRender:Object(d.e)(function(t){var n=g(e);!function(e){delete e.__withState.nextState}(e),e.update(e.options,n,!0,t)},{leading:!1})}},setState:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=g(this),o=Object(c.isFunction)(e)?e(n):e;!function(e,t){e.__withState.nextState=t}(this,Object(c.extend)({},n,o)),this.__withState.planRender(t)}};t.a=p.a.extend({mixins:[b,f.b,m.a],defaultOptions:function(){return{}},isInitialized:!1,isMounted:!1,constructor:function(){this.options=Object(c.extend)({},this.defaultOptions(),Object(c.pickBy)(arguments[0]||{},function(e){return void 0!==e})),p.a.apply(this,arguments)},initialize:function(){p.a.prototype.initialize.apply(this,arguments),this.isInitialized=!0},setElement:function(e){var t=e[0]||e;return this.isInitialized&&this.el===t||p.a.prototype.setElement.apply(this,arguments),this.el&&(this.el[h.b]=this),this},_removeElement:function(){this.$el.html("")},template:function(){return""},update:function(e,t,n,o){this.shouldUpdate=o||this.shouldViewUpdate(e,t);var i=this.isMounted&&this.shouldUpdate;i&&this.viewWillUpdate(e,t);var r=this.options,a=this.state;return this.options=e,this.state=t,this.onViewUpdate(i,r,a,e,t,n)},onViewUpdate:function(e,t,n){e&&(this.render(),this.viewDidUpdate(t,n))},viewWillReceiveOptions:function(e){var t=this,n=this.getDerivedStateFromOptions(e,this.state);n&&Object.keys(n).some(function(e){return n[e]!==t.state[e]})&&(this.state=a()({},this.state,n))},getDerivedStateFromOptions:function(){},shouldViewUpdate:function(){return!0},viewWillUpdate:function(){},viewDidUpdate:function(){},forceUpdate:function(){this.setState({},!0)},afterRender:function(){p.a.prototype.afterRender.apply(this,arguments),this.isMounted||(this.isMounted=!0,this.viewDidMount())},beforeRemove:function(){p.a.prototype.beforeRemove.apply(this,arguments),this.isMounted&&(this.viewWillUnmount(),this.isMounted=!1,this.el&&delete this.el[h.b])},automagicErrors:function(e){if(this.$(".form-global-error").removeAttr("data-error"),this.$(".form-global-error").hide(),this.$("[data-error-for]").removeAttr("data-error"),null!==e)if("object"===i()(e)){var t=this.$("[data-error-for]");Object.keys(e).forEach(function(n){t.filter(function(){return l()(this).attr("data-error-for").split(",").indexOf(n)>-1}).attr("data-error",e[n].join("\n")).focus()}.bind(this))}else this.$(".form-global-error .message").text(e),this.$(".form-global-error").attr("data-error",e),this.$(".form-global-error").fadeIn()}},{isView:!0,extend:function(e,t){var n=Object(c.extend)({},e,{defaultOptions:Object(u.h)(Object(d.g)(this.prototype.defaultOptions||{}),Object(d.g)(e.defaultOptions||{})),events:Object(c.extend)({},this.prototype.events||{},e.events||{}),children:Object(c.extend)({},this.prototype.children||{},e.children||{}),optionTypes:Object(c.extend)({},this.prototype.optionTypes||{},e.optionTypes||{})});return p.a.extend.call(this,n,t)}})},151:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(5),a=n.n(r),s=n(29),l={"http:":"80","https:":"443"};t.a=function(){var e=i.a.ajax;i.a.ajax=function(){var t=this,n=arguments,o=arguments.length>=2?arguments[1]:arguments[0];return"GET"===o.type.toUpperCase()||"HEAD"===o.type.toUpperCase()||s.a.get("sb_csrftoken")?e.apply(this,arguments):new a.a(function(o,i){var r=new XMLHttpRequest;r.open("GET","/i/csrf"),r.addEventListener("load",function(){o(e.apply(t,n))}),r.addEventListener("error",function(e){i(e)}),r.send()})},i()(document).ajaxSend(function(e,t,n){var o=window.location,i=document.createElement("a");i.href=n.url,i.href=i.href;var r=i.port;r=(r="0"!==r?r:l[i.protocol])!==l[i.protocol]?r:"",i.protocol!==o.protocol||i.hostname!==o.hostname||r!==o.port||t.setRequestHeader("X-CsrfToken",s.a.get("sb_csrftoken"))})}},153:function(e,t,n){"use strict";var o=n(1),i=n(51),r=n(6),a=n(0);t.a=i.a.extend({displayName:"Spinner",optionTypes:{type:a.b.oneOf(["small","slow","inverted","small-slow"]),style:a.b.object},defaultOptions:{style:{}},template:function(){var e=Object(o.extend)({},this.options.attrs,{classNames:Object(o.extend)(["c-spinner","--"+this.options.type].reduce(function(e,t){return e[t]=!0,e},{})),style:Object(o.extend)({},this.options.style)});return r.default.getFromString(["<div {{ attrs | attributes }}>","</div>"].join("\n"),{attrs:e})}})},155:function(e,t,n){"use strict";var o=n(3),i=n.n(o);t.a=function(){i()(document).on("focus blur","*",function(e){var t=i()(e.target).attr("id"),n=e.target===document.activeElement;void 0!==t&&i()("label[for]").filter(function(){return i()(this).attr("for")===t}).toggleClass("focused",n)}),i()(document).on("input","input, textarea",function(e){i()(e.target).addClass("edited").toggleClass("empty",""===i()(e.target).val())}),i()(document).on("submit","form:not([action])",function(e){e.preventDefault()}),i()(".hover-menu").css("display","none"),i()(document.documentElement).addClass("ready"),i()(document).on("keydown","form textarea",function(e){e.ctrlKey&&13===e.keyCode&&i()(e.target).closest("form").submit()}),i()(document).on("click","[data-link]",function(e){(e.currentTarget!==e.target?i()(e.target).parentsUntil(e.currentTarget):i()()).andSelf().filter("a, [data-link], [data-action]").length>0||(e.metaKey||e.ctrlKey?window.open(i()(e.currentTarget).attr("data-link")):document.location=i()(e.currentTarget).attr("data-link"))}),i()(document).on("click","a",function(e){if(0!==(e.currentTarget!==e.target?i()(e.target).parentsUntil(e.currentTarget):i()()).andSelf().filter("[data-link], [data-action]").length){var t=i()(e.target).parents().filter("[href]");0!==t.length&&"#"!==t.eq(0).attr("href")||e.preventDefault()}}),i()(document).on("mousedown","label[for]",function(e){if(e.target===e.currentTarget){var t=i()(e.currentTarget).attr("for"),n=document.getElementById(t);n&&n===document.activeElement&&e.preventDefault()}}),i()(document).on("mouseover",":has(> .hover-menu)",function(e){var t=i()(e.currentTarget);t.children(".hover-menu").css("display",""),i()(".hover-menu").not(t.parents(".hover-menu")).not(t.find(".hover-menu")).css("display","none")})}},156:function(e,t,n){"use strict";var o=n(25);t.a=o.a.extend({})},158:function(e,t,n){"use strict";var o=n(38),i=n.n(o),r=n(3),a=n.n(r),s=n(1),l=n(7);t.a={name:"DragAndDrop",dependencies:["WithOptionTypes"],_dragAndDropEnabled:!1,initializeDragAndDrop:function(e){var t="boolean"==typeof this.options.dragAndDrop?{enabled:this.options.dragAndDrop}:this.options.dragAndDrop||{};this.options.dragAndDrop=Object(s.extend)({},t,e),this._dragAndDropEnabled=void 0===this.options.dragAndDrop.enabled||this.options.dragAndDrop.enabled,this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this._dragAndDropInitialized=!0,this.delegateDragAndDrop()},getDragAndDropEnabled:function(){return this._dragAndDropEnabled},setDragAndDropElements:function(){this.setDragAndDropTargetElement(),this.setDragAndDropDropboxElement()},setDragAndDropTargetElement:function(){this.options.dragAndDrop.target?"object"===i()(this.options.dragAndDrop.target)||this.options.dragAndDrop.external?this._$dragAndDropTarget=a()(this.options.dragAndDrop.target):this.options.dragAndDrop.external||(this._$dragAndDropTarget=this.$(this.options.dragAndDrop.target)):this._$dragAndDropTarget=this.$el},getDragAndDropTarget:function(){return this._$dragAndDropTarget},getDragAndDropDropbox:function(){return this._$dropbox},setDragAndDropDropboxElement:function(){if(this.options.dragAndDrop.dropbox){var e=this.options.dragAndDrop.dropbox,t=i()(e);this._$dropbox="string"===t?this.$(e):"function"===t?a()(e.call(this)):a()(e)}else this._$dropbox=this._$dragAndDropTarget},delegateDragAndDrop:function(){this._dragAndDropInitialized&&(this.setDragAndDropElements(),this._$dragAndDropTarget&&l.a.me().isAuthenticated()&&this.getDragAndDropEnabled()&&(this._$dragAndDropTarget.on("dragenter",this.onDragEnter),this._$dragAndDropTarget.on("dragover",this.onDragOver),this._$dragAndDropTarget.on("drop",this.onDrop),this._$dragAndDropTarget.on("dragend",this.onDragEnd),this._$dragAndDropTarget.on("dragleave",this.onDragLeave)))},undelegateDragAndDrop:function(){this._$dragAndDropTarget&&(this._$dragAndDropTarget.off("dragenter",this.onDragEnter),this._$dragAndDropTarget.off("dragover",this.onDragOver),this._$dragAndDropTarget.off("drop",this.onDrop),this._$dragAndDropTarget.off("dragend",this.onDragEnd),this._$dragAndDropTarget.off("dragleave",this.onDragLeave))},isNotDraggingFile:function(e){var t=(e.originalEvent?e.originalEvent:e).dataTransfer;return t&&t.types&&t.types.concat&&-1===t.types.indexOf("Files")},isDropPending:function(){return!1},onDragEnter:function(e){if(!this.isNotDraggingFile(e)&&!this.isDropPending()){e.preventDefault();var t=this.getDragAndDropDropbox();t.addClass("file-upload-drag"),e.target===t[0]&&t.addClass("accepting")}},onDragEnd:function(e){var t=this.getDragAndDropDropbox(),n=this.getDragAndDropTarget();e.target===t[0]&&t.removeClass("accepting"),e.target===n[0]&&t.removeClass("file-upload-drag"),e.preventDefault()},onDragOver:function(e){e.preventDefault()},onDragLeave:function(e){e.preventDefault(),this.onDragEnd(e)},onDrop:function(e){e.preventDefault();var t=(e=e.originalEvent?e.originalEvent:e).dataTransfer.files,n=this.getDragAndDropDropbox();n.removeClass("file-upload-drag accepting"),t&&t.length&&e.target===n[0]&&this.onFilesDrop(t)},onFilesDrop:function(e){console.info(e.length+" files were dropped on the following element : ",this._$dropbox," nothing has been done with them.")}}},159:function(e,t,n){"use strict";var o=n(15),i=n(242),r=n(6);n(491);t.a=o.a.extend({shareOnFacebook:function(e,t){i.a.getSDK().then(function(n){var o={method:"share",href:e};void 0!==t&&(o.quote=t),n.ui(o)})},shareOnTwitter:function(e,t,n){void 0===n&&(n={via:"sketchfab"});var o=window.screen.width/2-400,i=window.screen.height/2-200,r="https://twitter.com/intent/tweet?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(t);n.hasOwnProperty("via")&&null!==n.via&&(r+="&via="+n.via),window.open(r,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=800, height=400").moveTo(o,i)},shareOnPinterest:function(e,t,n){var o=window.screen.width/2-390,i=window.screen.height/2-200,r="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&description="+encodeURIComponent(t)+"&media="+encodeURIComponent(n);window.open(r,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=780, height=400").moveTo(o,i)},shareOnReddit:function(e,t){var n="https://www.reddit.com/submit?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t);window.open(n,"_blank")},shareOnTumblr:function(e,t){var n=window.screen.width/2-270,o=window.screen.height/2-300,i=r.default.get("skfb_front/partials/embed/iframe",{model:e.toJSON(),parameters:{flags:[]}}),a="https://www.tumblr.com/widgets/share/tool?posttype=video&content="+encodeURIComponent(i)+"&canonicalUrl="+encodeURIComponent(t);window.open(a,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=540, height=600").moveTo(n,o)},shareOnLinkedin:function(e){var t=window.screen.width/2-300,n=window.screen.height/2-235,o="https://www.linkedin.com/cws/share?url="+encodeURIComponent(e);window.open(o,"_blank","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=470").moveTo(t,n)}},{getMailTo:function(e){var t=e.modelName+" by "+e.userName,n=e.isCollectionMode?["Check out this collection of 3D/VR models on Sketchfab:","\n",t,"\n",e.url+"?utm_source=email&utm_medium=email&utm_campaign=collection-shared"].join(""):["Check out this model in 3D and virtual reality on Sketchfab:","\n",t,"\n",e.url+"?utm_source=email&utm_medium=email&utm_campaign=model-shared"].join("");return"mailto:?subject="+encodeURIComponent(t)+"&body="+encodeURIComponent(n)}})},16:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return k});var o=n(35),i=n.n(o),r=n(2),a=n.n(r),s=n(39),l=n.n(s),c=n(10),u=n(82),d=n(1),p=n(8),m=n(18),f=n(19),h=n(5),g=n.n(h),b=function(e){return Object.entries(e).reduce(function(e,t){var n=l()(t,2),o=n[0],i=n[1];return Array.isArray(i)?i.forEach(function(t){return e.append(o,t)}):e.append(o,i),e},new FormData)},v=function(t){return function(n){return e.all(Object(d.chunk)(n,c.a.apiPageSize).map(function(e){return t(e)})).then(function(e){return e.reduce(function(e,t){return a()({},e,t)},{})})}},k=function(e){var t=Object(m.a)(v(function(t){return e.get("".concat("/i","/users/me/followings").concat(Object(p.b)("?",{user_uids:t}))).then(function(e){return e.results})})),n=Object(m.a)(v(function(t){return e.get("".concat("/i","/users/me/likes").concat(Object(p.b)("?",{model_uids:t}))).then(function(e){return e.results})})),o=Object(m.a)(v(function(t){return e.get("".concat("/i","/users/me/upvotes").concat(Object(p.b)("?",{review_uids:t}))).then(function(e){return e.results})})),r=Object(m.a)(v(function(t){return e.get("".concat("/i","/users/me/purchases").concat(Object(p.b)("?",{model_uids:t}))).then(function(e){return e.results})})),s=Object(m.a)(v(function(t){return e.get("".concat("/i","/collections/subscribed").concat(Object(p.b)("?",{uid:t}))).then(function(e){return e.results})})),l=Object(m.a)(v(function(t){return e.get("".concat("/i","/collections/thumbnails").concat(Object(p.b)("?",{uids:t,count:4})))})),c=Object(m.a)(v(function(t){return e.get("".concat("/i","/users/thumbnails").concat(Object(p.b)("?",{uids:t,count:2})))})),u={login:function(t){var n=t.email,o=t.password,i=t.next;return e.post("/login",Object(p.b)({email:n,password:o,next:i}))},logout:function(){return e.post("/logout")},finalizeConnect:function(t){var n=t.email,o=t.password;return e.post("/signup/connect",Object(p.b)({email:n,password:o}))},finalizeSignup:function(t){var n=t.email,o=t.username;return e.post("/signup/finalize",Object(p.b)({email:n,username:o}))},getCurrentUser:function(t){var n=t.allowPrefetching;return e.get("".concat("/i","/users/me"),{allowPrefetching:n})},getCurrentUserFollowings:t,doesCurrentUserFollow:function(e){return t([e]).then(function(t){return t[e]})},getCurrentUserLikes:n,doesCurrentUserLike:function(e){return n([e]).then(function(t){return t[e]})},getCurrentUserUpvotes:o,hasCurrentUserUpvoted:function(e){return o([e]).then(function(t){return t[e]})},getCurrentUserPurchases:r,hasCurrentUserPurchased:function(e){return r([e]).then(function(t){return t[e]})},getCurrentUserSubscriptions:s,hasCurrentUserSubscribed:function(e){return s([e]).then(function(t){return t[e]})},getCurrentUserPrivateLimits:function(){return e.get("".concat("/i","/users/me/account"),{allowPrefetching:!1})},getCurrentUserReview:function(t){return e.get("".concat("/i","/users/me/review").concat(Object(p.b)("?",{model:t})))},getCurrentUserBillingAddress:function(){return e.get("".concat("/i","/users/me/billing"))},updateCurrentUserBillingAddress:function(t){return e.patch("".concat("/i","/users/me/billing"),t)},getUserByName:function(t){return e.get("".concat("/i","/users/@").concat(t))},getUserSummary:function(t){return e.get("".concat("/i","/users/").concat(t,"/summary"))},getUsersThumbnails:c,getUserThumbnails:function(e){return c([e]).then(function(t){return t[e]||[]})},getUsersAutoComplete:function(t){return e.get("".concat("/i","/users/autocomplete").concat(Object(p.b)("?",{q:t})))},getSeller:function(t){return e.get("".concat("/i","/store/sellers/").concat(t))},becomeASeller:function(){return e.post("".concat("/i","/store/sellers"))},removeSeller:function(t){return e.delete("".concat("/i","/store/sellers/").concat(t))},followUsers:function(t){return e.post("".concat("/i","/users/follow"),{uids:t})},followUser:function(t){return e.post("".concat("/i","/users/").concat(t,"/followers"))},unfollowUser:function(t){return e.delete("".concat("/i","/users/").concat(t,"/followers"))},updateUserAvatar:function(t){return e.post("".concat("/i","/avatars"),b({imageFile:t}))},updateCurrentUserEmail:function(t,n){return e.patch("".concat("/i","/users/me/email"),{email:t,password_confirmation:n})},updateCurrentUserPassword:function(t,n){return e.patch("".concat("/i","/users/me/password"),{password:t,password_confirmation:n})},updateUserEmailSettings:function(t,n){return e.patch("".concat("/i","/users/").concat(t,"/email_settings"),n)},updateUserUsageType:function(t,n){return e.patch("".concat("/i","/users/").concat(t),{usageType:n})},sendAccountConfirmationMail:function(t){var n=t.after;return e.get("".concat("/i","/users/email_confirmation").concat(Object(p.b)("?",{after:n})))},sendEmailInvitations:function(t){return e.post("".concat("/i","/invites"),{emails:t})},patchAppsSettings:function(t,n){return e.patch("".concat("/i","/users/").concat(t,"/apps_settings"),n)},disconnectSocialAuth:function(t){return e.post("/social/disconnect/".concat(t,"/"))},search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.q,o=t.type,r=t.user,s=t.collection,l=t.account,c=t.likedBy,u=t.sortBy,d=t.tags,m=t.date,h=t.categories,g=t.fileFormats,b=t.licenses,v=t.faceCount,k=t.minFaceCount,w=t.maxFaceCount,y=t.minPrice,C=t.maxPrice,_=t.inStore,O=t.minRating,L=t.downloadable,x=t.staffpicked,S=t.animated,F=t.sound,E=t.pbr,P=t.rigged,j=t.published,R=t.processingStatus,T=t.disabled,M=t.publishedSince,N=t.private,A=t.restricted,D=t.search,U=i()(t,["q","type","user","collection","account","likedBy","sortBy","tags","date","categories","fileFormats","licenses","faceCount","minFaceCount","maxFaceCount","minPrice","maxPrice","inStore","minRating","downloadable","staffpicked","animated","sound","pbr","rigged","published","processingStatus","disabled","publishedSince","private","restricted","search"]);return e.get("".concat("/i","/search").concat(Object(p.b)("?",Object(f.i)(a()({type:o,q:n,user:r,collection:s,account:l,likedBy:c,sortBy:u,tags:d,date:m,categories:h,fileFormats:g,licenses:b,faceCount:v,minFaceCount:k,maxFaceCount:isFinite(w)?w:void 0,minPrice:y,maxPrice:C,inStore:_,minRating:O,downloadable:L,staffpicked:x,animated:S,sound:F,pbr:E,rigged:P,published:j,processingStatus:R,disabled:T,publishedSince:M,private:N,restricted:A,search:D},U)))))},searchModels:function(e){return u.search(a()({},e,{type:"models"}))},getModelManagementData:function(t,n){var o=n.allowPrefetching;return e.get("".concat("/i","/models/").concat(t,"/management"),{allowPrefetching:o})},getModelStatus:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,o=void 0!==n&&n;return e.get("".concat("/i","/models/").concat(t,"/status"),{allowPrefetching:o})},getModelSharing:function(t){return e.get("".concat("/i","/models/").concat(t,"/sharing"))},getModelCollections:function(t,n){return e.get("".concat("/i","/models/").concat(t,"/collections").concat(Object(p.b)("?",{uid:n})))},getModelRelatedCollections:function(t){return e.get("".concat("/i","/models/").concat(t,"/related-collections").concat(Object(p.b)("?",{count:3})))},getModelRelatedModels:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.get("".concat("/i","/models/").concat(t,"/related").concat(Object(p.b)("?",{count:6,cursor:n})))},getModelExtraArchive:function(t){return e.get("".concat("/i","/archives/extra").concat(Object(p.b)("?",{model:t})))},getModelRatings:function(t){return e.get("".concat("/i","/models/").concat(t,"/ratings"))},getModelFallback:function(t){return e.get("".concat("/i","/models/").concat(t,"/fallback"))},updateModelExtraArchive:function(t,n){return e.post("".concat("/i","/archives/extra"),b({model:t,extraFile:n}))},removeModelExtraArchive:function(t){return e.delete("".concat("/i","/archives/extra"),b({model:t}))},getModelOwnershipStatus:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching;return e.get("".concat("/i","/models/").concat(t,"/download"),{allowPrefetching:n})},getModelVersions:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,o=void 0!==n&&n;return e.get("".concat("/i","/models/").concat(t,"/versions"),{allowPrefetching:o})},getModelComments:function(t,n){return e.get("".concat("/i","/comments").concat(Object(p.b)("?",{model:t,count:24,offset:n})))},postComment:function(t){var n=t.body,o=t.modelUid;return e.post("".concat("/i","/comments"),{body:n,model:o})},deleteComment:function(t){return e.delete("".concat("/i","/comments/").concat(t))},reprocessModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/reprocess"))},duplicateModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/duplicate"))},viewModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/views"))},likeModel:function(t){return e.post("".concat("/i","/models/").concat(t,"/likes"))},unlikeModel:function(t){return e.delete("".concat("/i","/models/").concat(t,"/likes"))},publishModel:function(t){return e.patch("".concat("/i","/models/").concat(t),{isPublished:!0})},canReviewModel:function(t){return e.get("".concat("/i","/models/").concat(t,"/can-review"))},upvoteReview:function(t){return e.post("".concat("/i","/reviews/").concat(t,"/upvotes"))},downvoteReview:function(t){return e.delete("".concat("/i","/reviews/").concat(t,"/upvotes"))},patchReview:function(t,n){return e.patch("".concat("/i","/reviews/").concat(t),n)},patchAnimation:function(t,n){return e.patch("".concat("/i","/animations/").concat(t),n)},patchModelOptions:function(t,n){return e.patch("".concat("/i","/models/").concat(t,"/options"),n)},createThumbnail:function(t){var n=t.imageFile,o=t.source,i=t.modelUid;return e.post("".concat("/i","/thumbnails"),b({imageFile:n,source:o,modelUid:i}))},searchCollections:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.q,o=t.cursor,r=t.count,s=t.date,l=t.subscribedBy,c=t.user,u=t.private,d=t.restricted,m=t.sortBy,h=t.allowPrefetching,g=void 0===h||h,b=i()(t,["q","cursor","count","date","subscribedBy","user","private","restricted","sortBy","allowPrefetching"]);return e.get("".concat("/i","/search").concat(Object(p.b)("?",Object(f.i)(a()({q:n,type:"collections",cursor:o,count:r,date:s,subscribedBy:l,user:c,private:u,restricted:d,sortBy:m},b)))),{allowPrefetching:g})},getCollectionsFromUser:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.get("".concat("/i","/collections").concat(Object(p.b)("?",Object(f.i)(a()({user:t},n)))))},getCollectionsThumbnails:l,getCollectionThumbnails:function(e){return l([e]).then(function(t){return t[e]||[]})},getCollectionSharing:function(t){return e.get("".concat("/i","/collections/").concat(t,"/sharing"))},createCollection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,o=void 0===n?"":n,i=t.models,r=void 0===i?[]:i;return e.post("".concat("/i","/collections"),{name:o,models:r})},addModelsToCollection:function(t,n){return e.post("".concat("/i","/collections/").concat(t,"/models"),{models:n})},removeModelsFromCollection:function(t,n){return e.delete("".concat("/i","/collections/").concat(t,"/models"),{models:n})},subscribeToCollection:function(t){return e.post("".concat("/i","/collections/").concat(t,"/subscribe"))},unsubscribeFromCollection:function(t){return e.post("".concat("/i","/collections/").concat(t,"/unsubscribe"))},payOrder:function(t,n){return e.post("".concat("/i","/store/orders/").concat(t,"/pay"),{buyerId:n})},cancelOrder:function(t){return e.post("".concat("/i","/store/orders/").concat(t,"/cancel"))},getOrderStatus:function(t){return e.get("".concat("/i","/store/orders/").concat(t,"/status"),{allowPrefetching:!1})},getCart:function(){return e.get("".concat("/i","/store/cart"))},addModelsToCart:function(t){return e.post("".concat("/i","/store/cart"),{models:t})},removeModelsFromCart:function(t){return e.delete("".concat("/i","/store/cart"),{models:t})},validateCoupon:function(t){return e.get("".concat("/i","/store/coupons/").concat(t.toUpperCase(),"/validate"))},getUnseenActivitiesCount:function(){return e.get("".concat("/i","/feeds/unseen"),{allowPrefetching:!1}).then(function(e){return e.count})},seeActivities:function(){return e.post("".concat("/i","/feeds/seen"))},readActivities:function(t){return e.post("".concat("/i","/feeds/read"),{uids:t})},getLicenses:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).free;return e.get("".concat("/i","/licenses").concat(Object(p.b)("?",{free:t})))},getCategories:function(){return e.get("".concat("/i","/categories"))},getMarkdownPreview:function(t){return t.trim()?e.post("".concat("/i","/markdown/preview"),{text:t}):g.a.resolve({result:""})},revokeApp:function(t){return e.post("/oauth2/revoke_app/",Object(p.b)({app_id:t}))},getCsrf:function(){return e.get("".concat("/i","/csrf"))},getEnvironmentProcessingStatus:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,o=void 0===n||n;return e.get("".concat("/i","/environments/").concat(t,"/status"),{allowPrefetching:o})},getVersion:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowPrefetching,o=void 0===n||n;return e.get("".concat("/i","/version/").concat(t),{allowPrefetching:o})}};return u};t.b=k(u.b)}).call(this,n(162))},161:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"h",function(){return f});var o=n(1),i=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,15}$/i;var r=function(e){return void 0===e||null===e||"string"==typeof e&&""===e.trim()};function a(e,t){return function(n){if(!r(n)&&n.length<e)return t||"Must be at least "+e+" characters"}}function s(e,t){return function(n){if(!r(n)&&n.length>e)return t||"Must be no more than "+e+" characters"}}function l(e){return function(t){return r(t)?e||"This field is required":""}}function c(e,t){return function(n){if(!r(n)&&!e.test(n))return t||"Do not match the the regular expression"}}function u(e,t){return function(n){if(!isNaN(Number(n))&&Number(n)<e)return t||"Must be at least "+e}}function d(e,t){return function(n){if(!isNaN(Number(n))&&Number(n)>e)return t||"Must be no more than "+e}}function p(e,t){return function(n){if(!Object(o.includes)(e,n))return t||"Must be one of: "+e.join(", ")}}function m(e){return function(t){if(!r(t)&&!i.test(t))return e||"Invalid email address"}}function f(e,t){return function(n,o){if(e(n,o))return function(e,t,n){return e.reduce(function(e,o){return e||o(t,n)},"")}(t,n,o)}}},164:function(e,t,n){"use strict";n.r(t);var o=!1;t.default=function(e){return void 0!==e&&(o=e),o}},167:function(e,t,n){"use strict";var o=n(5),i=n.n(o),r=n(25),a=n(7),s=n(0),l=n(16);t.a=r.a.extend({displayName:"ReviewModel",optionTypes:{body:s.b.string.isRequired,usage:s.b.string,updatedAt:s.b.string,createdAt:s.b.string,deletedAt:s.b.string,upvoteCount:s.b.number,averageRating:s.b.numberBetween(0,5),previewFidelity:s.b.numberBetween(0,5),easeOfUse:s.b.numberBetween(0,5),valueForMoney:s.b.numberBetween(0,5),editedAt:s.b.string,replyBody:s.b.string,replyCreatedAt:s.b.string,replyEditedAt:s.b.string,model:s.b.object},url:function(){var e=this.get("uid");return"/i/reviews"+(e?"/"+e:"")},updateUpvote:function(e){return a.a.authenticate(function(t){var n=this.get("uid"),o=this.get("upvoteCount"),r=o+(e?1:-1);return this.set({upvoteCount:r}),t.addReviewUpvote(n,e),(e?l.b.upvoteReview(this.get("uid")):l.b.downvoteReview(this.get("uid"))).catch(function(r){return this.set({upvoteCount:o}),t.addReviewUpvote(n,!e),i.a.reject(r)}.bind(this))}.bind(this))},upvote:function(){return this.updateUpvote(!0)},downvote:function(){return this.updateUpvote(!1)},toggleUpvote:function(){return a.a.authenticate(function(e){return e.hasUpvotedReview(this.get("uid"))?this.downvote():this.upvote()}.bind(this))},updateReply:function(e){var t=this;return a.a.authenticate(function(){return l.b.patchReview(t.get("uid"),{replyBody:e}).then(function(e){return t.set(e)})})}})},169:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(14),a=n(6),s=n(0),l=n(44),c=n(18),u=n(46),d=n(207),p=n(185),m=(n(358),r.a.extend({displayName:"Star",optionTypes:{color:s.b.string,backgroundColor:s.b.string,size:s.b.number,percentage:s.b.number,onClick:s.b.func},defaultOptions:{color:"",backgroundColor:"",size:30,percentage:1,onClick:c.d},events:{click:function(e){this.options.onClick(e)}},template:function(){return a.default.getFromMacro("skfb_front/macros/components/atoms/star-rating","star",[i()({},this.options,{cid:this.cid})])}}));t.a=r.a.extend({displayName:"StarRating",mixins:[p.a,d.a],optionTypes:{value:s.b.numberBetween(0,5).isRequired,size:s.b.oneOf(["small","medium","large"]),color:s.b.string,onChange:s.b.func},defaultOptions:{size:"medium",onChange:c.d},events:{dragstart:"getPercentX |> onDrag",drag:"getPercentX |> onDrag"},getPercentX:function(e){return(Object(u.d)(e).x-this.refs.$container.offset().left)/this.refs.$container.width()},onDrag:function(e){var t=Object(l.b)(0,5,Math.ceil(5*e));t!==this.options.value&&this.options.onChange(t)},getStarSize:function(){switch(this.options.size){case"small":return 10;case"medium":return 16;case"large":return 20}},template:function(){return a.default.getFromMacro("skfb_front/macros/components/atoms/star-rating","star_rating",[{hasClickEvent:this.options.onChange!==c.d,components:this.createChildrenComponents({stars:[1,2,3,4,5].map(function(e,t){return{viewClass:m,options:{key:t,size:this.getStarSize(),percentage:Object(l.b)(0,1,(this.options.value||0)-t),color:this.options.color,onClick:function(){this.options.onChange(e)}.bind(this)}}}.bind(this))})}])}})},17:function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return C}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return x}),n.d(t,"c",function(){return S});var o=n(35),i=n.n(o),r=n(4),a=n.n(r),s=n(2),l=n.n(s),c=n(40),u=n.n(c),d=n(53),p=n.n(d),m=n(26),f=n.n(m),h=n(5),g=n.n(h),b=n(1),v=n(32),k=n(19),w=n(37),y=f.a.createContext({}),C={Pending:"EffectStatus.Pending",Resolved:"EffectStatus.Resolved",Rejected:"EffectStatus.Rejected"},_=function(){function e(t){u()(this,e),this.isEffect=!0,this.ORIGINAL=t,this.PENDING="".concat(t,".PENDING"),this.RESOLVED="".concat(t,".RESOLVED"),this.REJECTED="".concat(t,".REJECTED")}return p()(e,[{key:"toSring",value:function(){return this.ORIGINAL}}]),e}(),O=function(e){return new _(e)},L=Object(k.j)(1/0),x=function(e){return Object(w.a)(function(t,n){if(n.meta&&n.meta.isEffect)switch(n.meta.effectStatus){case C.Pending:return function(t,n){var o=e(t,n);if(o===t)return t;var i=Object(k.a)(o,t);return l()({},o,{__optimistic:a()({},n.meta.effectId,i)})}(t,n);case C.Rejected:return function(t,n){var o=e(t,n);return o.__optimistic[n.meta.effectId]?l()({},L(o,o.__optimistic[n.meta.effectId]),{__optimistic:Object(b.omit)(o.__optimistic,[n.meta.effectId])}):o}(t,n);case C.Resolved:return function(t,n){var o=e(t,n);return o.__optimistic[n.meta.effectId]?l()({},o,{__optimistic:Object(b.omit)(o.__optimistic,[n.meta.effectId])}):o}(t,n)}return e(t,n)},function(e){return e&&!e.__optimistic?l()({},e,{__optimistic:{}}):e})},S=function(e){return function(t){var n=t.getState,o=t.dispatch,r=l()({getState:n,dispatch:o},e);return function(e){return function(t){if(!t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(!t.type.isEffect)return e(t);var n=t.payload,a=n.effect,s=i()(n,["effect"]);if(!a||!Object(b.isFunction)(a))throw new Error("\n                Wrong payload for action type '".concat(t.type.ORIGINAL,"'.\n                Your action payload must contain an 'effect' function.\n                example: {\n                    type,\n                    payload: {\n                    effect() { ... }\n                    }\n                }\n            "));var c={isEffect:!0,effectId:Object(b.uniqueId)(),originalType:t.type.ORIGINAL},u=function(e){o({type:t.type.REJECTED,payload:l()({},s,{effect:e}),meta:l()({},c,{effectStatus:C.Rejected})}),console.error("Effect error:",e)},d=function(e){o({type:t.type.RESOLVED,payload:l()({},s,{effect:e}),meta:l()({},c,{effectStatus:C.Resolved})})};o({type:t.type.PENDING,payload:s,meta:l()({},c,{effectStatus:C.Pending})});try{var p=a(r);return Object(v.d)(p)?p.catch(function(e){throw u(e),e}).then(function(e){return d(e),e}):(d(p),g.a.resolve(p))}catch(e){return u(e),g.a.reject(e)}}}}}},170:function(e,t,n){"use strict";var o=n(38),i=n.n(o),r=n(1),a=n(3),s=n.n(a),l=n(15),c=n(81),u=n(0);t.a=l.a.extend({displayName:"FormMenu",optionTypes:{name:u.b.string.isRequired,openingClassName:u.b.string.isRequired,defaultLabelValue:u.b.string,updateLabelOnChange:u.b.bool,closeOnChange:u.b.bool,updateMultipleLabel:u.b.bool},defaultOptions:{openingClassName:"expanded",updateLabelOnChange:!1,closeOnChange:!1,updateMultipleLabel:!1,defaultLabelValue:""},labelValues:{},initialize:function(){l.a.prototype.initialize.apply(this,arguments),"function"==typeof this.options.formatLabelValue&&(this.formatLabelValue=this.options.formatLabelValue),"object"===i()(this.options.formatLabelValue)&&(this.labelValues=this.options.formatLabelValue),this.model&&this.options.name&&this.model.on("change:"+this.options.name,Object(c.a)(function(){this.options.updateLabelOnChange&&this.setLabel(this.model.get(this.options.name)),this.options.updateMultipleLabel&&this.setMultipleLabel(),this.options.closeOnChange&&this.close()},this)),this.$el.addClass("js-menu-"+this.options.name)},isOpen:function(){return!!this.$el.hasClass(this.options.openingClassName)},open:function(){this.$el.addClass(this.options.openingClassName)},close:function(){this.$el.removeClass(this.options.openingClassName)},toggle:function(e){void 0===e&&(e=!this.isOpen()),e?this.open():this.close()},formatLabelValue:function(e){return this.labelValues[e]||e||this.options.defaultLabelValue},setLabel:function(e){void 0!==e&&null!==e||(e=""),e=this.formatLabelValue(e),this.$(".name label").text(e).toggleClass("is-filled",!!e)},setMultipleLabel:function(){var e=this.$(".menu").find("li"),t=[];Object(r.each)(e,function(e){this.model.get(this.options.name).indexOf(s()(e).data("value"))>-1&&t.push(s()(e).find(".label").text().trim())}.bind(this));var n=this.options.defaultLabelValue;n=t.length>2?Object(r.map)(t.slice(0,2)).join(", ")+" and "+(t.length-2)+" other":0!==t.length?Object(r.map)(t).join(", "):this.options.defaultLabelValue,this.$(".name label").text(n).toggleClass("is-filled",!!t.length)}})},171:function(e,t){e.exports={skfbWhite:"#ffffff",skfbRed:"#cc211f",skfbBrightRed:"#f02624",skfbLighterBlue:"#edf6f9",skfbLightBlue:"#49cdf8",skfbBlue:"#1caad9",skfbDarkBlue:"#1c88bb",skfbLightYellow:"#ffe9b4",skfbYellow:"#fed600",skfbOrange:"#ff9e3a",skfbGreen:"#35cba7",skfbBrightGreen:"#1ac95d",skfbPurple:"#df1660",skfbBlack:"#222222",skfbGrey0:"#555555",skfbGrey1:"#888888",skfbGrey2:"#999999",skfbGrey3:"#cccccc",skfbGrey4:"#dddddd",skfbGrey5:"#e7e7e7",skfbGrey6:"#f2f2f2",skfbDarkAlpha:"rgba(0, 0, 0, 0.2)",skfbEditorGrey0:"#000000",skfbEditorGrey1:"#1a1a1a",skfbEditorGrey2:"#333333",skfbEditorGrey3:"#595959",skfbEditorGrey4:"#666666",skfbEditorGrey5:"#777777",skfbEditorGrey6:"#888888",skfbEditorGrey7:"#cccccc",containerInfoBg:"#ddf6fa",containerInfoBorder:"#8bdded",containerWarningBg:"#ffe9b4",containerWarningBorder:"#fed600",containerDangerBg:"#f6d3d6",containerDangerBorder:"#e07881",colorPositive:"#1ac95d",colorError:"#db6f6f",colorRestricted:"#cc211f",colorDanger:"#cc211f",colorWarning:"#fed600",colorStaff:"#ff9e3a",colorMaster:"#35cba7",websiteBackgroundColor:"#f2f2f2",websiteTopBackgroundColor:"white",websiteTopTextColor:"#222222",websiteTopHoverColor:"#1caad9",websiteTopSearchColor:"#999999",websiteTopSearchActiveColor:"black",websiteOddTextColor:"#555555",websiteOddLinkColor:"#1caad9",websiteOddHoverLinkColor:"#1c88bb",websiteEvenTextColor:"#eeeeee",websiteEvenLinkColor:"white",websiteEvenHoverLinkColor:"#f2f2f2",websiteSidebarIconColor:"#999999",editorColor:"#333333",editorImportantColor:"#0d0d0d",editorKeyColor:"#1a1a1a",editorMinorColor:"#4d4d4d",editorTrivialColor:"#595959",editorTextColor:"#cccccc",editorStrongColor:"white",editorBorderColor:"black",editorActiveColor:"#1caad9",editorScrollbarTrackColor:"#a3a3a3",editorScrollbarThumbColor:"#444444",viewerRadialBackgroundFrom:"#f2f2f2",viewerRadialBackgroundTo:"#b3b3b3",viewerPrimaryLoadingColor:"#1caad9",viewerSecondaryLoadingColor:"#1caad9",viewerBackgroundColor:"black",brandColor:"#1caad9",facebookColor:"#3a589a",twitterColor:"#00c4fc",googleButtonColor:"#4285f4",pinterestColor:"#ce1d21",linkedinColor:"#1884bc",instagramColor:"#125688",tumblrColor:"#36465d",redditColor:"#ff5700",mailColor:"#555555",websiteSuccessColor:"#00a317",storeColor:"#df1660",storeHoverColor:"#c81859",storeGradient:"linear-gradient(45deg, #a60b43 0%, #f42671 100%)",websiteStoreCheckoutGradient:"linear-gradient(45deg, #1caad9, #49cdf8)",labelColor:"#888888",dropdownArrowColor:"#b8b8b8",dropdownArrowColorHighlight:"#222222",linkColor:"#1caad9",linkHoverColor:"#1c88bb",privateLimitInfoBg:"#ffe9b4",privateLimitInfoBorder:"#fed600",privateLimitReachedBg:"#f6d3d6",privateLimitReachedBorder:"#e07881",colorProUser:"#00aad8",colorPremUser:"#007395",colorBizUser:"#003748",colorEntUser:"#222222",userFlagPro:"#00aad8",userFlagPrem:"#007395",userFlagBiz:"#003748",userFlagEnt:"#222222",userFlagStaff:"#ff9e3a",userFlagMaster:"#35cba7"}},172:function(e,t,n){"use strict";n.r(t);var o=n(3),i=n.n(o),r=n(1),a=n(110),s=n(65),l=n(159),c=n(105);t.default=l.a.extend({shareOnFacebook:function(){var e=this.model.get("sharing").shortUrl;l.a.prototype.shareOnFacebook.call(this,e)},shareOnTwitter:function(){var e,t=[Object(r.template)("Check out <%= name %> by <%= username %> in #3D, #VR or #AR"),Object(r.template)("Check out <%= name %> by <%= username %> #3D #VR #AR"),Object(r.template)("<%= name %> by <%= username %> #3D #VR #AR")],n=this.model.get("sharing").shortUrl,o=this.model.get("name"),a=i.a.trim(this.model.get("sharing").user.twitterUsername);e=""!==a?a.match(/^@/)?a:"@"+a:this.model.get("user").username;var s=t.map(function(t){return t({name:o,username:e})}),c=s.reduce(function(e,t){if(null===e){var o=(" "+n+" via @Sketchfab").length;return t.length+o<280?t:null}return e},null);c||(c=s[0]),l.a.prototype.shareOnTwitter.call(this,n,c)},shareOnPinterest:function(){var e=this.model.get("sharing").shortUrl,t=Object(r.template)("<%= name %> by <%= username %>")({name:this.model.get("name"),username:this.model.get("user").username}),n="";this.model instanceof s.a?n=Object(c.a)(this.model.toJSON().thumbnails,1024,768):this.model instanceof a.a&&(n=Object(c.a)(this.model.toJSON().thumbnails[0],1024,768)),l.a.prototype.shareOnPinterest.call(this,e,t,n)},shareOnReddit:function(){var e=this.model.get("viewerUrl")||this.model.get("collectionUrl"),t=this.model.get("name");l.a.prototype.shareOnReddit.call(this,e,t)},shareOnTumblr:function(){var e=this.model.get("sharing").shortUrl;l.a.prototype.shareOnTumblr.call(this,this.model,e)},shareOnLinkedin:function(){var e=this.model.get("sharing").shortUrl;l.a.prototype.shareOnLinkedin.call(this,e)}})},173:function(e,t,n){"use strict";var o=n(7),i=n(23),r=n(135),a=n(0);t.a=r.a.extend({displayName:"FollowButton",optionTypes:{size:a.b.oneOf(["small","medium","large","huge"]).isRequired,afterFollowAction:a.b.func.isRequired,userUid:a.b.string,trackerEvent:a.b.string},defaultOptions:{userUid:null,trackerEvent:null,size:"medium",afterFollowAction:function(){}},events:{click:"followAction"},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.options.userUid=this.$el.attr("data-user");var e=o.a.me();e.isAuthenticated()&&e.uid===this.options.userUid||(e.on("change:followings",this.render,this),void 0!==e.get("followings")[this.options.userUid]&&this.render(),this.populate())},setElement:function(){return r.a.prototype.setElement.apply(this,arguments),this.setOptions({userUid:this.$el.attr("data-user")}),this.$el.find(".button").addClass("btn-"+this.options.size),this},populate:function(){var e=this;o.a.me().getDoesFollow(this.options.userUid).then(function(){return e.render()})},followAction:function(e){e.stopPropagation(),this.isReady&&!this.isLoading&&(this.setIsLoading(),o.a.authenticate(function(e){var t=e.doesFollow(this.options.userUid),n=t?"unfollow":"follow";return this.toggle(!t,!0),null!==this.options.trackerEvent&&i.a[this.options.trackerEvent](this.options.userUid,"follow"===n),e[n](this.options.userUid).then(function(){this.options.afterFollowAction(n),this.setIsReady()}.bind(this))}.bind(this)).catch(function(){this.setIsReady()}.bind(this)))},toggle:function(e,t){var n=this.$el;n.toggleClass("toggled",e),void 0!==t&&t&&n.addClass("just-clicked").mouseleave(function(){n.removeClass("just-clicked")})},render:function(){this.toggle(o.a.me().doesFollow(this.options.userUid)),this.isLoading||this.setIsReady()}})},175:function(e,t,n){"use strict";var o=n(35),i=n.n(o),r=n(7),a=n(5),s=n.n(a),l=n(49),c=n(24);t.a={confirm:function(e){return e?this[e.name].call(this,e.opt):s.a.resolve()},restricted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.updateUserSetting,n=void 0===t||t,o=i()(e,["updateUserSetting"]),a=r.a.me();return a.doAllowRestricted()?n?a.setAllowsRestricted(!1):s.a.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,n=void 0===t?"Profile settings":t,o=e.text,i=void 0===o?"To see age-restricted content (including nudity and suggestive content), you need to enable age-restricted content in your settings.":o;return new l.default({title:n,text:i,popupClass:"popup-restricted",buttons:{cancel:!0,continue:!0,continueLabel:"Enable age-restricted content"}})}(o).open().then(function(){return a.setAllowsRestricted(!0)}).catch(function(){return s.a.reject(new c.e)})}}},176:function(e,t,n){"use strict";var o=n(14),i=n(0),r=n(6),a=n(107),s=n(124);t.a=o.a.extend({displayName:"Pagination",mixins:[a.a,Object(s.a)({modelPopup:function(e){return{playlist:e.options.collection.models.map(function(e){return e.get("uid")})}}})],optionTypes:{render:i.b.func.isRequired,collection:i.b.collection.isRequired,shouldFetchFirstPage:i.b.bool,loadingDelayMs:i.b.number,className:i.b.string},defaultOptions:{shouldFetchFirstPage:!0,loadingDelayMs:500},events:{"reset this.options.collection":"forceUpdate","loadingChanged this.options.collection":"forceUpdate","afterAdd this.options.collection":"forceUpdate","afterRemove this.options.collection":"forceUpdate"},initialize:function(){var e=this;o.a.prototype.initialize.apply(this,arguments);var t=this.options,n=t.shouldFetchFirstPage,i=t.loadingDelayMs;this.state={isShown:!n},this.timeout=setTimeout(function(){return e.setState({isShown:!0})},i)},viewDidMount:function(){this.loadFirstPage()},viewDidUpdate:function(e){this.options.collection!==e.collection&&this.loadFirstPage()},loadFirstPage:function(){var e=this;this.options.shouldFetchFirstPage&&this.options.collection.loadFirstPage().then(function(){clearTimeout(e.timeout),e.setState({isShown:!0})})},template:function(){if(!this.state.isShown)return"";var e=this.options,t=e.className,n=e.shouldFetchFirstPage,o=e.render,i=e.collection,a=n&&!i.models.length&&!this.isMounted?"next":i.loading();return r.default.getFromString("{{ components.child | component(className) }}",{className:t,components:this.createChildrenComponents({child:o({models:i.models,onLoadPrevious:function(){return i.loadPreviousPage()},onLoadNext:function(){return i.loadNextPage()},loading:a,isLoading:"none"!==a,hasPreviousPage:i.hasPreviousPage(),hasNextPage:i.hasNextPage()})})})}})},18:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return m});var o=n(28),i=n.n(o),r=n(1),a=n(32);function s(e){return e}function l(){return Array.prototype.slice.call(arguments).reduce(function(e,t){return function(){return e(t.apply(t,arguments))}},s)}function c(e){return Object(r.isFunction)(e)?e:Object(r.constant)(e)}function u(){}var d=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).leading,n=void 0===t||t,o=!0,r=!0,a=[];return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];if(a=s,o&&n)o=!1,e.apply(void 0,i()(a));else{if(!r)return;r=!1,window.requestAnimationFrame(function(){r=!0,e.apply(void 0,i()(a))})}}},p=Object(r.curry)(function(e,t,n){var o=t;return function(t){return o=e(o,t),n(o)}}),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=[],o=Object(a.c)(function(){var t=i()(n);return n=[],e(t)},t);return function(e){return n=Object(r.uniq)(n.concat(e)),o()}}},180:function(e,t,n){"use strict";var o=n(74),i=n(6),r=n(0),a=Object(o.a)(function(e){var t=e.count,n=void 0===t?0:t,o=e.title,r=e.action,a=void 0===r?[]:r,s=e.createChildrenComponents;return i.default.getFromString('\n        <div class="c-cart-header">\n            <h2 class="c-cart-header__title">{{ title }}</h2>\n            {% if count %}\n                <span class="c-cart-header__count">\n                    {{ count }}\n                </span>\n            {% endif %}\n\n            {{ components.action | component(\'c-cart-header__action\') }}\n        </div>\n        ',{title:o,count:n,components:s({action:a})})});a.optionsTypes={title:r.b.string.isRequired,count:r.b.number,action:r.b.component},t.a=a},183:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(1);t.a={name:"LazyLoading",handleLazyLoading:function(e){e=e||{},Object(r.defaults)(e,{onBeforeLoad:function(){},onAfterLoad:function(){}});var t=function(){this.$(".lazyload").each(function(){var t=i()(this),n=t.attr("data-uri"),o=new Image;o.classList.add("lazyloaded"),o.onload=o.onerror=function(){var n,i=t.width();if(n=o.naturalWidth>i?o.naturalHeight*(i/o.naturalWidth):o.naturalHeight,e.onBeforeLoad(n),t.is(":visible")){var r=function(){t.append(o),t.addClass("loaded").one("transitionend webkittransitionend moztransitionend",function(){t.replaceWith(o),e.onAfterLoad()})}.bind(this);n!==t.outerHeight()?t.css("min-height",n).one("transitionend webkittransitionend moztransitionend",r):r()}else t.replaceWith(o),e.onAfterLoad()},o.src=n})}.bind(this);"complete"===document.readyState?t():i()(window).load(t)},afterInitialize:function(){this.handleLazyLoading()},afterViewDidMount:function(){this.handleLazyLoading()},afterViewDidUpdate:function(){this.handleLazyLoading()}}},184:function(e,t,n){"use strict";var o,i=n(145);window.requestAnimationFrame&&(o=Object(i.a)()?function(){return 0}:window.requestAnimationFrame.bind(window)),t.a={get:function(){return o}}},185:function(e,t,n){"use strict";var o=n(1),i=n(18);t.a={name:"WithEventCompose",constructor:function(){var e=this;this.events=Object(o.mapValues)(this.events,function(t){return"string"!=typeof t?t:t.split("|>").map(o.trim).reduce(function(t,n){if(!e[n])throw new Error("WithEventCompose error: method '".concat(n,"' do not exist on view '").concat(e.displayName,"'."));return Object(i.b)(e[n].bind(e),t)},i.c)})}}},19:function(e,t,n){"use strict";n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"i",function(){return v}),n.d(t,"f",function(){return k}),n.d(t,"l",function(){return y}),n.d(t,"j",function(){return C}),n.d(t,"a",function(){return _});var o=n(38),i=n.n(o),r=n(4),a=n.n(r),s=n(2),l=n.n(s),c=n(1),u=n(31);function d(e,t){return Object.keys(e).reduce(function(n,o){return l()({},n,t(e[o],o))},{})}function p(e,t){return d(e,function(e,n){return t(e,n)?a()({},n,e):{}})}var m=Object(c.curry)(function(e,t){return t[e]});function f(e){return p(e,function(e){return void 0!==e&&null!==e&&""!==e})}function h(e){return p(e,function(e){return void 0!==e})}function g(e,t){return function(){return l()({},e.call(this),t.call(this))}}function b(e,t){for(var n in e)if(!(n in t)||e[n]!==t[n])return!1;for(var o in t)if(!(o in e)||e[o]!==t[o])return!1;return!0}function v(e){return Object(c.mapKeys)(e,function(e,t){return Object(u.camelToSnakeCase)(t)})}var k=function(e){return Object(c.isObject)(e)&&!Object(c.isFunction)(e)&&!Array.isArray(e)},w=function e(t){return Object(c.isFunction)(t)?void 0:Array.isArray(t)?t.map(function(t){return e(t)}):Object(c.isObject)(t)?Object(c.mapValues)(t,function(t){return e(t)}):t},y=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"obj";if(n&&"function"!=typeof t&&i()(t)!==i()(n))throw new Error("update error: ".concat(o," doesn't match between your updater and your value"));return void 0===n?w(t):Object(c.isFunction)(t)?t(n):Array.isArray(t)?t.map(function(t,i){return e(t,n[i],"".concat(o,"[").concat(i,"]"))}):k(t)?Object.assign({},n,Object(c.mapValues)(t,function(t,i){return e(t,n[i],"".concat(o,".").concat(i))})):w(t)},C=function e(t){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.reduce(function(n,o){return 0!==t&&k(n)&&k(o)?1===t?l()({},n,o):l()({},Object(c.mapValues)(n,function(n,i){return o.hasOwnProperty(i)?e(t-1)(n,o[i]):n}),Object(c.mapValues)(Object(c.omit)(o,Object.keys(n)),function(o,i){return e(t-1)(n[i],o)})):o},{})}},_=function e(t,n){return k(t)&&k(n)?l()({},d(t,function(t,o){return t!==n[o]?a()({},o,e(t,n[o])):{}}),d(n,function(n,o){return n!==t[o]?a()({},o,e(t[o],n)):{}})):n}},191:function(e,t){Array.prototype.find||(Array.prototype.find=function(e){for(var t=0,n=this.length;t<n;++t)if(e(this[t]))return this[t]}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var i=0|t,r=Math.max(i>=0?i:o-Math.abs(i),0);function a(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;r<o;){if(a(n[r],e))return!0;r++}return!1}}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e}),Math.log2||(Math.log2=function(e){return Math.log(e)*Math.LOG2E}),Math.log10||(Math.log10=function(e){return Math.log(e)*Math.LOG10E}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>=this.length)&&(t=this.length),this.substr(t-e.length,e.length)===e}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e});var n=window.Image;delete window.Image,window.Image||(window.Image=n)},192:function(e,t,n){"use strict";n.d(t,"a",function(){return j});var o=n(103),i=n.n(o),r=n(12),a=n.n(r),s=n(40),l=n.n(s),c=n(53),u=n.n(c),d=n(55),p=n.n(d),m=n(52),f=n.n(m),h=n(43),g=n.n(h),b=n(54),v=n.n(b),k=n(4),w=n.n(k),y=n(26),C=n.n(y),_=n(5),O=n.n(_),L=n(1),x=(n(0),n(27)),S=n(46),F=n(44),E=n(16),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.25;return new O.a(function(o,i){var r={height:1/0},a=t.reduce(function(t,n){return Math.abs(n.height-e)<Math.abs(t.height-e)?n:t},r);a.height>e*(1-n)&&a.height<e*(1+n)&&a!==r?o(a):i()})},j=function(e){function t(e){var n;return l()(this,t),n=p()(this,f()(t).call(this,e)),w()(g()(n),"state",{isVisible:!1,image:{width:100,height:100},containerWidth:1,containerHeight:1,loadingPercent:0,cursorX:0,startCursorX:0}),w()(g()(n),"onStart",function(){n.executeOnNextMove=function(){return n.debouncedLoadPreview()}}),w()(g()(n),"onMove",function(e){n.executeOnNextMove&&(n.executeOnNextMove(),n.executeOnNextMove=void 0);var t=e.target.getBoundingClientRect(),o=t.width,i=t.left,r=(Object(S.d)(e).x-i)/o;n.isActive()?n.setState({cursorX:r}):n.show(r)}),w()(g()(n),"onEnd",function(){n.debouncedLoadPreview.cancel(),n.setState({isVisible:!1})}),w()(g()(n),"isActive",function(){return n.state.isVisible&&1===n.state.loadingPercent}),w()(g()(n),"loadPreview",function(){if(1!==n.state.loadingPercent){var e=n.el.getBoundingClientRect(),t=e.width,o=e.height;n.setState({loadingPercent:.1,containerWidth:t,containerHeight:o}),E.b.getModelFallback(n.props.modelUid).then(function(e){return n.setState({loadingPercent:.5}),e.results.images}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return P(n.props.targetHeight,e)}).then(function(e){return Object(x.k)(e.url).then(function(){return e})}).then(function(e){n.setState({image:e,loadingPercent:1})}).catch(function(){n.setState({loadingPercent:0})})}}),w()(g()(n),"show",function(e){n.state.isVisible||1!==n.state.loadingPercent||n.setState({isVisible:!0,cursorX:e,startCursorX:e})}),n.debouncedLoadPreview=Object(L.debounce)(n.loadPreview.bind(g()(n)),350),n}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.state.cursorX-this.state.startCursorX,n=Math.floor(15*t),o=this.state.image.width/15,r=Object(F.j)(this.state.containerWidth,this.state.containerHeight,o,this.state.image.height),s=r.width,l=r.height,c=15*s,u=-n/14,d=1===this.state.loadingPercent,p=this.state.isVisible&&1===this.state.loadingPercent;return C.a.createElement("div",i()({},this.props.previewOnDrag?Object(S.b)({onDragStart:this.onStart,onDrag:this.onMove,onDragEnd:this.onEnd}):{},{onMouseEnter:this.onStart,onMouseMove:this.onMove,onMouseLeave:this.onEnd,className:"c-model-360-preview",ref:function(t){return e.el=t}}),a()("div",{className:"c-model-360-preview__background ".concat(d?"--loaded":""," ").concat(p?"--visible":"")},void 0,a()("div",{className:"c-model-360-preview__image",style:{backgroundImage:this.state.image.url?"url(".concat(this.state.image.url,")"):"",backgroundPosition:"".concat(100*u,"% center"),backgroundSize:"".concat(c,"px ").concat(l,"px")}})),a()("div",{className:"c-model-360-preview__loading",style:{width:"".concat(100*this.state.loadingPercent,"%"),height:1===this.state.loadingPercent?0:void 0,backgroundColor:this.props.color}}))}}]),t}(C.a.Component);w()(j,"defaultProps",{color:"",previewOnDrag:!0,targetHeight:400})},194:function(e,t,n){"use strict";var o=n(14),i=n(6),r=n(0),a=n(24),s=n(32),l=n(67),c=n(10),u=n(3),d=n.n(u),p=n(267),m=n.n(p),f=n(7),h=n(23),g=n(92),b=n(16),v=(n(200),o.a.extend({displayName:"Signup",optionTypes:{onSignupSuccess:r.b.func.isRequired,onLoginClick:r.b.func.isRequired,redirect:r.b.string,usageType:r.b.string},defaultOptions:{redirect:"/signup/onboarding"},events:{'click [data-action="open-login"]':function(e){e.stopPropagation(),this.options.onLoginClick()},"click .social .form-button":"blankOnFrame",'click [data-action="submit-signup"]':"processSignup","blur #email":"checkEmail",'click [data-action="insert-suggestion"]':"insertSuggestedEmail","submit form":function(e){e.preventDefault(),this.processSignup()},"input #username":function(e){this.setState({username:e.target.value})},"input #password":function(e){this.setState({password:e.target.value})},"input #email":function(e){this.setState({email:e.target.value})}},blankOnFrame:function(e){h.a.saveCurrentReferrer(),d()(e.currentTarget).toggleAttr("target","_blank",window.top!==window)},checkEmail:function(){var e=this;m.a.run({email:this.$('[name="email"]').val(),suggested:function(t){e.$("#correction-suggestion a").html(t.address+"@<strong>"+t.domain+"</strong>"),e.$("#correction-suggestion").show()},empty:function(){e.$("#correction-suggestion").hide()}})},insertSuggestedEmail:function(){this.$('[name="email"]').val(this.$("#correction-suggestion a").text()),this.$("#correction-suggestion").hide()},processSignup:function(){var e=this,t=this.$('[name="username"]').val(),n=this.$('[name="email"]').val(),o=this.$('[name="password"]').val(),i=!this.invalidEmail||this.invalidEmail!==n,r=!this.invalidUsername||this.invalidUsername!==t;(i||r)&&(i&&(this.invalidEmail=n),r&&(this.invalidUsername=t),this.$(".form-global-error").hide(),this.onProcessSignupProcessing(),new f.a({username:t,email:n,password:o}).save().then(function(){f.a.login(n,o,{next:e.options.redirect}).then(function(t){return e.options.usageType?b.b.updateUserUsageType(t.uid,e.options.usageType).then(function(e){return g.a.setUsageType(e.usageType),t}):t}).then(function(t){return e.options.onSignupSuccess(t.redirectTo)}).catch(function(){e.automagicErrors("Your registration succeed but we haven't been able to log you in automatically. Please try manually.")})},function(t){e.onProcessSignupError(),e.automagicErrors(t.responseJSON&&t.responseJSON.detail||"Registration unexpectedly failed. Please try again later.")}))},onProcessSignupProcessing:function(){this.$el.addClass("processing");var e=this.$(".signup-field .form-button");e.attr("disabled",!0),setTimeout(function(){return e.removeAttr("disabled")},3e4)},onProcessSignupError:function(){this.$el.removeClass("processing"),this.$(".signup-field .form-button").removeAttr("disabled")},template:function(){return i.default.getFromMacro("skfb_front/macros/components/organisms/authenticate","signup",[{suggestedEmail:this.options.email,error:this.options.error,next:this.options.redirect,username:this.state.username,email:this.state.email,password:this.state.password,usernameValidatorRegex:c.a.usernameValidatorRegex,usernameValidatorTitle:c.a.usernameValidatorTitle}])}})),k=o.a.extend({displayName:"Login",optionTypes:{onLoginSuccess:r.b.func.isRequired,onSignupClick:r.b.func.isRequired,onResetPass:r.b.func.isRequired,redirect:r.b.string,email:r.b.string},defaultOptions:{redirect:window.location.href},events:{"click .social .form-button":"blankOnFrame",'click [data-action="submit-login"]':"processLogin",'click [data-action="open-signup"]':function(e){e.stopPropagation(),this.options.onSignupClick()},'click [data-action="open-reset"]':function(){this.options.onResetPass()},"submit form":function(e){e.preventDefault(),this.processLogin()},"input #password":function(e){this.setState({password:e.target.value})},"input #email":function(e){this.setState({email:e.target.value})}},state:{error:"",processing:!1,password:"",email:""},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.processLogin=s.e(this.processLogin.bind(this))},blankOnFrame:function(e){h.a.saveCurrentReferrer(),d()(e.currentTarget).toggleAttr("target","_blank",window.top!==window)},processLogin:function(){var e=this;return this.setState({error:"",processing:!0}),f.a.login(this.$('[name="email"]').val(),this.$('[name="password"]').val(),{next:this.options.redirect}).then(function(t){g.a.identify(t.uid),e.options.onLoginSuccess(t.redirectTo)}).catch(function(t){if(e.processLoginError(),429===t.response.status)return e.$(".login-field button").addClass("btn-disabled").attr("disabled","disabled"),void e.setState({error:"You have entered too many wrong passwords. Please wait a minute before trying again."});e.setState({error:t.response.data&&t.response.data.detail?"":"The e-mail or the password is incorrect."})})},processLoginError:function(){this.setState({processing:!1,password:""})},template:function(){return i.default.getFromMacro("skfb_front/macros/components/organisms/authenticate","login",[{next:this.options.redirect,processing:this.state.processing,error:this.state.error,password:this.state.password,email:this.state.email,suggestedEmail:this.options.email}])}});t.a=o.a.extend({displayName:"Authenticate",optionTypes:{onLoginSuccess:r.b.func.isRequired,onSignupSuccess:r.b.func.isRequired,onFormChange:r.b.func,initialForm:r.b.oneOf(["login","signup"]),redirect:r.b.string,usageType:r.b.string,email:r.b.string},defaultOptions:{onFormChange:function(){},initialForm:"login"},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.openResetPass=s.e(this.openResetPass.bind(this)),this.state={form:this.options.initialForm}},viewDidUpdate:function(e,t){this.state.form!==t.form&&this.options.onFormChange(this.state.form)},openResetPass:function(){var e=this;return Object(l.f)().then(function(t){return new t({email:e.$('[name="email"]').val(),next:e.options.redirect,onOpenLogin:function(){return e.setState({form:"login"})}}).open()}).catch(Object(a.g)(a.e))},template:function(){var e=this;return i.default.getFromMacro("skfb_front/macros/components/organisms/authenticate","authenticate",[{className:this.options.className,form:this.state.form,components:this.createChildrenComponents({form:{login:{viewClass:k,options:{redirect:this.options.redirect,onLoginSuccess:this.options.onLoginSuccess,onSignupClick:function(){return e.setState({form:"signup"})},onResetPass:this.openResetPass,email:this.options.email}},signup:{viewClass:v,options:{usageType:this.options.usageType,redirect:this.options.redirect,onSignupSuccess:this.options.onSignupSuccess,onLoginClick:function(){return e.setState({form:"login"})},email:this.options.email}}}[this.state.form]})}])}})},197:function(e,t,n){"use strict";n(10);var o=n(3),i=n.n(o),r=n(5),a=n.n(r),s=n(27);window.webpackManifest=Object(s.o)("webpack-manifest","json");n(184),n(191);var l=n(151),c=n(143),u=n(118),d=n(92),p=n(155),m=n(7),f=Object(s.o)("trackers-options","json"),h=function(){try{var e=f.unauthorizedReferrers||[],t=(document.cookie+";").match(/skfb_referrer_override=(.*?);/i),n=document.referrer,o=!1;return t=t&&t.length>1?t[1]:"",t=decodeURIComponent(t),e.forEach(function(e){o||(o=!!n.match(e))}),o&&(console.info("Overriding referrer with : ",t),ga("set","referrer",t)),!!o&&t}catch(e){return console.error(e),!1}};a.a.config({warnings:!1,longStackTraces:!1,cancellation:!0,monitoring:!1}),Object(l.a)(),Object(c.a)(),f&&f.googleAnalytics&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.uid,n=e.trackPageview,o=void 0===n||n,i=m.a.me().toJSON();!function(e,t,n,o,i,r,a){e.GoogleAnalyticsObject=i,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,r=t.createElement(n),a=t.getElementsByTagName(n)[0],r.async=1,r.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(r,a)}(window,document,"script",0,"ga"),i&&i.isStaff&&(window["ga-disable-"+t]=!0),i&&!i.isAnonymous?ga("create",t,{userId:i.uid}):ga("create",t);var r,a,s=h();!1!==s&&ga("set","referrer",s),i&&!i.isAnonymous&&(i.segment?(r=i.segment.name,a=i.segment.kind):(r="None",a="None"),ga("set",{dimension1:i.account,dimension3:i.createdAt,dimension4:i.billingCycle,dimension5:r,dimension6:a,metric1:i.modelCount,metric2:i.likeCount,metric3:i.followingCount})),o&&ga("send","pageview")}(f.googleAnalytics),f&&f.mixpanel&&function(e){var t=m.a.me().toJSON();if(function(e,t){var n,o,i,r;t.__SV||(window.mixpanel=t,t._i=[],t.init=function(e,n,o){function a(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=t;for(void 0!==o?s=t[o]=[]:o="mixpanel",s.people=s.people||[],s.toString=function(e){var t="mixpanel";return"mixpanel"!==o&&(t+="."+o),e||(t+=" (stub)"),t},s.people.toString=function(){return s.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" "),r=0;r<i.length;r++)a(s,i[r]);t._i.push([e,n,o])},t.__SV=1.2,(n=e.createElement("script")).type="text/javascript",n.async=!0,n.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(o=e.getElementsByTagName("script")[0]).parentNode.insertBefore(n,o))}(document,window.mixpanel||[]),mixpanel.init(e.token),t&&t.isStaff&&mixpanel.register({$ignore:!0}),t&&!t.isAnonymous){var n,o;t.segment?(n=t.segment.name,o=t.segment.kind):(n="None",o="None");var i={"User UID":t.uid,Account:t.account,"Billing Cycle":t.billingCycle,"User Segment Name":n,"User Segment Kind":o},r=h();!1!==r&&(i.referrer=r),mixpanel.identify(t.uid),mixpanel.register(i)}}(f.mixpanel),f&&f.googleTagManager&&function(e){!function(e,t,n,o,i){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(n)[0],a=t.createElement(n);a.defer=!0,a.src="//www.googletagmanager.com/gtm.js?id="+i,r.parentNode.insertBefore(a,r)}(window,document,"script","dataLayer",e.uid)}(f.googleTagManager),u.a.install(),d.a.collectLastTouchUTMs(),Object(p.a)(),window.publicLibraries={$:i.a},window.editorModels={}},198:function(e,t,n){"use strict";t.a=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return(t>=0||n>=0)&&(document.all&&!window.atob)}},201:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(15),a=n(0),s=n(78);t.a=r.a.extend({displayName:"FormSelect",mixins:[Object(s.a)(".menu")],optionTypes:{model:a.b.model.isRequired,name:a.b.string.isRequired,maxSize:a.b.number.isRequired,allowEmpty:a.b.bool.isRequired},defaultOptions:{maxSize:1/0,allowEmpty:!0},events:{"click [data-value]":function(e){e.stopPropagation();var t=i()(e.target).parentsUntil(e.currentTarget).andSelf();if(e.target===e.currentTarget||!t.filter("[data-value]").length){var n=[].concat(this.model.get(this.options.name)||[]).slice(),o=i()(e.currentTarget).attr("data-value");if("default"===o)this.model.set(this.options.name,null);else if(this.options.multiple){var r=n.indexOf(o);-1===r?n.length<this.options.maxSize&&(n.push(o),this.model.set(this.options.name,n)):(n.splice(r,1),this.model.set(this.options.name,n))}else this.model.get(this.options.name)!==o?this.model.set(this.options.name,o):this.options.allowEmpty&&this.model.set(this.options.name,null)}}},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.model.set(this.options.name,this.$("[data-value].active").map(function(){return i()(this).attr("data-value")}).get()),this.model.on("change:"+this.options.name,this.render,this)},render:function(){var e=[].concat(this.model.get(this.options.name)||[]);this.$el.toggleClass("list-filled",e.length>=this.options.maxSize),this.$("[data-value]").each(function(){var t=i()(this).attr("data-value");i()(this).toggleClass("active",-1!==e.indexOf(t))}),this.$("[data-value].active").length||this.$('[data-value="default"]').toggleClass("active")}})},202:function(e,t,n){"use strict";var o=n(74),i=n(6),r=n(0),a=n(57),s=Object(o.a)(function(e){var t=e.size,n=void 0===t?"normal":t,o=e.createChildrenComponents;return i.default.getFromString('\n        <div class="c-cart-empty-state">\n            <div class="c-cart-empty-state__image --{{ size }}"></div>\n            <p class="c-cart-empty-state__text">Your cart is empty</p>\n            <a href="{{ url(\'store:search\') }}">\n                {{ components.button | component }}\n            </a>\n        </div>\n        ',{size:n,components:o({button:{viewClass:a.a,options:{text:"browse store models",type:"store",size:"large"}}})})});s.prototype.optionTypes={size:r.b.oneOf(["normal","large"])},t.a=s},203:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(14),a=n(7),s=n(130),l=n(18),c=n(6),u=n(0),d=n(50);n(150);t.a=r.a.extend({displayName:"CardRow",mixins:[d.a],optionTypes:{model:u.b.shape({name:u.b.string.isRequired,viewerUrl:u.b.string.isRequired,thumbnails:u.b.object.isRequired,price:u.b.number.isRequired,isOwned:u.b.bool,inStore:u.b.bool,isDeleted:u.b.bool}).isRequired,onRemove:u.b.func,size:u.b.oneOf(["large"])},defaultOptions:{onRemove:l.d},events:{'click [data-action="remove"]':function(e){e.stopPropagation(),this.options.onRemove()}},template:function(){return c.default.getFromString('\n                {% from \'skfb_front/macros/model.jinja\' import model_name %}\n\n                <div  class="c-cart-row {{ \'--\' + size if size }} {{ \'--disabled\' if isDisabled }}">\n                    <div class="c-cart-row__thumbnail">\n                        <a data-route href="{{ model.viewerUrl }}">\n                            {{ model.thumbnails | image_container(70, 40) }}\n                        </a>\n                    </div>\n\n                    <div class="c-cart-row__content">\n                        <p>\n                            <span data-action="open-model" class="c-cart-row__title {{ \'--deleted\' if model.isDeleted }}">\n                                {{ model_name(authUser, model, {\n                                    \'withStaffpickFlag\' : false,\n                                    \'withRestrictedFlag\' : false\n                                }) }}\n                            </span>\n\n                            {% if model.isDeleted %}\n                                <span class="help">\n                                    <i class="fa fa-question-circle"></i>\n                                    <span class="tooltip tooltip-right">\n                                        This model was deleted\n                                    </span>\n                                </span>\n                            {% endif %}\n\n                            {% if model.inStore == false %}\n                                <span class="help">\n                                    <i class="fa fa-question-circle"></i>\n                                    <span class="tooltip tooltip-right">\n                                        This model is no longer for sale\n                                    </span>\n                                </span>\n                            {% endif %}\n\n                            {% if model.isOwned %}\n                                <br>\n                                <a class="skfb-link"href="{{ model.viewerUrl }}">Model already bought</a>\n                            {% endif %}\n                        </p>\n\n                        <p class="c-cart-row__price">{{ model.price | format_price }}</p>\n                    </div>\n\n                    {% if shouldDisplayRemoveButton %}\n                        <div class="c-cart-row__actions">\n                            <button\n                                class="c-cart-row__remove"\n                                data-action="remove">\n                                <i class="icon fa fa-times"></i>\n                            </button>\n                        </div>\n                    {% endif %}\n                </div>\n            ',i()({},this.options,{shouldDisplayRemoveButton:this.options.onRemove!==l.d,isDisabled:!Object(s.f)(this.options.model),authUser:a.a.me().toJSON()}))}})},207:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(3),a=n.n(r),s=n(1),l=n(19),c=n(46),u=n(18),d=function(e,t,n){e.__withDragEvents[t]=Object(s.extend)({drag:u.d,dragstart:u.d,dragend:u.d},e.__withDragEvents[t],n)},p=function(e,t){return e.__withDragEvents[t]};function m(e,t,n){return function(){var o=this,i=arguments,r=p(this,n),l=Object(s.isFunction)(r.drag)?r.drag:this[r.drag],d=Object(s.isFunction)(r.dragstart)?r.dragstart:this[r.dragstart],m=Object(s.isFunction)(r.dragend)?r.dragend:this[r.dragend],f=!1,h=Object(s.throttle)(Object(u.f)(c.a,void 0,function(){f=!0;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.apply(o,t)}),16),g=Object(s.debounce)(function(){f&&m.apply(o,i),a()(window).off(e,h),a()(window).off(t,g)},16);a()(window).on(e,h),a()(window).on(t,g),d.apply(this,arguments)}}function f(e){var t;return t={},i()(t,"mousedown "+e,m("mousemove","mouseup",e)),i()(t,"touchstart "+e,m("touchmove","touchend",e)),t}t.a={name:"WithDragEvent",constructor:function(){this.__withDragEvents={},this.events=function(e,t){return Object(l.e)(t,function(t,n){var o=Object(c.e)(n);return"drag"===o.eventName?(d(e,o.selector,{drag:t}),f(o.selector)):"dragstart"===o.eventName?(d(e,o.selector,{dragstart:t}),f(o.selector)):"dragend"===o.eventName?(d(e,o.selector,{dragend:t}),f(o.selector)):i()({},n,t)})}(this,this.events)}}},208:function(e,t,n){"use strict";var o=n(1),i=n(25),r=n(65),a=n(56),s=n(0),l=n(94);t.a=a.a.extend({displayName:"ModelCollection",mixins:[Object(l.a)("models")],optionTypes:{filters:s.b.modelShape({categories:s.b.arrayOf(s.b.oneOfType([s.b.string.isRequired,s.b.shape({uid:s.b.string.isRequired}).isRequired]).isRequired),downloadable:s.b.bool,staffpicked:s.b.bool,animated:s.b.bool,sound:s.b.bool,pbr:s.b.bool,rigged:s.b.bool,user:s.b.string,collection:s.b.string,account:s.b.string,likeBy:s.b.string,sortBy:s.b.string,tags:s.b.arrayOf(s.b.string.isRequired),date:s.b.string,fileFormats:s.b.arrayOf(s.b.string.isRequired),licenses:s.b.arrayOf(s.b.string.isRequired),faceCount:s.b.string,minFaceCount:s.b.string,maxFaceCount:s.b.string,minPrice:s.b.string,maxPrice:s.b.string,private:s.b.bool,restricted:s.b.bool,minRating:s.b.number,firstUpload:s.b.bool}).isRequired},model:r.a,endpoint:"/models",defaultOptions:function(){return{filters:new i.a}},queryParams:function(){var e=this.options.filters.get("status"),t={published:!0,draft:!1}[e=Array.isArray(e)?e[0]:e],n=["draft","published","disabled",void 0].includes(e)?"succeeded":e,i="disabled"===e||void 0,r=(this.options.filters.get("categories")||[]).map(function(e){return"string"==typeof e?e:e.uid});return Object(o.extend)({},a.a.prototype.queryParams.call(this),{user:this.options.filters.get("user"),collection:this.options.filters.get("collection"),account:this.options.filters.get("account"),liked_by:this.options.filters.get("likedBy"),sort_by:this.options.filters.get("sortBy"),tags:this.options.filters.get("tags"),date:this.options.filters.get("date"),categories:r,file_formats:this.options.filters.get("fileFormats"),licenses:this.options.filters.get("licenses"),face_count:this.options.filters.get("faceCount"),min_face_count:this.options.filters.get("minFaceCount"),max_face_count:this.options.filters.get("maxFaceCount"),min_price:this.options.filters.get("minPrice"),max_price:this.options.filters.get("maxPrice"),in_store:this.options.filters.get("inStore"),min_rating:this.options.filters.get("minRating"),first_upload:this.options.filters.get("firstUpload"),downloadable:this.options.filters.get("downloadable"),staffpicked:this.options.filters.get("staffpicked"),animated:this.options.filters.get("animated"),sound:this.options.filters.get("sound"),pbr:this.options.filters.get("pbr"),rigged:this.options.filters.get("rigged"),published:t,processing_status:n,disabled:i,published_since:this.options.filters.get("published_since"),private:this.options.filters.get("private")||null,restricted:this.options.filters.get("restricted"),search:this.options.filters.get("query")})}})},209:function(e,t,n){"use strict";var o=n(28),i=n.n(o),r=(n(197),n(3),n(48)),a=(n(241),n(23)),s=n(71),l=n(142);t.a={unpack:function(e){var t={};r.a.listen(function(e){t[e]||a.a.pageView(),t[e]=!0});var n=new s.a;n.add.apply(n,i()(e).concat(i()(l.a))),n.start()}}},210:function(e,t,n){"use strict";var o=n(14),i=n(6),r=n(0);n(332);t.a=o.a.extend({displayName:"ListItemPlaceholder",optionTypes:{type:r.b.oneOf(["smallCard","comment","smallActivity","activity"]).isRequired},defaultOptions:{type:"smallCard"},template:function(){return i.default.getFromMacro("skfb_front/macros/components/atoms/list-item-placeholder","list_item_placeholder",[{type:this.options.type}])}})},211:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(25),a=n(110),s=n(167),l=n(65),c=n(7),u=r.a.extend({endpoint:function(){return"/comments".concat(this.isNew()?"":"/".concat(this.get("uid")))}}),d=n(1),p=r.a.extend({defaults:{verb:"",obj:{},actor:{},target:{},extraContext:{},actorModel:new r.a,objModel:new r.a,targetModel:new r.a},initialize:function(e){switch(r.a.prototype.initialize.apply(this,arguments),e.verb){case"upload":this.setUploadModels(e);break;case"collection":this.setCollectionModels(e);break;case"collect":this.setCollectModels(e);break;case"comment":this.setCommentModels(e);break;case"mention":this.setMentionModels(e);break;case"follow":this.setFollowModels(e);break;case"subscribe":this.setSubscribeModels(e);break;case"like":this.setLikeModels(e);break;case"staffpick":this.setStaffpickModels(e);break;case"review":this.setReviewModels(e);break;case"reviewReply":this.setReviewReplyModels(e)}},setUploadModels:function(e){this.set("actorModel",new c.a(e.actor)),this.set("objModel",new l.a(Object(d.extend)({},e.obj,{user:e.actor,recentlyStaffpicked:e.extraContext.recentlyStaffpicked})))},setCollectionModels:function(e){this.set("actorModel",new c.a(e.actor)),this.set("objModel",new a.a(Object(d.extend)({},e.obj,{user:e.actor})))},setCollectModels:function(e){this.set("actorModel",new c.a(e.actor)),this.set("objModel",new l.a(e.obj)),this.set("targetModel",new a.a(Object(d.extend)({},e.target,{user:e.actor})))},setCommentModels:function(e){this.set("objModel",new u(e.obj)),this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new l.a(e.target))},setMentionModels:function(e){this.set("objModel",new u(e.obj)),this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new c.a(e.target))},setFollowModels:function(e){this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new c.a(e.target))},setSubscribeModels:function(e){this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new a.a(e.target))},setLikeModels:function(e){this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new l.a(e.target))},setStaffpickModels:function(e){this.set("objModel",new l.a(e.obj)),this.set("actorModel",new c.a(e.actor))},setReviewModels:function(e){this.set("objModel",new s.a(e.obj)),this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new l.a(e.target))},setReviewReplyModels:function(e){this.set("objModel",new s.a(e.obj)),this.set("actorModel",new c.a(e.actor)),this.set("targetModel",new l.a(e.target))},getAggregatedActors:function(){var e=this.get("extraContext").activities||[];return[this.get("actorModel").toJSON()].concat(e.map(function(e){return e.actor}))},getAggregatedTargets:function(){var e=this.get("extraContext").activities||[];return[this.get("targetModel").toJSON()].concat(e.map(function(e){return e.target}))},getAggregatedObjs:function(){var e=this.get("extraContext").activities||[];return[this.get("objModel").toJSON()].concat(e.map(function(e){return e.obj}))}}),m=n(56),f=n(8),h=n(94);t.a=m.a.extend({mixins:[Object(h.a)("activities")],model:p,endpoint:"/feeds",queryParams:function(){return i()({},m.a.prototype.queryParams.call(this),{feed:this.options.filters.get("feed"),user:c.a.me().get("isStaff")?f.c.string("user"):void 0})}})},212:function(e,t,n){"use strict";var o=n(28),i=n.n(o),r=n(2),a=n.n(r),s=n(1),l=n(14),c=n(25),u=n(7),d=n(93),p=n(211),m=n(0),f=n(6),h=n(210),g=n(74),b=(n(369),Object(g.a)(function(){return f.default.getFromMacro("skfb_front/macros/components/molecules/empty-states/notifications-empty-state","notifications_empty_state",[])})),v=n(3),k=n.n(v),w={name:"WithNotificationLink",constructor:function(){this.events=Object(s.extend)({},this.events,{"click a, [data-link-to]":"markReadAndRedirect"})},markReadAndRedirect:function(e){e.stopPropagation(),e.preventDefault();var t,n=k()(e.currentTarget),o=n.data("link-to")||n.attr("href");(e.ctrlKey||e.metaKey)&&(t=window.open(o,"_blank")).focus(),d.a.readActivities([this.$el.data("uid")]).then(function(){t?t.location.href=o:window.location=o})}},y=n(50),C=(n(368),l.a.extend({displayName:"CommentActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({objModel:m.b.model.isRequired,actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired,timestamp:m.b.string.isRequired}).isRequired,isSmall:m.b.bool},template:function(){return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/comment",this.options.isSmall?"comment_small":"comment",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},comment:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON()}])}})),_=(n(367),l.a.extend({displayName:"MentionActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({timestamp:m.b.string.isRequired,objModel:m.b.model.isRequired,actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired}).isRequired,isSmall:m.b.bool},template:function(){return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/mention",this.options.isSmall?"mention_small":"mention",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},comment:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON()}])}})),O=(n(366),l.a.extend({displayName:"LikeActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({extraContext:m.b.shape({count:m.b.number.isRequired}).isRequired,actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired,timestamp:m.b.string.isRequired}).isRequired,isSmall:m.b.bool,isOwnFeed:m.b.bool},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedActors():[this.model.get("actorModel").toJSON()],n=this.options.isOwnFeed?[this.model.get("targetModel").toJSON()]:this.model.getAggregatedTargets();return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/like",this.options.isSmall?"like_small":"like",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedUsersCount:this.options.isOwnFeed?e.count:1,aggregatedModelsCount:this.options.isOwnFeed?1:e.count},users:t,models:n}])}})),L=(n(365),l.a.extend({displayName:"SubscribeActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({targetModel:m.b.model.isRequired,actorModel:m.b.model.isRequired,extraContext:m.b.shape({count:m.b.number.isRequired}).isRequired,timestamp:m.b.string.isRequired}).isRequired,isSmall:m.b.bool,isOwnFeed:m.b.bool},viewDidMount:function(){this.model.get("targetModel").on("change:thumbnails",this.forceUpdate,this)},viewWillUnmount:function(){this.model.get("targetModel").off("change:thumbnails",this.forceUpdate,this)},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedActors():[this.model.get("actorModel").toJSON()],n=this.options.isOwnFeed?[this.model.get("targetModel").toJSON()]:this.model.getAggregatedTargets();return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/subscribe",this.options.isSmall?"subscribe_small":"subscribe",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedUsersCount:this.options.isOwnFeed?e.count:1,aggregatedCollectionsCount:this.options.isOwnFeed?1:e.count},users:t,collections:n}])}})),x=(n(364),l.a.extend({displayName:"FollowActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired}).isRequired,isSmall:m.b.bool,isOwnFeed:m.b.bool},viewDidMount:function(){this.model.get("targetModel").on("change:thumbnails",this.forceUpdate,this),this.model.get("actorModel").on("change:thumbnails",this.forceUpdate,this)},viewWillUnmount:function(){this.model.get("targetModel").off("change:thumbnails",this.forceUpdate,this),this.model.get("actorModel").off("change:thumbnails",this.forceUpdate,this)},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedActors():[this.model.get("actorModel").toJSON()],n=this.options.isOwnFeed?[this.model.get("targetModel").toJSON()]:this.model.getAggregatedTargets();return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/follow",this.options.isSmall?"follow_small":"follow",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedFollowingUsersCount:this.options.isOwnFeed?e.count:1,aggregatedFollowedUsersCount:this.options.isOwnFeed?1:e.count},followingUsers:t,followedUsers:n}])}})),S=(n(363),l.a.extend({displayName:"CollectActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({objModel:m.b.model.isRequired,actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired,extraContext:m.b.shape({count:m.b.number.isRequired}).isRequired}).isRequired,isSmall:m.b.bool,isOwnFeed:m.b.bool},viewDidMount:function(){this.model.get("targetModel").on("change:thumbnails",this.forceUpdate,this)},viewWillUnmount:function(){this.model.get("targetModel").off("change:thumbnails",this.forceUpdate,this)},template:function(){var e=this.model.get("extraContext"),t=this.options.isOwnFeed?this.model.getAggregatedObjs():[this.model.get("objModel").toJSON()];return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/collect",this.options.isSmall?"collect_small":"collect",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead"),aggregatedModelsCount:this.options.isOwnFeed?e.count:1},user:this.model.get("actorModel").toJSON(),models:t,collection:this.model.get("targetModel").toJSON()}])}})),F=(n(362),l.a.extend({displayName:"StaffpickActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({timestamp:m.b.string.isRequired,objModel:m.b.model.isRequired,actorModel:m.b.model.isRequired}).isRequired,isSmall:m.b.bool},template:function(){return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/staffpick",this.options.isSmall?"staffpick_small":"staffpick",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},model:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON()}])}})),E=n(169),P=(n(361),l.a.extend({displayName:"ReviewActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({objModel:m.b.model.isRequired,actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired,timestamp:m.b.string.isRequired}).isRequired,isSmall:m.b.bool},template:function(){return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/review",this.options.isSmall?"review_small":"review",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},review:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON(),components:this.createChildrenComponents({rating:{viewClass:E.a,options:{value:this.model.get("objModel").get("averageRating"),size:"small"}}})}])}})),j=(n(360),l.a.extend({displayName:"ReviewReplyActivity",mixins:[y.a,w],optionTypes:{model:m.b.modelShape({objModel:m.b.model.isRequired,actorModel:m.b.model.isRequired,targetModel:m.b.model.isRequired,timestamp:m.b.string.isRequired}).isRequired,isSmall:m.b.bool},template:function(){return f.default.getFromMacro("skfb_front/macros/components/molecules/activities/review-reply",this.options.isSmall?"review_reply_small":"review_reply",[{authUser:u.a.me().toJSON(),activity:{timestamp:this.model.get("timestamp"),isSeen:this.model.get("isSeen"),isRead:this.model.get("isRead")},review:this.model.get("objModel").toJSON(),user:this.model.get("actorModel").toJSON(),model:this.model.get("targetModel").toJSON()}])}})),R=n(176),T=n(213);t.a=l.a.extend({displayName:"ActivityGrid",optionTypes:{feedType:m.b.oneOf(["notifications","activities","following_activities"]).isRequired,pageSize:m.b.number,itemOptions:m.b.object,shouldHidePagination:m.b.bool,loadMoreOnScroll:m.b.bool},defaultOptions:{pageSize:24,itemOptions:{}},initialize:function(){l.a.prototype.initialize.apply(this,arguments),this.filters=new c.a({feed:this.options.feedType}),this.collection=new p.a([],{initialLoadingState:"next",pageSize:this.options.pageSize,filters:this.filters})},viewDidMount:function(){this.collection.on("afterAdd",this.afterCollectionAdd,this),this.filters.on("change",this.onFiltersChange,this)},viewDidUpdate:function(e){e.feedType!==this.options.feedType&&this.filters.set({feed:this.options.feedType})},viewWillUnmount:function(){this.collection.off("afterAdd",this.afterCollectionAdd,this),this.filters.off("change",this.onFiltersChange,this)},onFiltersChange:function(){this.collection.reset(),this.collection.loadFirstPage()},afterCollectionAdd:function(){d.a.getSingleton().hasNewActivities()&&d.a.seeActivities()},getViewClass:function(e){switch(e.get("verb")){case"comment":return e.get("mentions").includes(u.a.me().get("uid"))?_:C;case"follow":return x;case"subscribe":return L;case"like":return O;case"collect":return S;case"staffpick":return F;case"review":return P;case"reviewReply":return j}},template:function(){var e=this;return f.default.getFromString('\n            <div class="c-activity-list">\n                {{ components.list | component }}\n            </div>\n            ',{components:this.createChildrenComponents({list:{viewClass:R.a,options:{collection:this.collection,render:function(t){return{viewClass:T.a,options:a()({},t,{loadMoreOnScroll:e.options.loadMoreOnScroll,hasPreviousPage:!e.options.shouldHidePagination&&t.hasPreviousPage,hasNextPage:!e.options.shouldHidePagination&&t.hasNextPage,className:"activity-list__grid",cards:[].concat(i()(t.models.map(function(t){return{viewClass:e.getViewClass(t),options:a()({},e.options.itemOptions,{key:t.get("uid"),model:t,isOwnFeed:"following_activities"!==e.options.feedType})}})),i()(Object(s.range)(0,t.isLoading?5:0).map(function(t){return{viewClass:h.a,options:{key:t,type:"notifications"===e.options.feedType?"smallActivity":"activity"}}}))),emptyState:{viewClass:b}})}}}}})})}})},213:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(5),a=n.n(r),s=n(1),l=n(51),c=n(6),u=n(0),d=n(32),p=n(107),m=n(57);t.a=l.a.extend({displayName:"Grid",mixins:[p.a],optionTypes:{cards:u.b.component.isRequired,emptyState:u.b.component,onLoadPrevious:u.b.func,onLoadNext:u.b.func,className:u.b.string,gridSize:u.b.string,loading:u.b.string,isLoading:u.b.bool,hasPreviousPage:u.b.bool,hasNextPage:u.b.bool,scrollableElement:u.b.object,loadMoreOnScroll:u.b.bool,maxAutoLoadedPages:u.b.number,buttonOptions:u.b.object},defaultOptions:function(){return{scrollableElement:window,className:"grid grid-cards",gridSize:"normal",loading:"none",isLoading:!1,hasPreviousPage:!1,hasNextPage:!1,loadMoreOnScroll:!1,emptyState:[],maxAutoLoadedPages:5,buttonOptions:{size:"large"}}},autoLoadedPageCount:0,events:{"resize window":"refreshLoadMoreThreshold"},initialize:function(){l.a.prototype.initialize.apply(this,arguments),this.onScroll=Object(s.throttle)(this.onScroll.bind(this),200),this.loadMore=Object(d.e)(this.loadMore.bind(this)),this.refreshLoadMoreThreshold=Object(s.debounce)(this.refreshLoadMoreThreshold.bind(this),100)},viewDidMount:function(){this.refreshLoadMoreThreshold(),this.options.scrollableElement.addEventListener("scroll",this.onScroll,{passive:!0})},viewDidUpdate:function(e){e.cards!==this.options.cards&&this.refreshLoadMoreThreshold(),e.cards.length>this.options.cards.length&&(this.autoLoadedPageCount=0)},viewWillUnmount:function(){this.options.scrollableElement.removeEventListener("scroll",this.onScroll)},getScrollTop:function(){return this.options.scrollableElement===window?document.documentElement.scrollTop:this.options.scrollableElement.scrollTop},getScrollHeight:function(){return this.options.scrollableElement===window?document.documentElement.scrollHeight:this.options.scrollableElement.scrollHeight},refreshLoadMoreThreshold:function(){this.loadMoreThreshold=this.getScrollHeight()-this.el.offsetTop-2*window.innerHeight},shouldLoadNextPage:function(){return this.options.loadMoreOnScroll&&this.options.hasNextPage&&this.getScrollTop()>this.loadMoreThreshold&&this.autoLoadedPageCount<this.options.maxAutoLoadedPages},loadMore:function(){return this.shouldLoadNextPage()?(this.autoLoadedPageCount++,this.options.onLoadNext().then(function(){return a.a.delay(300)})):a.a.resolve()},onLoadNext:function(){this.autoLoadedPageCount=0,this.options.onLoadNext()},onScroll:function(){this.loadMore()},template:function(){var e=this.options,t=e.className,n=e.gridSize,o=e.loading,r=e.isLoading,a=e.hasPreviousPage,s=e.hasNextPage,l=e.emptyState,u=e.cards,d=e.onLoadPrevious;return c.default.getFromString("\n            <div class=\"c-grid {{ options.className }} {{ '--' + options.gridSize }}\">\n                {%- if options.hasPreviousPage -%}\n                    {{- components.loadPrevious | component('c-grid__button --previous') -}}\n                {%- endif -%}\n\n                {%- if options.shouldShowEmptyState -%}\n                    {{- components.emptyState | component('c-grid__empty-state') -}}\n                {%- else -%}\n                    <div class=\"c-grid__items items {{ '--refresh' if options.isRefreshing }}\">\n                        {{- components.cards | component('c-grid__item item') -}}\n                    </div>\n                {%- endif -%}\n\n                {%- if options.hasNextPage -%}\n                    {{- components.loadNext | component('c-grid__button --next') -}}\n                {%- endif -%}\n            </div>\n            ",{options:{className:t,gridSize:n,isLoading:r,isRefreshing:"refresh"===o,hasNextPage:s,hasPreviousPage:a,shouldShowEmptyState:!u.length},components:this.createChildrenComponents({cards:u,emptyState:l,loadPrevious:{viewClass:m.a,options:i()({text:"load previous",loading:"previous"===o},this.options.buttonOptions,{onClick:d})},loadNext:{viewClass:m.a,options:i()({text:"load more",loading:"next"===o},this.options.buttonOptions,{onClick:this.onLoadNext.bind(this)})}})})}})},214:function(e,t,n){"use strict";var o=n(15),i=n(81),r=n(0);t.a=o.a.extend({displayName:"FormBoolean",optionTypes:{name:r.b.string.isRequired,prepopulated:r.b.bool},events:{change:function(){this.$el.addClass("edited"),this.model.set(this.options.name,this.$el.prop("checked"))}},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.options.prepopulated&&this.model.set(this.options.name,this.$el.prop("checked")),this.model.on("change:"+this.options.name,Object(i.a)(function(){this.model.get(this.options.name)&&this.$el.attr("checked","checked")},this))},disable:function(){this.$el.next().addClass("disabled")}})},216:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var o=n(12),i=n.n(o),r=n(103),a=n.n(r),s=n(35),l=n.n(s),c=n(26),u=n.n(c),d=n(68),p=n.n(d),m=n(48),f=(n(0),u.a.createContext()),h=f.Consumer,g=f.Provider;t.b=function(e){var t=e.href,n=e.children,o=e.shouldOpenPopup,r=void 0===o||o,s=l()(e,["href","children","shouldOpenPopup"]);return i()(h,{},void 0,function(e){return u.a.createElement("a",a()({href:t},s,{onClick:function(n){var o=n.ctrlKey||n.metaKey;e&&!o&&!p.a.any&&r&&(n.preventDefault(),n.stopPropagation(),m.a.push(function(e){return e.replace(window.location.origin,"").replace(/^\//,"")}(t),{playlist:e}))}}),n)})}},22:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return O});var o=n(20),i=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id,n=void 0===t?"uid":t;return new o.c.Entity(e,{},{idAttribute:n})},r=i("categories"),a=i("licenses"),s=i("users"),l=i("comments"),c=i("reviews"),u=i("models"),d=i("collections"),p=i("uploadActivities"),m=i("collectionActivities"),f=i("collectActivities"),h=i("commentActivities"),g=i("mentionActivities"),b=i("followActivities"),v=i("subscribeActivities"),k=i("likeActivities"),w=i("staffpickActivities"),y=i("reviewActivities"),C=i("reviewReplyActivities"),_=i("blogpostActivities");p.define({obj:u,actor:s}),m.define({obj:d,actor:s}),f.define({actor:s,obj:u,target:d}),h.define({obj:l,actor:s,target:u}),g.define({obj:l,actor:s,target:u}),b.define({actor:s,target:s}),v.define({actor:s,target:d}),k.define({actor:s,target:u}),w.define({obj:u,actor:s}),y.define({obj:c,actor:s,target:u}),C.define({obj:c,actor:s,target:u}),s.define({models:[u]}),l.define({user:s}),c.define({user:s}),u.define({user:s,license:a,categories:[r]}),d.define({user:s});var O=new o.c.Union({upload:p,collection:m,collect:f,comment:h,mention:g,follow:b,subscribe:v,like:k,staffpick:w,review:y,reviewReply:C,blogpost:_},"verb")},221:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),a=n(3),s=n.n(a),l=n(7),c=n(81),u=n(6),d=n(0),p=n(23),m=n(243),f=n(183),h=n(58),g=n(246),b=n(214),v=n(225),k=n(137),w=n(247),y=h.a.extend({optionTypes:{shortUrl:d.b.string,popupClass:d.b.string,popupClosable:d.b.bool,shouldRejectOnCancel:d.b.bool},defaultOptions:{shouldRejectOnCancel:!0},events:{"reset form":"cancel","submit form":"continue"},template:function(){var e='<ul class="--disc">            <li>Anyone with the link or embed code will still have access to your scene. You can add a password to protect it.</li>            <li>The shortlink '+(this.options.shortUrl?"("+this.options.shortUrl+") ":"")+"will be deactivated.</li>            <li>If your scene was indexed by search engines, it might remain searchable.</li>        </ul>";return u.default.get("skfb_front/popups/message",{popupClass:this.options.popupClass,popupClosable:this.options.popupClosable,safe:!0,title:"Warning: Switching a public model to private",text:e,buttons:{cancel:!0,cancelLabel:"Keep the model public",ok:!0,okLabel:"I understand, make the model private"}})}}),C=n(49),_=n(114),O=n(25),L=n(175),x=n(24),S=n(30);n(414),n(321),t.a=h.a.extend({mixins:[m.a,f.a],optionTypes:{name:d.b.string,userIsUpdated:d.b.bool},template:function(){return u.default.get("skfb_front/popups/model-settings",{isNew:!1})},events:{'click [data-action="change-mode"]':"toggleShowRenderedMarkdown","input .markdown-editor textarea":"unsetMarkdownReady","keyup .markdown-editor textarea":"countCharactersMarkdown","mouseover #mode-preview":"renderMarkdown","click #mode-preview":"renderMarkdown","reset form":"cancelSettings","submit form":"applySettings","click .dropdown-label":"toggleClickEvent",'click label[for="restricted"]':"checkAllowsRestricted"},children:{privateLimits:{selector:".private-limit-container",viewClass:g.a,options:function(){return{privateLimit:l.a.me().get("privateLimit"),canProtectModels:l.a.me().get("canProtectModels"),account:l.a.me().get("account")}}}},constructor:function(){this._boundDocumentClickEvent=this.documentClickEvent.bind(this),h.a.prototype.constructor.apply(this,arguments)},initialize:function(){h.a.prototype.initialize.apply(this,arguments),this._model=this.model,this.model=this.model.clone();var e=new O.a({descriptionFilled:!1,descriptionCompleted:!1,category:!1,tag:!1});this.model.set("discoverability",e),this.model.isInflated()?this.renderForm():(this.setIsLoading(!0),this.model.fetch().then(function(){this.setIsLoading(!1),this.renderForm()}.bind(this))),this.options.userIsUpdated||l.a.fetchMe().then(function(){this.forceUpdate()}.bind(this))},render:function(){h.a.prototype.render.apply(this,arguments),this.renderChildren()},afterRender:function(){this.model.isInflated()&&(l.a.me().get("canProtectModels")||this.model.get("isPrivate")||this._privateSwitch.disable(),this.model.get("isDownloadable")||this.model.get("price")>0?(this._inspectableSwitch.disable(),this.$("#is-downloadable-info").removeClass("--hidden")):this.$("#is-downloadable-info").addClass("--hidden"))},renderForm:function(){this.initializeMarkdown({editor:{container:this.$(".markdown-editor")},input:this.$(".markdown-editor textarea"),target:this.$(".markdown-rendered-content")}),this.model.on("change:isPrivate",function(e,t){if(this.$(".discoverability").toggle(!t),t){if(!l.a.me().get("canProtectModels"))return this._privateSwitch.el.checked=!1,this.model.set("isPrivate",!1),void this._privateSwitch.disable();if(this.model.get("isPublished")){var n=new y({model:this.model,shortUrl:this.shortUrl});n.open().then(function(){n.close()},function(){n.close(),this._privateSwitch.el.checked=!1,this.model.set("isPrivate",!1)}.bind(this))}}}.bind(this)),this.model.on("change:description",Object(c.a)(this.countCharactersMarkdown,this)),this.model.on("change:categories",Object(c.a)(function(){var e=this.model.get("categories");this.model.get("discoverability").set("category",!!(e&&e.length>=1))},this)),this.model.on("change:tags",Object(c.a)(function(){var e=this.model.get("tags");this.model.get("discoverability").set("tag",!!(e&&e.length>=1))},this)),this.model.get("discoverability").on("change",Object(c.a)(this.updateDiscoverability,this)),new k.a({model:this.model,name:"name",el:this.$('[name="name"]')}),new k.a({model:this.model,name:"description",el:this.$('[name="description"]')});var e=v.a.extend({events:{'click [data-action="add-tag"]':function(e){e.preventDefault();var t=s()(e.target),n=t.text(),o=(this.model.get(this.options.name)||[]).slice();-1===o.indexOf(n)&&(o.push(t.text()),this.model.set(this.options.name,o),this.shake())}},initialize:function(){v.a.prototype.initialize.apply(this,arguments),s.a.get("/i/users/me/tag_suggestions",function(e){this.renderSuggestions(e.results)}.bind(this))},renderSuggestions:function(e){var t=this.$(".suggested-tags");if(e.length){var n=[];Object(r.each)(e,function(e){var t='<a href="'.concat(Object(S.e)("tags:tag_detail_view",{tag:e}),'" data-action="add-tag">').concat(e,"</a>");n.push(t)}),t.append(n.join(", "))}else t.remove()}}),t=new _.a;t.fetch().then(function(){var e=this.getCategoryUids();this.$(".menu").html(u.default.getFromMacro("skfb_front/macros/dropdowns","toggle_dropdown_categories",[t.toJSON().map(function(t){return i()({},t,{active:-1!==e.indexOf(t.uid)})})])),this.model.set("categories",e),this.dropdownCategories=new w.a({model:this.model,name:"categories",el:this.$(".categories"),updateMultipleLabel:!0,defaultLabelValue:"Select categories",maxSize:2})}.bind(this)),new e({model:this.model,name:"tags",el:this.$(".tags"),removeSpecialChar:!1,autocompletion:!0}),this._privateSwitch=new b.a({model:this.model,name:"isPrivate",el:this.$('[name="private"]')}),this._inspectableSwitch=new b.a({model:this.model,name:"isInspectable",el:this.$('[name="inspectable"]')}),new k.a({model:this.model,name:"password",el:this.$('[name="password"]')}),this.$('.form-onoff[name="restricted"]').prop("checked",this.model.get("isRestricted")),this.$('.form-onoff[name="inspectable"]').prop("checked",this.model.get("isInspectable")),this.model.get("isProtected")&&this.$('[name="password"]').val("password"),this.model.get("isPrivate")&&this.$(".discoverability").hide(),this.countCharactersMarkdown()},delegateEvents:function(){h.a.prototype.delegateEvents.apply(this,arguments),s()(document).on("click",this._boundDocumentClickEvent)},undelegateEvents:function(){h.a.prototype.undelegateEvents.apply(this,arguments),s()(document).off("click",this._boundDocumentClickEvent)},documentClickEvent:function(e){this.dropdownCategories&&this.dropdownCategories.isOpen()&&s()(e.target).closest(".expanded").length<=0&&this.dropdownCategories.close()},toggleClickEvent:function(){this.dropdownCategories&&this.dropdownCategories.toggle()},countCharactersMarkdown:function(){var e=this.getMarkdownEditorValue().length;this.model.get("discoverability").set("descriptionFilled",e>20),this.model.get("discoverability").set("descriptionCompleted",e>100),e=parseInt(this.$(".textarea-wrapper textarea").attr("maxlength"),10)-e,this.$(".mode-info .count").text(e)},toggleShowRenderedMarkdown:function(e){e.preventDefault();var t=s()(e.target),n=t.data("value");this.$(".mode .active").removeClass("active"),t.addClass("active"),this.$(".markdown-editor").toggleClass("enabled","preview"===n)},updateDiscoverability:function(){var e=this.$(".progressbar .status");e.removeClass(function(e,t){return(t.match(/(^|\s)status-\S+/g)||[]).join(" ")});var t=10,n=this.model.get("discoverability");n.get("descriptionFilled")&&(t+=20),n.get("descriptionCompleted")&&(t+=20),n.get("category")&&(t+=25),n.get("tag")&&(t+=25),t<20&&e.addClass("status-danger"),t>=30&&t<70&&e.addClass("status-warning"),t>=70&&e.addClass("status-success");var o=100===t?"&#x1f44d;":"";this.$(".discoverability .thumbs-up").html(o),e.css("width",t+"%")},getCategoryUids:function(){return[].concat(this.model.get("categories")||[]).map(function(e){return e.uid?e.uid:e})},checkAllowsRestricted:function(e){var t=this;e.preventDefault(),e.stopPropagation(),L.a.restricted({text:"To publish age-restricted content, you need to enable age-restricted content in your settings.",updateUserSetting:!1}).then(function(){var e=t.$('.form-onoff[name="restricted"]');t.model.set("isRestricted",!e.prop("checked")),e.prop("checked",!e.prop("checked"))}).catch(Object(x.g)(x.e))},applySettings:function(){if(!this.pending){var e=this.model.get("categories"),t=this.getCategoryUids();return this.pending=!0,p.a.modelSettingsSaveButtonClicked(this.model.get("uid")),this.model.save({name:this.model.get("name"),description:this.model.get("description"),tags:this.model.get("tags"),isPrivate:this.model.get("isPrivate"),password:this.model.get("isPrivate")?this.model.get("password"):"",isProtected:this.model.get("isProtected"),categories:t,isRestricted:this.model.get("isRestricted"),isInspectable:this.model.get("isInspectable")},{patch:!0}).then(function(){this.model.set("categories",t),this._model.set({name:this.model.get("name"),description:this.model.get("description"),tags:this.model.get("tags"),isPrivate:this.model.get("isPrivate"),password:this.model.get("isPrivate")?this.model.get("password"):"",isProtected:this.model.get("isProtected"),categories:e,isRestricted:this.model.get("isRestricted"),isInspectable:this.model.get("isInspectable")}),this._onApplySettings()}.bind(this),function(e){if(e.responseJSON&&e.responseJSON.detail)this.automagicErrors(e.responseJSON.detail);else{var t=new C.default({title:"Error while saving settings",text:e.responseJSON&&e.responseJSON.detail||"Unexpected error while saving settings.",buttons:{ok:!0}});t.open().then(function(){t.close()})}this.pending=!1}.bind(this))}},cancelSettings:function(){p.a.modelSettingsCancelButtonClicked(this.model.get("uid")),this.close(!0)},_onApplySettings:function(){this.onApplySettings?this.onApplySettings():window.location.reload()}})},223:function(e,t,n){"use strict";var o=n(103),i=n.n(o),r=n(4),a=n.n(r),s=n(35),l=n.n(s),c=n(26),u=n.n(c),d=(n(0),n(69));t.a=function(e){var t=e.columns,n=e.children,o=e.className,r=l()(e,["columns","children","className"]);return u.a.createElement("div",i()({},r,{className:Object(d.a)("c-grid__item","item",o,a()({},"--columns-".concat(t),t))}),n)}},224:function(e,t,n){"use strict";n.d(t,"a",function(){return P});var o=n(12),i=n.n(o),r=n(103),a=n.n(r),s=n(2),l=n.n(s),c=n(28),u=n.n(c),d=n(35),p=n.n(d),m=n(40),f=n.n(m),h=n(53),g=n.n(h),b=n(55),v=n.n(b),k=n(52),w=n.n(k),y=n(43),C=n.n(y),_=n(54),O=n.n(_),L=n(4),x=n.n(L),S=n(26),F=n.n(S),E=(n(0),i()("span",{className:"spinner"})),P=function(e){function t(){var e,n;f()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=v()(this,(e=w()(t)).call.apply(e,[this].concat(i))),x()(C()(n),"onClick",function(e){!n.isDisabled&&n.props.onClick&&n.props.onClick(e)}),n}return O()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.iconClassName,o=e.iconAttrs,r=e.type,s=e.size,c=e.className,d=e.loading,m=e.attrs,f=e.style,h=e.subtext,g=p()(e,["text","iconClassName","iconAttrs","type","size","className","loading","attrs","style","subtext"]),b=!!n||!!Object.keys(o).length;return F.a.createElement("button",a()({},g,{className:["button","btn-".concat(r),"btn-".concat(s),c].concat(u()(d?["btn-loading"]:[])).join(" "),style:l()({},m.style,f),disabled:this.isDisabled,onClick:this.onClick}),d?E:b?F.a.createElement("span",a()({},o,{className:"icon "+(o.className||n)})):null,h?i()("span",{className:"button__text-container"},void 0,t,i()("span",{className:"button__subtext"},void 0,h)):t)}},{key:"isDisabled",get:function(){return this.props.disabled||this.props.loading}}]),t}(F.a.Component);x()(P,"defaultProps",{onClick:function(){},size:"medium",type:"primary",className:"",style:{},attrs:{},iconClassName:"",iconAttrs:{},disabled:!1,loading:!1})},225:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(1),a=n(15),s=n(81),l=n(31),c=n(0);t.a=a.a.extend({displayName:"FormList",optionTypes:{name:c.b.string.isRequired,spaceAsDelimiter:c.b.bool,removeSpecialChar:c.b.bool,autocompletion:c.b.oneOfType([c.b.object,c.b.bool]),slugifyInput:c.b.bool,allowTabOnEmptyField:c.b.bool},defaultOptions:{spaceAsDelimiter:!0,removeSpecialChar:!1,autocompletion:!1,slugifyInput:!0},events:{"keydown .input":function(e){this.shake(100);var t=[8,9,188,13];this.options.spaceAsDelimiter&&t.push(32),-1!==t.indexOf(e.keyCode)&&(8!==e.keyCode||0===e.target.selectionStart&&0===e.target.selectionEnd)&&(8===e.keyCode?(e.preventDefault(),this.erase()):this.append(e,this.options.allowTabOnEmptyField))},"blur .input":function(e){this.append(e,this.options.allowTabOnEmptyField),this.options.autocompletion&&this.clearAutocompletion()},"click .item":function(e){this.shake(400);var t=(this.model.get(this.options.name)||[]).slice(),n=i()(e.target).text(),o=t.indexOf(n);-1!==o&&(t.splice(o,1),this.model.set(this.options.name,t))}},initialize:function(){a.a.prototype.initialize.apply(this,arguments),this.timer=null,this.options.autocompletion&&this.initAutocompletion(),this.model.on("change:"+this.options.name,Object(s.a)(function(){var e=this.$(".input");this.$(".item").remove(),(this.model.get(this.options.name)||[]).forEach(function(t){i()('<a class="item"/>').append(i()("<span/>").text(t)).insertBefore(e)})},this))},initAutocompletion:function(){var e=this;n.e(19).then(n.t.bind(null,436,7)).then(function(){e.options.autocompletion=Object(r.extend)({searchUrl:"/i/tags/autocomplete?q={{search}}",limit:10,debounce:300,placement:"absleft",className:"tags-autocomplete"},e.options.autocompletion||{}),e.$(".input").textcomplete([{match:/\b([\w-]{2,})$/,search:e.searchAutocompletion.bind(e),replace:e.replaceAutocompletion.bind(e),index:1}],{className:e.options.autocompletion.className,placement:e.options.autocompletion.placement,debounce:e.options.autocompletion.debounce}).on({"textComplete:show":e.onShowAutocompletion.bind(e),"textComplete:hide":e.onHideAutocompletion.bind(e),keydown:e.onKeydownAutocompletion.bind(e),input:e.onInputAutocompletion.bind(e)})})},showAutocompletion:function(){i()("."+this.options.autocompletion.className).show()},clearAutocompletion:function(){this.$el.find("."+this.options.autocompletion.className+"-first-match").remove(),i()("."+this.options.autocompletion.className).hide()},replaceAutocompletion:function(e){return this.clearAutocompletion(),e+" "},searchAutocompletion:function(e,t){var n=(this.model.get(this.options.name)||[]).slice(),o=this.options.autocompletion.searchUrl;o=o.replace("{{search}}",e),o+="&limit="+this.options.autocompletion.limit,i.a.get(o,function(e){var o=this.$(".input").offset(),a=Object(r.filter)(e.results,function(e){return-1===n.indexOf(e)});t(a),i()("."+this.options.autocompletion.className).css({left:o.left}),this.showAutocompletion(),this.renderSelectedItemAutocompletion()}.bind(this))},onKeydownAutocompletion:function(e){27===e.keyCode&&this.isAutocompleting()&&(e.preventDefault(),e.stopPropagation()),38!==e.keyCode&&40!==e.keyCode||setTimeout(this.renderSelectedItemAutocompletion.bind(this),0)},onInputAutocompletion:function(){var e=this.$(".input").val().toLowerCase();this.$(".input").val(e),e?this.renderSelectedItemAutocompletion():this.clearAutocompletion();var t=this.getSelectedAutocompletion();t&&-1===t.indexOf(e)&&this.clearAutocompletion()},onShowAutocompletion:function(){this._autocompleting=!0},onHideAutocompletion:function(){this._autocompleting=!1},isAutocompleting:function(){return this._autocompleting},getSelectedAutocompletion:function(){return i()("."+this.options.autocompletion.className+" .active a").text()},renderSelectedItemAutocompletion:function(){var e=this.$(".input").position(),t=this.getSelectedAutocompletion(),n=i()('<div class="'+this.options.autocompletion.className+'-first-match">'+t+"</div>");n.css({left:e.left,top:e.top}),this.$el.find("."+this.options.autocompletion.className+"-first-match").remove(),this.$el.find(".input").parent().append(n)},erase:function(){var e=(this.model.get(this.options.name)||[]).slice();e.pop(),this.model.set(this.options.name,e)},append:function(e,t){t||e.preventDefault();var n=this.options.slugifyInput?l.slugify(this.$(".input").val()):this.$(".input").val();if(""!==n){var o,i=(this.model.get(this.options.name)||[]).slice(),a=n;this.$(".input").val(""),!1===this.options.removeSpecialChar?o=[a]:(o=a.split(/ |\,/g),o=Object(r.map)(o,function(e){return e.replace(/[^-\w]/gi,"")})),Object(r.each)(o,function(e){-1===i.indexOf(e)&&e&&i.push(e)}),this.options.autocompletion&&this.clearAutocompletion(),this.model.set(this.options.name,i)}},shake:function(e){clearTimeout(this.timer),this.timer=setTimeout(function(){this.trigger("steady")}.bind(this),e)},focus:function(){this.$(".input").focus()}})},229:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=(n(26),n(0),n(44));t.a=function(e){var t=e.likeCount,n=e.doesLike,o=e.onToggleLike,a=e.className,s=void 0===a?"":a,l=e.tooltipClassName,c=void 0===l?"tooltip-down":l;return i()("div",{onClick:o,className:["help","like-button","star-like-button","popover-container",s,n?"liked":""].join(" ")},void 0,i()("span",{className:"count"},void 0,Object(r.l)(t)),i()("span",{className:"tooltip liked-content ".concat(c)},void 0,n?"Unlike":"Like"))}},23:function(e,t,n){"use strict";var o=n(5),i=n.n(o),r=n(8),a=n(29),s=n(18),l=!1;function c(e){return l||(l=void 0!==window.ga)?function(e){return new i.a(function(t){window.ga.apply(window,["send"].concat(e,{hitCallback:t}))})}(e).timeout(1e3).catch(s.d):(console.info("Tracking event skipped : "+JSON.stringify(e)),i.a.resolve())}t.a={wrapLink:function(e,t){var n=e.currentTarget,o=n.target,i=n.href;"_blank"===o||e.metaKey||e.ctrlKey||(e.preventDefault(),t.timeout(800).catch(s.d).then(function(){window.location.href=i}))},saveCurrentReferrer:function(){var e=document.referrer,t=document.location.href,n=r.c.string("utm_source"),o=a.a.get("utm_source"),i=new Date;return i.setSeconds(240),-1===t.indexOf(e)&&n&&(e=n),-1===t.indexOf(e)&&o&&(e=o),a.a.set("skfb_referrer_override",e,{expires:i}),e},setSegment:function(e){void 0!==window.ga&&window.ga("set",{dimension5:e?e.get("name"):"None",dimension6:e?e.get("kind"):"None"})},pageView:function(e){return void 0===e&&(e=window.location.pathname+window.location.search),c(["pageview",e])},userRegistered:function(e){return c(["event","user","registered",e])},userUnregistrationSurveyNotCompleted:function(e){return c(["event","user","unregistrationSurveyNotCompleted",e])},userUnregistrationSurveyCompleted:function(e,t){return c(["event","user","unregistrationSurveyCompleted",e,t])},userUpgraded:function(e){return c(["event","user","upgraded",e])},userUpgradeCanceled:function(e){return c(["event","user","upgradeCanceled",e])},userSettingsAvatarUpdated:function(e){return c(["event","userSettings","avatarUpdated",e])},userSettingsNotificationsUpdated:function(e){return c(["event","userSettings","notificationsUpdated",e])},userSettingsPasswordUpdated:function(e){return c(["event","userSettings","passwordUpdated",e])},userSettingsProfileUpdated:function(e){return c(["event","userSettings","profileUpdated",e])},userSettingsAppConnected:function(e){return c(["event","userSettings","appConnected",e])},userSettingsAppDisconnected:function(e){return c(["event","userSettings","appDisconnected",e])},userSummaryFollowButtonClicked:function(e,t){return c(["event","userSummary","followButtonClicked",e,t?1:0])},userProfileFollowButtonClicked:function(e,t){return c(["event","userProfile","followButtonClicked",e,t?1:0])},userProfileContactButtonClicked:function(e){return c(["event","userProfile","contactButtonClicked",e])},userProfileWebsiteLinkClicked:function(e){return c(["event","userProfile","websiteLinkClicked",e])},userProfileSocialLinkClicked:function(e,t){return c(["event","userProfile","socialLinkClicked",t])},followSuggestionsSuggestFollowButtonClicked:function(e,t){return c(["event","followSuggestionsPopupSuggest","followButtonClicked",e,t?1:0])},followSuggestionsSearchFollowButtonClicked:function(e,t){return c(["event","followSuggestionsPopupSearch","followButtonClicked",e,t?1:0])},followSuggestionsSuggestFollowAllButtonClicked:function(e){return c(["event","followSuggestionsPopupSuggest","followAllButtonClicked",e])},followSuggestionsSearchFollowAllButtonClicked:function(e){return c(["event","followSuggestionsPopupSearch","followAllButtonClicked",e])},modelPageFollowButtonClicked:function(e,t){return c(["event","modelPage","followButtonClicked",e,t?1:0])},modelPageSettingsButtonClicked:function(e){return c(["event","modelPage","settingsButtonClicked",e])},modelPage3dSettingsButtonClicked:function(e){return c(["event","modelPage","3dSettingsButtonClicked",e])},modelPageAnnotationsButtonClicked:function(e){return c(["event","modelPage","AnnotationsButtonClicked",e])},modelPageAddToCollectionButtonClicked:function(e){return c(["event","modelPage","addToCollectionButtonClicked",e])},modelPageCreateCollectionButtonClicked:function(e){return c(["event","modelPage","createCollectionButtonClicked",e])},modelPageReuploadButtonClicked:function(e){return c(["event","modelPage","reuploadButtonClicked",e])},modelPageDeleteButtonClicked:function(e){return c(["event","modelPage","deleteButtonClicked",e])},modelPageEmbedButtonClicked:function(e){return c(["event","modelPage","embedButtonClicked",e])},modelPageShareButtonClicked:function(e){return c(["event","modelPage","shareButtonClicked",e])},modelPageFavoriteButtonClicked:function(e,t){return c(["event","modelPage","favoriteButtonClicked",e,t?1:0])},modelPageDownloadButtonClicked:function(e){return c(["event","modelPage","downloadButtonClicked",e])},modelPageNewCommentPosted:function(e,t){return c(["event","modelPage","newCommentPosted",e,t?1:0])},modelPageCommentDeleted:function(e,t){return c(["event","modelPage","commentDeleted",e,t?1:0])},modelPageExporterLinkClicked:function(e){return c(["event","modelPage","exporterLinkClicked",e])},modelPageModelInformationClicked:function(){return c(["event","modelPage","modelInformationClicked"])},modelRipperBlocked:function(e,t){return c(["event","modelRipper",e+"Blocked",t])},modelCardSettingsButtonClicked:function(e){return c(["event","modelCard","settingsButtonClicked",e])},modelCardReuploadButtonClicked:function(e){return c(["event","modelCard","reuploadButtonClicked",e])},modelCardDeleteButtonClicked:function(e){return c(["event","modelCard","deleteButtonClicked",e])},modelCard3dSettingsButtonClicked:function(e){return c(["event","modelCard","3dSettingsButtonClicked",e])},modelCardAnnotationsButtonClicked:function(e){return c(["event","modelCard","AnnotationsButtonClicked",e])},modelCardAddToCollectionButtonClicked:function(e){return c(["event","modelCard","addToCollectionButtonClicked",e])},modelCardPreviewButtonClicked:function(e){return c(["event","modelCard","previewButtonClicked",e])},modelCardFavoriteButtonClicked:function(e,t){return c(["event","modelCard","favoriteButtonClicked",e,t?1:0])},modelCardCommentsButtonClicked:function(e,t){return c(["event","modelCard","commentsButtonClicked",e,t])},modelListCardFavoriteButtonClicked:function(e,t){return c(["event","modelListCard","favoriteButtonClicked",e,t?1:0])},modelListCardCommentsButtonClicked:function(e,t){return c(["event","modelListCard","commentsButtonClicked",e,t])},modelPreviewClosePopupButtonClicked:function(e){return c(["event","modelPreview","closePopupButtonClicked",e])},modelPreviewViewModelButtonClicked:function(e){return c(["event","modelPreview","viewModelButtonClicked",e])},modelPreviewShareButtonClicked:function(e){return c(["event","modelPreview","shareButtonClicked",e,status?1:0])},modelPreviewFavoriteButtonClicked:function(e,t){return c(["event","modelPreview","favoriteButtonClicked",e,t?1:0])},modelPreviewCommentsButtonClicked:function(e,t){return c(["event","modelPreview","commentsButtonClicked",e,t])},modelPreviewDownloadButtonClicked:function(e){return c(["event","modelPreview","downloadButtonClicked",e])},modelPreviewCollectionButtonClicked:function(e){return c(["event","modelPreview","collectionButtonClicked",e])},modelSettingsDownloadButtonClicked:function(e,t){return c(["event","modelSettings","downloadButtonClicked",e,t])},modelDownloadFavoriteButtonClicked:function(e,t){return c(["event","modelDownload","favoriteButtonClicked",e,t?1:0])},modelSettingsLicenseChanged:function(e){return c(["event","modelSettings","licenseChanged",e])},modelSettingsSaveButtonClicked:function(e){return c(["event","modelSettings","saveButtonClicked",e])},modelSettingsCancelButtonClicked:function(e){return c(["event","modelSettings","cancelButtonClick",e])},modelEmbedDownloadButtonClicked:function(e){return c(["event","modelEmbed","downloadButtonClicked",e])},modelEmbedFavoriteButtonClicked:function(e,t){return c(["event","modelEmbed","favoriteButtonClicked",e,t?1:0])},modelEmbedShareButtonClicked:function(e){return c(["event","modelEmbed","shareButtonClicked",e])},modelEmbedInfosButtonClicked:function(e,t){return c(["event","modelEmbed","infosButtonClicked",e,t?1:2])},modelEmbedAutostart:function(e){return c(["event","modelEmbed","autostart",e])},modelEmbedPlayButtonClicked:function(e){return c(["event","modelEmbed","playButtonClicked",e])},modelEmbedStopButtonClicked:function(e){return c(["event","modelEmbed","stopButtonClicked",e])},modelEmbedModelInteraction:function(e,t){return c(["event","modelEmbed","modelInteraction"+t,e])},modelEmbedViewModelButtonClicked:function(e){return c(["event","modelEmbed","viewModelButtonClicked",e])},modelEmbedWatermarkClicked:function(e){return c(["event","modelEmbed","watermarkClicked",e])},modelViewerRenderingOptionsButtonClicked:function(){return c(["event","modelViewer","renderingOptionsButtonClicked"])},modelViewerViewerModeButtonClicked:function(){return c(["event","modelViewer","viewerModeButtonClicked"])},modelViewerFullscreenButtonClicked:function(e){return c(["event","modelViewer","fullscreenButtonClicked",e?1:0])},modelViewerTheatreModeButtonClicked:function(e){return c(["event","modelViewer","theatreButtonClicked",e?1:0])},modelViewerVrButtonClicked:function(e){return c(["event","modelViewer","vrButtonClicked",e])},modelViewerInspectorShortcut:function(){return c(["event","modelViewer","inspectorShortcut"])},modelViewerInspectorButtonClicked:function(){return c(["event","modelViewer","inspectorButtonShortcut"])},modelViewerViewerModeSelected:function(e){return c(["event","modelViewer","viewerModeSelected",e])},modelViewerShadingSelected:function(e){return c(["event","modelViewer","shadingSelected",e])},modelViewerAnnotationsToggled:function(e,t){return c(["event","modelViewer","annotationsToggled",e,t?1:0])},modelViewerAnnotationListClicked:function(e){return c(["event","modelViewer","annotationListClicked",e])},modelViewerAnnotationsCycleToggled:function(e,t){return c(["event","modelViewer","annotationsCycleToggled",e,t?1:0])},modelViewerWireframeToggleClicked:function(e){return c(["event","modelViewer","wireframeEnable",e])},modelViewerWireframeColorSelected:function(e){return c(["event","modelViewer","wireframeColorSelected",e])},modelViewerWireframeShortcut:function(e){return c(["timing","modelViewer","wireframeEnable",e])},modelViewerTextureQualitySelected:function(e){return c(["event","modelViewer","textureQualitySelected",e])},modelViewerPolygonLoaded:function(e){return c(["timing","modelViewer","polygonLoaded",e])},modelViewerWireframeLoaded:function(e){return c(["timing","modelViewer","wireframeLoaded",e])},modelViewerHighResTexturesLoaded:function(e,t){return c(["timing","modelViewer","highResTexturesLoaded",e,{metric2:t}])},modelViewerLowResTexturesLoaded:function(e,t){return c(["timing","modelViewer","lowResTexturesLoaded",e,{metric2:t}])},modelViewerModelDisplayed:function(e){return c(["timing","modelViewer","modelDisplayed",e])},modelViewerNextAnnotationClicked:function(e){return c(["event","modelViewer","nextAnnotationClicked",e])},modelViewerPreviousAnnotationClicked:function(e){return c(["event","modelViewer","previousAnnotationClicked",e])},modelViewerAnnotationClicked:function(e){return c(["event","modelViewer","annotationClicked",e])},modelViewerAnimationPlayClicked:function(e){return c(["event","modelViewer","animationPlayClicked",e])},modelViewerAnimationPauseClicked:function(e){return c(["event","modelViewer","animationPauseClicked",e])},modelViewerAnimationSpeedSelected:function(e){return c(["event","modelViewer","animationSpeedSelected",e])},modelViewerAnimationRepeatModeSelected:function(e){return c(["event","modelViewer","animationRepeatModeSelected",e])},modelViewerAnimationListClicked:function(e){return c(["event","modelViewer","animationListClicked",e])},modelViewerAnimationNoAnimationClicked:function(e){return c(["event","modelViewer","animationNoAnimationClicked",e])},modelViewerAnimationSeeked:function(e,t){return c(["event","modelViewer","animationSeeked",e,t])},modelViewerFallbackDisplayed:function(e){return c(["event","modelViewer","fallbackDisplayed",e])},modelViewerHelpButtonCliked:function(e){return c(["event","modelViewer","helpButtonClicked",e])},modelViewerResetCameraButtonClicked:function(){return c(["event","modelViewer","resetCameraButtonClicked"])},modelViewerHelpTabClicked:function(e){return c(["event","modelViewer","helpTabClicked",e])},modelViewerMuteButtonClicked:function(e){return c(["event","modelViewer","muteButtonClicked"])},headerSearchInitiated:function(e){return c(["event","header","searchInitiated",e])},headerUploadButtonClicked:function(){return c(["event","header","uploadButtonClicked",window.location.pathname+window.location.search])},headerUploadSignupButtonClicked:function(){return c(["event","header","uploadSignupButtonClicked"])},headerStoreSellerSignupButtonClicked:function(){return c(["event","header","storeSellerSignupButtonClicked"])},embedPopupEmbedFormatSelected:function(e){return c(["event","embedPopup","embedFormatSelected",e])},embedPopupShowOptionsButtonClicked:function(){return c(["event","embedPopup","showOptionsButtonClicked"])},embedPopupOptionToggleChanged:function(e,t){return c(["event","embedPopup","optionToggleChanged",e,t?1:0])},collectionEmbedPopupShowOptionsButtonClicked:function(){return c(["event","collectionEmbedPopup","showOptionsButtonClicked"])},collectionEmbedPopupOptionToggleChanged:function(e,t){return c(["event","collectionEmbedPopup","optionToggleChanged",e,t?1:0])},modelBrowseTagFilterAdded:function(e){return c(["event","modelBrowse","tagFilterAdded",e])},modelBrowseDateFilterChanged:function(e){return c(["event","modelBrowse","dateFilterChanged",e])},modelBrowseSortFilterChanged:function(e){return c(["event","modelBrowse","sortFilterChanged",e])},modelBrowseFaceCountFilterChanged:function(e){return c(["event","modelBrowse","faceCountFilterChanged",e])},modelBrowseFeaturesFilterChanged:function(e){return c(["event","modelBrowse","featuresFilterChanged",e])},modelBrowseCategoryFilterChanged:function(e){return c(["event","modelBrowse","categoryFilterChanged",e])},modelBrowseFlagFilterChanged:function(e){return c(["event","modelBrowse","flagFilterChanged",e])},modelUploadStarted:function(){return c(["event","modelUpload","started"])},modelUploadCanceled:function(){return c(["event","modelUpload","canceled"])},modelUploadProcessed:function(e){return c(["event","modelUpload","processed",e?1:0])},collectionCardDeleteButtonClicked:function(e){return c(["event","collectionCard","deleteButtonClicked",e])},collectionCardPreviewButtonClicked:function(e){return c(["event","collectionCard","previewButtonClicked",e])},collectionSettingsSaveButtonClicked:function(e){return c(["event","collectionSettings","saveButtonClicked",e])},collectionSettingsCancelButtonClicked:function(e){return c(["event","collectionSettings","cancelButtonClicked",e])},collectionPageDeleteButtonClicked:function(e){return c(["event","collectionPage","deleteButtonClicked",e])},collectionPageEmbedButtonClicked:function(e){return c(["event","collectionPage","embedCollectionButtonClicked",e])},collectionPageShareButtonClicked:function(e){return c(["event","collectionPage","shareCollectionButtonClicked",e])},collectionPreviewViewCollectionButtonClicked:function(e){return c(["event","collectionPreview","viewCollectionButtonClicked",e])},collectionPreviewShareButtonClicked:function(e){return c(["event","collectionPreview","shareButtonClicked",e])},collectionPreviewClosePopupButtonClicked:function(e){return c(["event","collectionPreview","closePopupButtonClicked",e])},landingVideoTourButtonClicked:function(){return c(["event","landing","videoTourButtonClicked"])},studentsPageCheckEligibilitySucceeded:function(e){return c(["event","studentsPage","eligibilityCheckSucceeded",e])},studentsPageCheckEligibilityFailed:function(e){return c(["event","studentsPage","eligibilityCheckFailed",e])},studentsPageContactUsButtonClicked:function(){return c(["event","studentsPage","contactUsButtonClicked"])},annotationEditorCreateButtonClicked:function(e){return c(["event","annotationEditor","createButtonClicked",e])},annotationEditorDeleteButtonClicked:function(e){return c(["event","annotationEditor","deleteButtonClicked",e])},annotationEditorPositionMoved:function(e){return c(["event","annotationEditor","positionMoved",e])},annotationEditorListReordered:function(e){return c(["event","annotationEditor","listReordered",e])},annotationEditorCameraButtonClicked:function(e){return c(["event","annotationEditor","cameraButtonClicked",e])},annotationEditorTooltipEdited:function(e){return c(["event","annotationEditor","tooltipEdited",e])},annotationEditorWidgetDoneButtonClicked:function(e){return c(["event","annotationEditor","widgetDoneButtonClicked",e])},annotationEditorLimitReachedUpgradeButtonClicked:function(e){return c(["event","annotationEditor","annotationEditorLimitReachedUpgradeButtonClicked",e.get("uid")])},soundEditorSoundAdded:function(){return c(["event","soundEditor","soundAdded"])},soundEditorSoundRemoved:function(){return c(["event","soundEditor","soundRemoved"])},soundEditorPreviewSoundButtonClicked:function(){return c(["event","soundEditor","previewSoundButtonClicked"])},soundEditorChangeSoundButtonClicked:function(){return c(["event","soundEditor","changeSoundButtonClicked"])},soundEditor3DSoundButtonClicked:function(){return c(["event","soundEditor","3DSoundButtonClicked"])},soundEditorLoopButtonClicked:function(){return c(["event","soundEditor","LoopButtonClicked"])},postProcessEditorEffectToggled:function(e,t){return c(["event","postProcessEditor","effectToggled",e,t?1:0])},categoryPageFollowSuggestionsButtonClicked:function(e,t){return c(["event","categoryPage","followSuggestionsFollowButtonClicked",e,t?1:0])},tagPageFollowSuggestionsButtonClicked:function(e,t){return c(["event","tagPage","followSuggestionsFollowButtonClicked",e,t?1:0])},shareButtonClicked:function(e,t,n){return c(["event",e,t,n])},deleteModelPopupReasonSelected:function(e){return c(["event","deleteModelPopup","deleteReasonSelected",e])},invitePageSendEmailClicked:function(e){return c(["event","invitePage","sendEmailClicked","",e=parseInt(e)])},invitePageTwitterButtonClicked:function(){return c(["event","invitePage","twitterButtonClicked"])},invitePageFacebookButtonClicked:function(){return c(["event","invitePage","facebookButtonClicked"])},modelIssueReported:function(e,t){return c(["event","modelIssueReported",e,t])},newsfeedFollowCardFollowButtonClicked:function(e,t){return c(["event","newsfeedFollowCard","followButtonClicked",e,t?1:0])},newsfeedPageFollowSuggestionsButtonClicked:function(e,t){return c(["event","newsfeedPage","followSuggestionsFollowButtonClicked",e,t?1:0])},newsfeedCardFollowButtonClicked:function(e,t){return c(["event","newsfeedCard","followButtonClicked",e,t?1:0])},newsfeedCardModelPreviewButtonClicked:function(e){return c(["event","newsfeedCard","modelPreviewButtonClicked",e])},newsfeedCardFavoriteButtonClicked:function(e,t){return c(["event","newsfeedCard","favoriteButtonClicked",e,t?1:0])},onboardingUsageType:function(e){return c(["event","onboarding","usageType",e])},newsfeedUsersFollowed:function(e){return c(["event","newsfeed","usersFollowed",e])},newsfeedInterestsSelected:function(e){return c(["event","newsfeed","interestsSelected",e])},playlistNextButtonClicked:function(){return c(["event","playlist","nextButtonClicked"])},playlistPreviousButtonClicked:function(){return c(["event","playlist","previousButtonClicked"])},playlistItemClicked:function(){return c(["event","playlist","tocItemClicked"])},profileWizardGeolocationClicked:function(){return c(["event","profileWizard","geolocationClicked"])},uploadCardCollectionCreated:function(e){return c(["event","uploadCard","collectionCreated",e])},uploadCardCollectionEnabled:function(e){return c(["event","uploadCard","collectionEnabled",e])},uploadCardCollectionDisabled:function(e){return c(["event","uploadCard","collectionDisabled",e])},uploadCardSettingsButtonClicked:function(e){return c(["event","uploadCard","settingsButtonClicked",e])},uploadCardReuploadButtonClicked:function(e){return c(["event","uploadCard","reuploadButtonClicked",e])},uploadCardDeleteButtonClicked:function(e){return c(["event","uploadCard","deleteButtonClicked",e])},uploadCard3dSettingsButtonClicked:function(e){return c(["event","uploadCard","3dSettingsButtonClicked",e])},uploadCardAnnotationsButtonClicked:function(e){return c(["event","uploadCard","AnnotationsButtonClicked",e])},inspectorDisplayViewClicked:function(e,t){return c(["event","inspector","displayViewClicked",e+":"+t])},inspectorModeShortcut:function(e,t){return c(["event","inspector","displayViewShortcut",e+":"+t])},inspectorSplitTypeClicked:function(e){return c(["event","inspector","splitTypeClicked",e])},inspectorUIVisibilityToggleClicked:function(){return c(["event","inspector","UIVisibilityToggleClicked"])},storeCheckoutInitiated:function(e,t){return c(["event","store","InitiateCheckout",e,t])},storeModelAddedToCart:function(e,t){return c(["event","store","AddToCart",e,t])},storePurchaseCompleted:function(e,t){return c(["event","store","Purchase",e,t])}}},231:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=n(39),a=n.n(r),s=n(68),l=n.n(s),c=n(26),u=n(27),d=n(69),p=n(19),m=function(){var e=Object(c.useState)([window.innerWidth,window.innerHeight]),t=a()(e,2),n=t[0],o=t[1];return Object(c.useEffect)(function(){var e=function(){return o([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e,{passive:!0}),function(){return window.removeEventListener("resize",e,{passive:!0})}},[]),n},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=a()(t,2),o=n[0],i=void 0===o?0:o,r=n[1],s=void 0===r?0:r,l=m(),u=a()(l,2),d=u[0],p=u[1],f=Object(c.useState)([i,s]),h=a()(f,2),g=h[0],b=h[1];return Object(c.useEffect)(function(){e.current&&b([e.current.offsetWidth,e.current.offsetHeight])},[e.current,d,p]),g},h=new Map,g=function(e){return!Object(u.j)()&&e.url&&h.has(e.url)},b=function(e,t){return e.width*e.height>t.width*t.height},v=function(e,t,n,o){return function(e,t,n,o){var i=Math.abs(n-e.width),r=Math.abs(n-t.width);return i+Math.abs(o-e.height)<r+Math.abs(o-t.height)}(e,t,n,o)&&b(e,{width:n,height:o})&&!(b(t,e)&&g(t)&&!g(e))},k=function(e,t){var n=c.useState(g(t)),o=a()(n,2),i=o[0],r=o[1],s=c.useState(function(e){return!Object(u.j)()&&e.url&&h.has(e.url)?h.get(e.url).width:0}(t)),d=a()(s,2),p=d[0],m=d[1],f=c.useState(function(e){return!Object(u.j)()&&e.url&&h.has(e.url)?h.get(e.url).height:0}(t)),b=a()(f,2),v=b[0],k=b[1];return c.useEffect(function(){var n=function(e){h.set(t.url,{width:e.width,height:e.height}),r(!0),m(e.width),k(e.height)};if(i!==g(t)&&r(g(t)),!i&&t.url){if(l.a.any){var o=Object(u.m)(e.current,function(e){e&&Object(u.k)(t.url).then(function(e){n(e),o&&o(),o=null})});return function(){o&&o()}}Object(u.k)(t.url).then(function(e){n(e)})}},[t,i,e]),[i,p,v]},w=function(e,t,n,o){var i=window.devicePixelRatio||1,r=function(e,t,n){return e.reduceRight(function(e,o){return v(o,e,t,n)?o:e},{url:"",width:1/0,height:1/0})}(t,n*i,o*i),s=k(e,r),l=a()(s,3);return[r,l[0],l[1],l[2]]};t.a=function(e){var t=e.images,n=e.width,o=void 0===n?350:n,r=e.height,s=void 0===r?196.875:r,l=e.deferred,u=void 0===l||l,m=e.alt,h=void 0===m?"":m,g=c.useRef(null),b=f(g,[o,s]),v=a()(b,2),k=v[0],y=v[1],C=w(g,Array.isArray(t)?t:Object(p.f)(t)?t.images:[],k,y),_=a()(C,4),O=_[0],L=_[1],x=_[2],S=_[3],F=u&&!L;return c.createElement("div",{ref:g,className:"c-image-container image-container ".concat(F?"--loading":""),style:{width:"100%"}},i()("img",{className:"c-image-container__image",alt:h,src:O.url,style:L&&x&&S&&k&&y?Object(d.c)(x,S,k,y):{}}),i()("div",{style:{paddingTop:"".concat(s/o*100,"%")}}))}},237:function(e,t,n){"use strict";var o=n(6),i=n(49);n(399);t.a=i.default.extend({template:function(){return o.default.get("skfb_front/popups/missing-webgl",{buttons:this.options.buttons})}})},24:function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"g",function(){return k});var o=n(40),i=n.n(o),r=n(55),a=n.n(r),s=n(52),l=n.n(s),c=n(54),u=n.n(c),d=n(88),p=n.n(d),m=function(e){function t(e,n,o,r){var s;return i()(this,t),(s=a()(this,l()(t).call(this,e))).feature=n,s.limitReached=o,s.account=r,s}return u()(t,e),t}(p()(Error)),f=function(e){function t(){return i()(this,t),a()(this,l()(t).apply(this,arguments))}return u()(t,e),t}(p()(Error)),h=function(e){function t(){return i()(this,t),a()(this,l()(t).apply(this,arguments))}return u()(t,e),t}(p()(Error)),g=function(e){function t(){return i()(this,t),a()(this,l()(t).apply(this,arguments))}return u()(t,e),t}(p()(Error)),b=function(e){function t(){return i()(this,t),a()(this,l()(t).apply(this,arguments))}return u()(t,e),t}(p()(Error)),v=function(e,t){return function(n){if(n instanceof e)return t(n);throw n}},k=function(e){return function(t){if(!(t instanceof e))throw t}}},241:function(e,t,n){"use strict";var o=n(3),i=n.n(o);i.a.fn.toggleAttr=function(e,t,n){return arguments.length<3&&(n=t,t=e),this.each(function(){if(void 0===n){var o=i()(this).attr(e),r=!(void 0===o||!1===o);i()(this).toggleAttr(e,t,!r)}else n?i()(this).attr(e,t):i()(this).removeAttr(e)})};i.a.fn.toggleAttr},242:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(5),a=n.n(r),s=n(10),l=["<script>","  (function(d, s, id){","     var js, fjs = d.getElementsByTagName(s)[0];","     if (d.getElementById(id)) {return;}","     js = d.createElement(s); js.id = id;",'     js.src = "//connect.facebook.net/en_US/sdk.js";',"     fjs.parentNode.insertBefore(js, fjs);",'   }(document, "script", "facebook-jssdk"));',"<\/script>"].join(""),c=null;t.a={getSDK:function(){return window.FB?a.a.resolve(window.FB):c||(c=new a.a(function(e){var t=i()(l);i()("body").append(t),window.fbAsyncInit=function(){window.FB.init({appId:s.a.facebookAppId,status:!0,cookie:!0,xfbml:!0,version:s.a.facebookApiVersion}),e(window.FB)}}))}}},243:function(e,t,n){"use strict";var o=n(39),i=n.n(o),r=n(1),a=n(3),s=n.n(a),l=n(5),c=n.n(l),u=n(178),d=n(16);t.a={name:"Markdown",dependencies:["LazyLoading"],initializeMarkdown:function(e){this.options.markdown=Object(r.extend)({},this.options.markdown,e),this.__markdown={ready:!1,loading:!1,promise:null,shortcuts:{}},this.options.markdown.editor&&this.initializeEditor()},initializeEditor:function(){var e=this,t=s()(this.options.markdown.input),o=Object(r.isObject)(this.options.markdown.editor)?this.options.markdown.editor:{};t.addClass("loading-editor"),c.a.all([n.e(0).then(n.t.bind(null,299,7)),Promise.all([n.e(0),n.e(21)]).then(n.t.bind(null,438,7)),Promise.all([n.e(0),n.e(20)]).then(n.t.bind(null,437,7))]).then(function(n){var r=i()(n,1)[0].fromTextArea(t[0],{mode:"gfm",theme:"neo",highlightFormatting:!0,lineWrapping:!0,extraKeys:u.a.getShortcuts()});u.a.setEditor(r),u.a.initializeToolbar(o),o.container&&s()(o.container).addClass("wysiwyg"),t.removeClass("loading-editor"),r.on("beforeChange",function(t,n){e.getMarkdownEditorValue().length+n.text[0].length>parseInt(s()(t.getTextArea()).attr("maxlength"),10)&&"+delete"!==n.origin&&n.cancel()}),r.on("change",function(e){var t=s()(e.getTextArea());t.val(e.getValue()),t.trigger("input")})})},renderMarkdown:function(){var e=this;return this.__markdown.ready?c.a.resolve(this.options.markdown.target[0].innerHTML):this.__markdown.loading?this.__markdown.promise:(this.__markdown.loading=!0,this.__markdown.promise=new c.a(function(t){var n=e.getMarkdownEditorValue();n?(e.unsetMarkdownReady(),d.b.getMarkdownPreview(n).then(function(e){this.setMarkdownReady(e.result),this.handleLazyLoading(),t(e.result)}.bind(e),function(){this.setMarkdownReady("Failed to load preview"),t("")}.bind(e))):(e.setMarkdownReady(""),t(""))}),this.__markdown.promise)},setMarkdownReady:function(e){this.__markdown.ready=!0,this.__markdown.loading=!1,this.options.markdown.target.html(s()("<div></div>").append(e))},unsetMarkdownReady:function(){this.__markdown.ready=!1,this.options.markdown.target.html(s()("<div>Loading preview...</div>"))},getMarkdownEditorValue:function(){return u.a.getMarkdownEditorValue()||this.options.markdown.input?s()(this.options.markdown.input).val():""}}},245:function(e,t,n){"use strict";n.r(t);var o=n(3),i=n.n(o),r=n(1),a=n(6),s=n(15),l=n(173),c=n(124),u=n(7);n(181);t.default=s.a.extend({mixins:[Object(c.a)()],template:a.default.getFromMacro("skfb_front/macros/user","user_summary"),className:"user-summary hidden",initialize:function(){s.a.prototype.initialize.apply(this,arguments),i()("body").append(this.$el),this.model=new u.a},render:function(){this.$el.html(this.template([u.a.me().toJSON(),this.model.toJSON(),this.userOptions])),!1!==this.userOptions.followButton&&new l.a({el:this.$(".follow-user-button")[0],trackerEvent:"userSummaryFollowButtonClicked",afterFollowAction:this.onUserFollow.bind(this)})},setUser:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.userOptions=n,this.$el.addClass("loading"),this.model.clear().set({uid:e}).getSummary().then(function(){t.render(),t.$el.removeClass("loading")})},onUserFollow:function(e){var t="follow"===e?1:-1,n=this.$(".follow-count span"),o=parseInt(n.text(),10);n.text(o+t)},anchor:function(e){var t=i()(e),n=this.$el.outerWidth(!0),o=i()(window).width(),a=i()(window).height(),s=Object(r.extend)(t.offset(),{width:t.width(),height:t.height()}),l="summary-right",c="summary-bottom",u={left:"auto",right:"auto",top:"auto",bottom:"auto"};this.$el.removeClass("summary-left summary-right summary-top summary-bottom"),s.left+n>o&&(l="summary-left"),s.top-window.scrollY+300>a&&(c="summary-top"),"summary-right"===l?u.left=s.left+s.width/2-22:u.right=o-(s.left+s.width/2)-22,"summary-bottom"===c?u.top=s.top+s.height+7:u.bottom=a-(s.top+s.height/2)+22,this.$el.addClass(l+" "+c),this.$el.css(u)},show:function(){this.$el.off("transitionend webkitTransitionEnd"),this.$el.css({display:"block"}),this.$el.width(),this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden"),this.$el.one("transitionend webkitTransitionEnd",function(){this.$el.css({display:"none"})}.bind(this))},isVisible:function(){return!this.$el.hasClass("hidden")}})},246:function(e,t,n){"use strict";var o=n(14),i=n(0),r=n(61),a=n(6),s=n(7);n(415);t.a=o.a.extend({displayName:"PrivateLimit",optionTypes:{privateLimit:i.b.shape({count:i.b.number,until:i.b.string}).isRequired,canProtectModels:i.b.bool.isRequired,account:i.b.string.isRequired},template:function(){if(s.a.me().get("isStaff")||!this.options.privateLimit||!Object(r.k)({account:this.options.account,privateLimit:this.options.privateLimit}))return"";var e=a.default.getFromMacro("skfb_front/macros/components/molecules/private-limit","private_limit",[{nextPlan:Object(r.e)(this.options.account),privateLimit:this.options.privateLimit,canProtectModels:this.options.canProtectModels,account:this.options.account}]);return e}})},247:function(e,t,n){"use strict";var o=n(1),i=n(3),r=n.n(i),a=n(201),s=n(175),l=n(0),c=n(24),u=a.a.extend({displayName:"FormToggleList",optionTypes:{name:l.b.string.isRequired,model:l.b.model.isRequired,maxSize:l.b.number,confirm:l.b.shape({name:l.b.string.isRequired,opt:l.b.object.isRequired})},defaultOptions:{maxSize:1/0},events:{"click [data-value]":function(){},"click .item":function(e){e.preventDefault(),s.a.confirm(this.options.confirm).then(function(){var t=r()(e.currentTarget),n=this.model.get(this.options.name)||[],i=t.data("value");Object(o.includes)(n,i)?this.model.set(this.options.name,n.filter(function(e){return e!==i})):n.length<this.options.maxSize&&this.model.set(this.options.name,n.concat(i))}.bind(this)).catch(Object(c.g)(c.e))}}}),d=n(170);t.a=d.a.extend({displayName:"FormMenuToggleList",initialize:function(){d.a.prototype.initialize.apply(this,arguments),this.toggleList=new u(Object(o.extend)({},this.options,{el:this.$el}))},render:function(){this.toggleList.render()}})},248:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(3),a=n.n(r),s=n(5),l=n.n(s),c=n(15),u=n(14),d=n(67),p=n(113),m=n(23),f=n(6),h=n(0),g=n(24),b=u.a.extend({displayName:"Flag",optionTypes:{type:h.b.oneOf(["pro","prem","biz","ent","staff","master","error","info","staffpicked","restricted","new","beta"]).isRequired,text:h.b.string,className:h.b.string,href:h.b.string},defaultOptions:{className:""},template:function(){return f.default.getFromString('\n            {% if href %}<a href="{{ href }}">{% endif %}\n                <span class="flag --{{ type }} {{ className }}">\n                    <span class="flag__text">{{ text or type }}</span>\n                </span>\n            {% if href %}</a>{% endif %}\n            ',this.options)}}),v=n(251),k=n(250),w=n(49),y=n(237),C=n(221),_=n(249),O=n(7),L=n(61),x=n(32),S=n(30),F=n(16),E=n(57),P=n(104),j=n(153),R=(n(150),u.a.extend({optionTypes:{model:h.b.shape({name:h.b.string.isRequired,thumbnails:h.b.object.isRequired}).isRequired},template:function(){return f.default.getFromString('\n            {% from \'skfb_front/macros/model.jinja\' import model_name %}\n            <div class="c-duplicate-model-container__loading-popup">\n                {{ components.spinner | component }}\n                {{ model.thumbnails | image_container(100, 100 * 9 / 16) }}\n                {{ model_name(authUser, model, {\n                    "withStaffpickFlag" : false,\n                    "withRestrictedFlag" : false,\n                    "withStaffpickLink" : false\n                }) }}\n            </div>\n            ',{authUser:O.a.me().toJSON(),model:this.options.model,components:this.createChildrenComponents({spinner:{viewClass:j.a}})})}})),T=u.a.extend({displayName:"DuplicateModelContainer",optionTypes:{model:h.b.shape({name:h.b.string.isRequired,uid:h.b.string.isRequired}).isRequired,render:h.b.func.isRequired,className:h.b.string},initialize:function(){u.a.prototype.initialize.apply(this,arguments),this.onDuplicate=x.e(this.onDuplicate.bind(this))},canDuplicate:function(){return Object(L.f)(O.a.me().toJSON(),"pro")},onDuplicate:function(){var e=this;return this.canDuplicate()?F.b.duplicateModel(this.options.model.uid).then(function(t){var n=t.model.uid;return e.openLoadingPopup(),e.pollDuplicatedModelStatus(n).then(function(){e.closeLoadingPopup(),e.openDuplicationSucceededPopup(n)}).catch(function(){e.closeLoadingPopup(),e.openDuplicationFailedPopup()})}).catch(function(t){return console.error(t),e.openDuplicationFailedPopup()}):l.a.resolve()},pollDuplicatedModelStatus:function(e){var t=this;return F.b.getModelStatus(e).then(function(n){return["FAILED","SUCCEEDED"].includes(n.processing)?"FAILED"===n.processing?l.a.reject(n.processing):l.a.resolve(n.processing):l.a.delay(2e3).then(function(){return t.pollDuplicatedModelStatus(e)})})},openLoadingPopup:function(){return this.loadingPopup=new P.a({title:"Your model is being duplicated.",children:{viewClass:R,options:{model:this.options.model}}}),this.loadingPopup.open()},closeLoadingPopup:function(){this.loadingPopup.close()},openDuplicationFailedPopup:function(){var e=this;return new P.a({title:"Duplication failed",html:"\n                <p>The duplication of your model <strong>failed</strong>.</p>\n            ",width:560,renderButtons:function(e){return[{viewClass:E.a,options:{text:"cancel",key:"cancel",type:"tertiary",onClick:function(){return e.cancel()}}},{viewClass:E.a,options:{text:"retry",key:"retry",type:"primary",onClick:function(){return e.continue()}}}]}}).open().then(function(){return e.onDuplicate()}).catch(Object(g.g)(g.e))},openDuplicationSucceededPopup:function(e){return new P.a({title:"Model Duplicated",html:"\n                <p>\n                    <span>Your model </span>\n                    <strong>“".concat(this.options.model.name,"”</strong>\n                    <span> has been succesfully duplicated!</span>\n                </p>\n            "),width:560,renderButtons:function(e){return[{viewClass:E.a,options:{type:"tertiary",text:"close",key:"cancel",onClick:function(){return e.cancel()}}},{viewClass:E.a,options:{type:"primary",text:"go to the duplicated model",key:"continue",onClick:function(){return e.continue()}}}]}}).open().then(function(){window.location=Object(S.e)("models:view_without_slug",{model_id:e})}).catch(Object(g.g)(g.e))},template:function(){return f.default.getFromString("{{ components.child | component(options.className) }}",{options:this.options,components:this.createChildrenComponents({child:this.options.render({canDuplicate:this.canDuplicate(),onDuplicate:this.onDuplicate.bind(this)})})})}}),M=u.a.extend({optionTypes:{text:h.b.string.isRequired,canDuplicate:h.b.bool.isRequired,onClick:h.b.func.isRequired},events:{click:function(){this.options.onClick()}},template:function(){return f.default.getFromString('\n            <div class="hover-menu__inline">\n                <span class="{{ \'disabled\' if not canDuplicate }}">{{ text }}</span>\n                {% if not canDuplicate %}\n                    {{ components.flag | component }}\n                {% endif %}\n            </div>\n        ',i()({},this.options,{components:this.createChildrenComponents({flag:{viewClass:b,options:{type:"pro",href:"/plans"}}})}))}});t.a=c.a.extend({displayName:"ModelQuickSettings",optionTypes:{model:h.b.object.isRequired,onDeleteModelSuccess:h.b.func.isRequired,onDeleteModelError:h.b.func.isRequired,onApplySettings:h.b.func,openSettingsPopupTrackerEvent:h.b.string,settings3dButtonActionTrackerEvent:h.b.string},defaultOptions:{onDeleteModelSuccess:function(){},onDeleteModelError:function(){},onApplySettings:void 0},events:{'click [data-action="open-settings-popup"]':"openSettingsPopup",'click [data-action="settings3d-button"]':"settings3dButtonAction",'click [data-action="open-reupload-popup"]':"openReuploadPopup",'click [data-action="delete-model"]':"deleteModel",'click [data-action="report-issue"]':"reportAnIssue",'click [data-action="open-editor-annotations"]':"openAnnotationEditor",'click [data-action="open-collection-popup"]':"openCollectionPopup"},children:{publishButton:{selector:'[data-action="publish"]',viewClass:v.a,shouldCreateChild:function(){return!!this.$('[data-action="publish"]').length},options:function(){return{model:this.model,onSuccess:function(){window.location.reload()}}}},duplicateButton:{selector:".js-duplicate",viewClass:T,shouldCreateChild:function(){return!!this.$(".js-duplicate").length},options:function(){return{model:this.options.model.toJSON(),render:function(e){var t=e.canDuplicate,n=e.onDuplicate;return{viewClass:M,options:{text:"Duplicate",onClick:n,canDuplicate:t}}}}}}},initialize:function(){c.a.prototype.initialize.apply(this,arguments),Object(p.a)()||this.$('[data-action="settings3d-button"]').addClass("disable"),this.initializeChildren()},openSettingsPopup:function(){this.options.openSettingsPopupTrackerEvent&&m.a[this.options.openSettingsPopupTrackerEvent](this.model.get("uid")),new(C.a.extend({onApplySettings:this.options.onApplySettings}))({model:this.model}).open()},openAnnotationEditor:function(){},openReuploadPopup:function(){var e=this;"True"===a()('meta[property="skfb:maintenance"]').attr("content")?this.openMaintenancePopup("Sketchfab is undergoing maintenance. Deleting models is currently disabled."):Object(d.g)().then(function(t){return new t({model:e.model}).open()}).catch(Object(g.g)(g.e))},deleteModel:function(){if("True"===a()('meta[property="skfb:maintenance"]').attr("content"))return this.openMaintenancePopup("Sketchfab is undergoing maintenance. Deleting models is currently disabled."),l.a.reject(new Error);new k.a({model:this.model}).promise.then(this.options.onDeleteModelSuccess).catch(this.options.onDeleteModelError)},reportAnIssue:function(){return new _.a({model:this.model})},settings3dButtonAction:function(e){if(Object(p.a)()&&this.options.settings3dButtonActionTrackerEvent&&m.a.wrapLink(e,m.a[this.options.settings3dButtonActionTrackerEvent](this.model.get("uid"))),!Object(p.a)()){e.preventDefault();var t=new y.a;t.open().then(function(){t.close()})}},openMaintenancePopup:function(e){var t=new w.default({title:"Maintenance",text:e,buttons:{ok:!0}});return t.open().then(function(){t.close()}),t},openCollectionPopup:function(){return m.a.modelCardAddToCollectionButtonClicked(this.model.get("uid")),Object(d.h)(this.options.model)},render:function(){this.renderChildren()}})},249:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(8),a=n(6),s=n(23),l=n(49);n(215);t.a=l.default.extend({template:function(){return a.default.get("skfb_front/popups/message",{title:"Report an issue",text:["<p>Help use improve Sketchfab by telling us what the problem is:</p>",'<span class="form-select">','    <select class="form-input report-form" data-action="on-form-click">','        <option value="default">Please select an issue:</option>','        <option value="animation">Animation</option>','        <option value="transparency">Transparency</option>','        <option value="texture-uv">Textures / UV</option>','        <option value="lighting">Lighting</option>','        <option value="model-orientation">Model orientation</option>','        <option value="face-orientation-normal-double-face">Face orientation / normals / double face</option>','        <option value="incorrect-geometry">Incorrect geometry</option>','        <option value="vertex-color">Vertex color</option>','        <option value="custom">Other</option>',"    </select>","</span>",'<div class="custom-reason cloaked">','    <input class="form-input input custom-reason-form" placeholder="Enter your issue" maxlength="100">',"</div>"].join(" "),buttons:{continue:!0,continueClass:"btn-disabled",cancel:!0},safe:!0,popupClass:"popup-message popup-report"})},events:{"change .report-form":"onReasonChanged","input .custom-reason-form":"onReasonChanged"},initialize:function(){l.default.prototype.initialize.apply(this,arguments);var e=i.a.Deferred(),t=e.promise();return this.open().then(function(){this.close(),e.resolve()}.bind(this),function(){this.close(),e.reject()}.bind(this)),t},continue:function(){var e="https://help.sketchfab.com/hc/requests/new",t=this.$el.find(".report-form").val(),n="";"default"!==t&&("custom"===t&&(n=this.$el.find(".custom-reason-form").val()),e+=r.c.craft("?",{model:this.model.id,status:this.model.get("processingStatus"),reason:t,description:n,utm_source:"website",utm_campaign:"report_form"}),s.a.modelIssueReported(t,this.model.id),this.getPromise().resolve(),window.open(e,"_blank"))},onReasonChanged:function(){this.$el.find(".custom-reason").toggleClass("cloaked","custom"!==this.$el.find(".report-form").val());var e="default"===this.$el.find(".report-form").val()||"custom"===this.$el.find(".report-form").val()&&""===this.$el.find(".custom-reason-form").val();this.$el.find(".submit").toggleClass("btn-disabled",e)}})},25:function(e,t,n){"use strict";var o=n(38),i=n.n(o),r=n(1),a=n(47),s=n.n(a),l=n(80),c=n(99),u=n(8),d=n(0),p=Object(l.a)(["initialize","destroy"])(s.a.Model);t.a=p.extend({optionTypes:{},idAttribute:"uid",backend:c.a,constructor:function(){this.options=arguments[1]||{},p.apply(this,arguments)},initialize:function(){p.prototype.initialize.apply(this,arguments),this.checkModelTypes()},set:function(){return p.prototype.set.apply(this,arguments)},sync:function(){return p.prototype.sync.apply(this,arguments).then(function(){return this}.bind(this))},domain:function(){return Object(r.result)(this.backend,"domain")},queryParams:function(){return{}},url:function(){var e=Object(r.result)(this,"domain")+Object(r.result)(this,"endpoint")+u.c.craft("?",this.queryParams());return e=e.replace(/(?!^)\/{2,}/g,"/")},isNew:function(){var e=this.get(this.idAttribute);return void 0===e||!(!e||"tmp_"!==e.toString().substr(0,4))},checkModelTypes:function(){Object(d.a)(this.optionTypes,this.toJSON(),"value",this.displayName||"Model")}},{extend:function(e,t){var n=Object(r.extend)({},e,{optionTypes:Object(r.extend)({},this.prototype.optionTypes||{},e.optionTypes||{})});return p.extend.call(this,n,t)},get:function(e,t){t=Object(r.extend)({},t),"object"!==i()(e)&&(e={uid:e});var n=new this(e),o=function(e){return e.set({}),e};return t.immediate?(n.fetch(t),o(n)):n.fetch(t).then(o)}})},250:function(e,t,n){"use strict";var o=n(125),i=n.n(o),r=n(5),a=n.n(r),s=n(6),l=n(23),c=n(0),u=n(49);n(215);t.a=u.default.extend({displayName:"DeletePopup",optionTypes:{model:c.b.model.isRequired},template:function(){return s.default.get("skfb_front/popups/message",{safe:!0,title:"Delete model",text:['<p>You are about to delete "'+i.a.sanitize(this.options.model.get("name"))+'" permanently.</p>',"<p>Help us improve Sketchfab by telling us why:</p>",'<span class="form-select">','    <select class="form-input delete-form" data-action="on-form-click">','        <option value="default">Please select an answer:</option>','        <option value="other-version">I have uploaded another version</option>','        <option value="bad-display">The model doesn\'t display correctly</option>','        <option value="no-public">I don\'t want my model to be public</option>','        <option value="test">It was just a test</option>','        <option value="custom">Other</option>',"    </select>","</span>",'<div class="custom-reason cloaked">','    <input class="form-input input custom-reason-form" placeholder="Enter the reason why you delete this model" maxlength="100">',"</div>"].join(" "),buttons:{delete:!0,deleteLabel:"DELETE THIS MODEL",cancel:!0},popupClass:"popup-message popup-delete"})},events:{"change .delete-form":"onReasonChanged"},initialize:function(){u.default.prototype.initialize.apply(this,arguments);var e=new u.default({title:"Error",text:["Sorry, the model could not be deleted.","Please try again later. If the problem persists, contact us."].join(" "),buttons:{ok:!0}});return this.promise=new a.a(function(t,n){this.open().then(function(){this.close(),this.model.destroy({wait:!0}).then(function(){t()},function(){this.replaceWith(e).then(function(){e.close(),n()})}.bind(this))}.bind(this),function(){this.close(),n()}.bind(this))}.bind(this)),this},continue:function(){var e=this.$el.find(".delete-form").val();"custom"===e&&(e=["@"+this.options.model.get("user").username+": ",this.$el.find(".custom-reason-form").val()," ("+this.options.model.get("uid")+")"].join("")),l.a.deleteModelPopupReasonSelected(e),this.getPromise().resolve()},onReasonChanged:function(){this.$container.find(".custom-reason").toggleClass("cloaked","custom"!==this.$el.find(".delete-form").val())}})},251:function(e,t,n){"use strict";var o=n(15),i=n(0),r=n(7),a=n(67);t.a=o.a.extend({displayName:"PublishButton",optionTypes:{onSuccess:i.b.func,onError:i.b.func},defaultOptions:{onSuccess:function(){},onError:function(){}},events:{click:"publish"},state:{enabled:!0},disable:function(){this.setState({enabled:!1})},enable:function(){this.setState({enabled:!0})},publish:function(){var e=this;Object(a.i)(r.a.me(),this.model).then(function(){e.disable(),e.options.onSuccess()}).catch(function(){e.enable(),e.options.onError()})},render:function(){this.$el.toggleClass("disabled btn-disabled",!this.state.enabled).attr("disabled",!this.state.enabled)}})},252:function(e,t,n){"use strict";var o=n(14),i=n(7),r=n(32),a=n(6),s=n(0),l=n(23),c=n(9),u=n(115),d=Object(u.a)(function(e,t){var n=c.c.entities.model(t.model.uid,e);return{doesLike:c.c.authUser.doesLike(t.model.uid,e),likeCount:n?n.likeCount:t.model.likeCount,hasModelEntity:!!n}},{getDoesLike:c.a.authUser.getDoesLike,onToggleLike:c.a.authUser.toggleLikeModel,updateEntities:c.a.entities.update});t.a=d(o.a.extend({displayName:"LikeContainer",optionTypes:{model:s.b.shape({uid:s.b.string.isRequired}).isRequired,render:s.b.func.isRequired,trackerEvent:s.b.string,getDoesLike:s.b.func.isRequired,onToggleLike:s.b.func.isRequired,updateEntities:s.b.func.isRequired,doesLike:s.b.bool.isRequired,likeCount:s.b.number.isRequired,hasModelEntity:s.b.bool.isRequired},initialize:function(){o.a.prototype.initialize.apply(this,arguments),this.onToggleLike=r.e(this.onToggleLike.bind(this))},viewDidMount:function(){this.options.getDoesLike(this.options.model.uid)},onToggleLike:function(){var e=this;return i.a.authenticate(function(){return e.options.hasModelEntity||e.options.updateEntities({models:[e.options.model]}),e.options.onToggleLike(e.options.model.uid).then(function(t){e.options.trackerEvent&&l.a[e.options.trackerEvent](e.options.model.uid,t)})})},template:function(){return a.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:this.options.render({doesLike:this.options.doesLike,onToggleLike:this.onToggleLike,likeCount:this.options.likeCount})})})}}))},262:function(e,t,n){"use strict";n.r(t);var o=n(7),i=n(58),r=n(6),a=n(126),s=n(16);n(493);t.default=i.a.extend({defaultOptions:{cleanOnClose:!1},events:{'click [data-action="cancel"]':"cancel",'click [data-action="validate"]':"sendAccountConfirmationMail","reset form":"cancel","submit form":"continue"},reasons:{publish:"Before publishing your 3D model, you must confirm your e-mail address",upgrade:"Before upgrading, you must confirm your e-mail address",collections:"You must confirm you e-mail address to be able to create collections",invite:"You must confirm you e-mail address to be able to invite friends",download:"You must confirm you e-mail address to be able to download this model"},initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.$container.addClass("popup-email-verification")},template:function(){return r.default.get("skfb_front/popups/email-confirmation",{reason:this.reasons[this.options.reason],email:o.a.me().get("email")})},sendAccountConfirmationMail:function(){s.b.sendAccountConfirmationMail({after:this.options.noAfter?null:window.location.href}).then(function(){new a.a({content:"A confirmation email has been sent to "+o.a.me().get("email"),class:"success",delay:5e3})}).catch(function(){new a.a({content:'The confirmation email could not be sent.<br/>Please <a href="https://help.sketchfab.com/hc/en-us/requests/new?type=accounts_general&utm_source=website&utm_campaign=email-confirmation-error" target="_blank">contact us</a> if the problem persists.',class:"error",delay:5e3})}),this.continue()}})},264:function(e,t,n){"use strict";var o=n(103),i=n.n(o),r=n(12),a=n.n(r),s=n(26),l=n.n(s),c=(n(0),n(231)),u=function(e){var t=e.thumbnails,n=e.ref,o=e.width,i=void 0===o?500:o,r=e.height,s=void 0===r?281.25:r,u=e.deferImages,d=void 0===u||u,p=e.className,m=void 0===p?"":p,f=e.alt,h=void 0===f?"":f;return l.a.createElement("div",{ref:n,className:"card-thumbnail ".concat(m)},a()("div",{className:"card-thumbnail__before",style:{paddingTop:"".concat(s/i*100,"%")}}),a()("div",{className:"card-thumbnail__img"},void 0,a()(c.a,{alt:h,images:t,width:i,height:s,deferImages:d})))};t.a=Object(s.forwardRef)(function(e,t){return l.a.createElement(u,i()({},e,{ref:t}))})},265:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var o=n(40),i=n.n(o),r=n(53),a=n.n(r),s=n(55),l=n.n(s),c=n(52),u=n.n(c),d=n(43),p=n.n(d),m=n(54),f=n.n(m),h=n(4),g=n.n(h),b=n(26),v=n.n(b),k=(n(0),function(e){function t(){var e,n;i()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),g()(p()(n),"state",{isMounted:!1}),n}return f()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){return this.state.isMounted&&this.props.children()||null}}]),t}(v.a.Component))},27:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"n",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"o",function(){return v}),n.d(t,"a",function(){return k}),n.d(t,"p",function(){return w}),n.d(t,"j",function(){return y}),n.d(t,"d",function(){return C});var o=n(1),i=n(18),r=n(31),a=n(5),s=function(e){var t=e.getBoundingClientRect(),n=t.left+t.width/2,o=t.top+t.height/2,i=(window.innerHeight||document.documentElement.clientHeight)/2;return n-(window.innerWidth||document.documentElement.clientWidth)/2+(o-i)},l=function(e){var t=e.getBoundingClientRect();return t.top>=0-t.height&&t.left>=0&&t.bottom<=window.innerHeight+t.height&&t.right<=window.innerWidth},c=function e(t,n){return null!==n.parentNode&&(n.parentNode===t||e(t,n.parentNode))},u=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft,width:t.width,height:t.height}},d=function(e){var t=e.getBoundingClientRect(),n=document.body,o=document.documentElement,i=window.pageYOffset||o.scrollTop||n.scrollTop,r=window.pageXOffset||o.scrollLeft||n.scrollLeft,a=o.clientTop||n.clientTop||0,s=o.clientLeft||n.clientLeft||0,l=Math.round(t.top+i-a),c=Math.round(t.left+r-s);return{top:l,left:c,bottom:l+t.height,right:c+t.width}},p=function(e){return new a(function(t,n){var o=new Image;o.onload=function(){return t(o)},o.onerror=n,o.src=e,o.complete&&t(o)})},m=function(e){return p(e).catch(i.d)},f=function(e){var t=new Image;return t.src=e,t.complete&&0!==t.naturalHeight},h=function(e,t,n){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");return o.setAttribute("width",t),o.setAttribute("height",n),o.innerHTML='\n        <foreignObject\n            x="0"\n            y="0"\n            width="'.concat(t,'"\n            height="').concat(n,'">\n            <div xmlns="http://www.w3.org/1999/xhtml">\n                ').concat(e,"\n            </div>\n        </foreignObject>\n    "),o},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n=document.createElement("canvas");n.setAttribute("width","".concat(2*e.width)),n.setAttribute("height","".concat(2*e.height));var o=n.getContext("2d");return o.scale(2,2),o.fillStyle="#fff",o.fillRect(0,0,n.width,n.height),o.drawImage(e,0,0),n.toDataURL(t)},b=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).margin;return"IntersectionObserver"in window?function(e,t,n){var o=!1,i=new IntersectionObserver(function(e){e.forEach(function(e){var n=e.intersectionRatio>0;n!==o&&t(n),o=n})},{threshold:[0,1],rootMargin:"".concat(n,"px")});return i.observe(e),function(){return i.unobserve(e)}}(e,t,void 0===n?20:n):function(e){return setTimeout(function(){return e(!0)}),function(){}}(t)},v=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string";if(!(t=document.getElementById("js-dom-data-"+e)))return null;if(n=t.childNodes[0].textContent.slice(10,-2).trim(),n=Object(r.decodeHTMLEntities)(n),"json"===o)try{return JSON.parse(n)}catch(e){console.warn("Failed to JSON decode DOM data."),console.warn(e)}return n},k=function(e,t,n,i){Object(o.isFunction)(e.on)?e.on(t,n):Object(o.isFunction)(e.addEventListener)&&e.addEventListener(t,n,i)},w=function(e,t,n,i){Object(o.isFunction)(e.off)?e.off(t,n):Object(o.isFunction)(e.removeEventListener)&&e.removeEventListener(t,n,i)},y=Object(o.memoize)(function(){return!0===window.__IS_JSDOM__}),C=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}},289:function(e,t){},29:function(e,t,n){"use strict";var o=n(28),i=n.n(o),r=n(1),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.expires,r=void 0===o?31536e6:o,a=n.domain,s=void 0===a?"":a,l=n.path,c=void 0===l?"/":l,u=r instanceof Date?r:new Date(Date.now()+r);return["".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t)),"expires=".concat(u.toUTCString())].concat(i()(s?["domain=".concat(s)]:[]),["path=".concat(c),"secure"]).join(";")};t.a={remove:function(e,t){document.cookie=a(e,"",Object(r.extend)({},t,{expires:new Date("01/01/1970 00:00+0000")}))},get:function(e,t){var n;try{n=function(e){return e.split(/; */g).reduce(function(e,t){var n=t.indexOf("="),o=decodeURIComponent(t.substr(0,n)),i=decodeURIComponent(t.substr(n+1));return e[o]=i,e},{})}(document.cookie)[e]}catch(e){console.warn("The cookies could not be read, most likely due to sandboxing issues.")}return void 0===n?t:n},set:function(e,t,n){try{document.cookie=a(e,t,n)}catch(e){console.warn("The cookies could not be set, most likely due to sandboxing issues.")}}}},292:function(e,t,n){"use strict";var o=n(38),i=n.n(o);t.a=function e(t,n){var o,r,a=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,s=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,u=/^0/,d=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},p=d(t).slice(0,50).replace(s,"")||"",m=d(n).slice(0,50).replace(s,"")||"",f=p.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=m.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=parseInt(p.match(c))||1!==f.length&&p.match(l)&&Date.parse(p),b=parseInt(m.match(c))||g&&m.match(l)&&Date.parse(m)||null;if(b){if(g<b)return-1;if(g>b)return 1}for(var v=0,k=Math.max(f.length,h.length);v<k;v++){if(o=!(f[v]||"").match(u)&&parseFloat(f[v])||f[v]||0,r=!(h[v]||"").match(u)&&parseFloat(h[v])||h[v]||0,isNaN(o)!==isNaN(r))return isNaN(o)?1:-1;if(i()(o)!==i()(r)&&(o+="",r+=""),o<r)return-1;if(o>r)return 1}return 0}},295:function(e,t,n){"use strict";n.r(t);var o=n(172),i=n(6),r=n(23),a=n(313);n(556);t.default=a.a.extend({template:function(){return i.default.get("skfb_front/popups/share-after-publish",{model:this.model.toJSON(),mailto:this.getMailto(),sharingMode:this.sharingMode})},getMailto:function(){var e='"'+this.model.get("name")+'" is on Sketchfab',t=["I just uploaded this model to Sketchfab. Check it out:","\n",this.model.get("name"),"\n",this.model.get("viewerUrl")+"?utm_source=email&utm_medium=email&utm_campaign=model-shared"].join("");return"mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(t)},shareOnFacebook:function(){r.a.shareButtonClicked("shareAfterPublish","facebookShareButtonClicked",this.model.get("uid")),o.default.prototype.shareOnFacebook.apply(this,arguments)},shareOnTwitter:function(){r.a.shareButtonClicked("shareAfterPublish","twitterShareButtonClicked",this.model.get("uid")),o.default.prototype.shareOnTwitter.apply(this,arguments)},shareOnPinterest:function(){r.a.shareButtonClicked("shareAfterPublish","pinterestShareButtonClicked",this.model.get("uid")),o.default.prototype.shareOnPinterest.apply(this,arguments)},shareOnReddit:function(){r.a.shareButtonClicked("shareAfterPublish","redditShareButtonClicked",this.model.get("uid")),o.default.prototype.shareOnReddit.apply(this,arguments)},shareOnTumblr:function(){r.a.shareButtonClicked("shareAfterPublish","tumblrShareButtonClicked",this.model.get("uid")),o.default.prototype.shareOnTumblr.apply(this,arguments)},shareOnLinkedin:function(){r.a.shareButtonClicked("shareAfterPublish","linkedinShareButtonClicked",this.model.get("uid")),o.default.prototype.shareOnLinkedin.apply(this,arguments)}})},297:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(51),a=n(6),s=n(0),l=n(333);n(561);t.a=r.a.extend({displayName:"LabelInput",optionTypes:{value:s.b.string.isRequired,onChange:s.b.func.isRequired,label:s.b.string,error:s.b.string,attrs:s.b.object},defaultOptions:{attrs:{}},template:function(){var e=this.options.isTouched&&!!this.options.error;return a.default.getFromMacro("skfb_front/macros/components/molecules/label-input","label_input",[{label:this.options.label,error:e?this.options.error:"",components:this.createChildrenComponents({input:{viewClass:l.a,options:i()({},this.options,{attrs:i()({},this.options.attrs,{classNames:i()({"form-input input c-label-input__input":!0,"--error":e},this.options.attrs.classNames)})})}})}])}})},30:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(2),a=n.n(r),s=n(39),l=n.n(s),c=n(87),u=n.n(c),d=n(5),p=n(10),m=n(28),f=n.n(m),h=n(38),g=n.n(h),b=n(1);var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return new RegExp(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.reduceRight(function(e,t,o){var i=n[o-1]||"";return"".concat(i).concat(function(e){return e.replace(/\\?\//g,"\\/")}(t)).concat(e)},"")}.apply(void 0,[t].concat(f()(function e(t){return t.map(function(t){if(!t)return"";if(Object(b.isRegExp)(t))return function(e){return"".concat(e).slice(1).replace(/\/([gmiyus]){0,6}$/,"")}(t);if(Array.isArray(t))return e(t).join("");if("string"==typeof t)return function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}(t);throw new Error('parseRegExpItems error: unsupported param "'.concat(t,'" of type "').concat(g()(t),'"'))})}(o)))),e)}},k=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(e){return"string"==typeof e}(e)?v(e):v().apply(void 0,[e].concat(n))},w=n(71);function y(){var e=u()(["^(?:/)?","(?:",")?$"]);return y=function(){return e},e}function C(){var e=u()(["(",")"]);return C=function(){return e},e}function _(){var e=u()(["",""]);return _=function(){return e},e}function O(){var e=u()(["<",">"]);return O=function(){return e},e}function L(){var e=u()(["(","):(",")"]);return L=function(){return e},e}n.d(t,"a",function(){return j}),n.d(t,"e",function(){return N}),n.d(t,"d",function(){return A}),n.d(t,"b",function(){return U}),n.d(t,"c",function(){return V});var x=/[-_a-z0-9]+/,S=/\?[^\s]+/,F=k("i")(L(),x,x),E=k("gi")(O(),F),P={int:/[0-9]+/,str:/[^/]+/,uid:/[a-f0-9]{32}|[a-zA-Z0-9]{24,27}/,username:/[a-zA-Z0-9._-]{2,}/,slug:/[-a-zA-Z0-9_]+/,path:/.+/},j=function(e){return e.replace(/^[^/]/,function(e){return"/".concat(e)})},R=function(e){var t=e.split(/<|>/).map(function(e,t){if(!(t%2))return k(_(),e);var n=e.match(F),o=l()(n,2)[1];return k(C(),P[o])});return k(y(),t,S)},T=function(e){return e.split(/<|>/).filter(function(e,t){return t%2}).map(function(e){var t=e.match(F);return l()(t,3)[2]})},M=function(e,t){var n=t.match(R(e));if(!n)return null;var o=T(e);return n.slice(1).reduce(function(e,t,n){return a()({},e,i()({},o[n],t))},{})},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===p.a.routes[e])return console.error('Routing.url error: Named route "'.concat(e,"\" doesn't exist.")),"";var n=T(p.a.routes[e]).sort().join(", "),o=Object.keys(t).sort().join(", ");return o!==n?(console.error('\n            Routing.url error: Wrong params for route "'.concat(e,'".\n            Expected "').concat(n,'", but received "').concat(o,'".\n        ')),""):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(e.replace(E,function(e){var n=e.match(F),o=l()(n,3)[2];return t[o]||""}))}(p.a.routes[e],t)},A=function(e,t){return void 0===p.a.routes[e]?(console.error('Routing.match error: Named route "'.concat(e,"\" doesn't exist.")),null):M(p.a.routes[e],t)},D=function(e){return function(t,n){return w.b.replace(function(){if(!n.isInit)return window.location.reload();var o=d.resolve(e(t));return{onStartHandling:function(){o.then(function(e){return e.setOptions({isCurrentRoute:!0})})},onStopHandling:function(){o.then(function(e){return e.setOptions({isCurrentRoute:!1})})},onUpdate:function(){return!0},onRemove:function(){}}})}},U=function(e,t){var n="string"==typeof e?[e]:e;return{name:n.join(","),test:function(e){return n.map(function(t){return A(t,e)}).filter(Boolean)[0]},handler:D(t)}},V=function(e,t){return{name:e,test:function(t){return M(e,t)},handler:D(t)}}},31:function(e,t,n){"use strict";n.r(t),n.d(t,"underscorify",function(){return p}),n.d(t,"slugify",function(){return m}),n.d(t,"escapeHTML",function(){return k}),n.d(t,"decodeHTMLEntities",function(){return w}),n.d(t,"urlize",function(){return y}),n.d(t,"stripTags",function(){return C}),n.d(t,"sanitize",function(){return _}),n.d(t,"paragraphy",function(){return O}),n.d(t,"pluralize",function(){return L}),n.d(t,"findWithDelimiters",function(){return x}),n.d(t,"kebabToCamelCase",function(){return S}),n.d(t,"camelToKebabCase",function(){return F}),n.d(t,"escapeRegExp",function(){return E}),n.d(t,"snakeToCamelCase",function(){return P}),n.d(t,"camelToSnakeCase",function(){return j}),n.d(t,"rangeToString",function(){return R}),n.d(t,"stringToRange",function(){return T}),n.d(t,"normalizePath",function(){return M}),n.d(t,"formatOrderUid",function(){return N});var o=n(3),i=n.n(o),r=n(125),a=n.n(r),s=n(1),l=/(\s|^)\S+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+(\s|$)/g,c=/(\s|^)(https?:\/\/)?(?:(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?(?=(\s|$))/g,u=/(\s|^)(@[a-zA-Z0-9._-]{2,30})/g,d=new RegExp("sketchfab.com");function p(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function m(e){return e.replace(/[^\w\s-]+/g,"").trim().toLowerCase().replace(/[-\s]+/g,"-")}var f=function(e,t){var n=t.replace(/^(https?:\/\/)?(www\.)?/,"");return e&&n.length<=e?n.substr(0,e)+"...":n},h=function(e){return e.match(/^(@[a-zA-Z0-9._-]{2,30})/)[0]},g=function(e){var t=e.split(/^(@[a-zA-Z0-9._-]{2,30})/);return t.length>3?t.join(""):t[1]+"</a>"+t[2]},b=function(e){return e.match(/^https?:\/\//)?e:"http://"+e},v=function(e,t){var n=e.match(/^\s/),o=e.match(/\s$/);return(n?n[0]:"")+t+(o?o[0]:"")};function k(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\\/g,"")}function w(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trimUrlLimit,o=t.target,i=t.noFollow,r=void 0===i||i;e=k(e);var a=o?' target="'+o+'"':"",s=["noopener","noreferrer"].concat(r?["nofollow"]:[]);return e.replace(c,function(e){var t=e.trim(),o=d.test(t)?s.slice(0,-1).join(" "):s.join(" ");return v(e,'<a href="'+b(t)+'" rel="'+o+'"'+a+">"+f(n,t)+"</a>")}).replace(l,function(e){var t=e.trim();return v(e,'<a href="mailto:'+t+'">'+t+"</a>")}).replace(u,function(e){var t=e.trim();return(e.match(/^\s/)?" ":"")+'<a href="'+window.location.origin+"/"+h(t).substring(1)+'" rel="'+s.join(" ")+'">'+g(t)})}function C(e){return a.a.sanitize(e,{ALLOWED_TAGS:[]})}function _(e){return i()("<div/>").html(a.a.sanitize(e,{ALLOWED_TAGS:[]}).trim()).text()}function O(e){var t=e.match(/.+/g);return t?t.map(function(e){return"<p>"+e+"</p>"}).join(""):e}function L(e,t,n){return void 0===t&&(t=""),void 0===n&&(n="s"),1===e?t:n}function x(e,t,n){return e.split(t).pop().split(n)[0]}function S(e){return e.replace(/-./g,function(e){return e.toUpperCase().replace("-","")})}function F(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function E(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function P(e){return e.replace(/_./g,function(e){return e.toUpperCase().replace("_","")})}function j(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})}function R(e){return e.start+".."+e.end}function T(e){var t=e.split("..");return{start:parseFloat(t[0]||0),end:parseFloat(t[1]||0)}}function M(e){return e.split("/").reduce(function(e,t){return t?"."===t?e:".."===t&&e.length?Object(s.dropRight)(e,1):e.concat(t):e},[]).join("/")+("/"===Object(s.last)(e)?"/":"")}var N=function(e){return"#".concat(e.substring(0,6))}},312:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(2),a=n.n(r),s=n(51),l=n(0),c=n(6);n(521);t.a=s.a.extend({displayName:"Select",optionTypes:{options:l.b.arrayOf(l.b.shape({title:l.b.string.isRequired,value:l.b.string.isRequired,default:l.b.bool}).isRequired).isRequired,value:l.b.string.isRequired,placeholder:l.b.string,onChange:l.b.func.isRequired,onBlur:l.b.func,onFocus:l.b.func,className:l.b.string,attrs:l.b.object,style:l.b.object,hasError:l.b.bool,isTouched:l.b.bool,disabled:l.b.bool,grey:l.b.bool},defaultOptions:{className:"form-select",hasError:!1,isTouched:!1,disabled:!1,grey:!1,attrs:{},style:{},onBlur:function(){},onFocus:function(){}},events:{'change [data-ref="select"]':function(e){this.options.onChange(e.target.value)},'blur [data-ref="select"]':function(e){this.options.onBlur(e)},'focus [data-ref="select"]':function(e){this.options.onFocus(e)}},template:function(){var e,t=a()({},this.options.attrs,{classNames:a()({},this.options.attrs.classNames,(e={},i()(e,this.options.className,!0),i()(e,"invalid",this.options.hasError&&this.options.isTouched),i()(e,"disabled",this.options.disabled),i()(e,"--grey",this.options.grey),e)),style:a()({},this.options.style,this.options.attrs.style)});return c.default.getFromMacro("skfb_front/macros/components/atoms/select","select",[a()({},this.options,{attrs:t})])}})},313:function(e,t,n){"use strict";var o=n(110),i=n(65),r=n(67),a=n(172),s=n(6),l=n(23),c=n(58),u=n(242),d=n(159),p=n(24);n(523);t.a=c.a.extend({template:function(){return s.default.get("skfb_front/popups/share",{model:this.model.toJSON(),mailto:this.getMailto(),sharingMode:this.sharingMode})},events:{"click .link-share button":"copyToClipboard",'click [data-action="share-on-facebook"]':"shareOnFacebook",'click [data-action="share-on-linkedin"]':"shareOnLinkedin",'click [data-action="share-on-pinterest"]':"shareOnPinterest",'click [data-action="share-on-reddit"]':"shareOnReddit",'click [data-action="share-on-tumblr"]':"shareOnTumblr",'click [data-action="share-on-twitter"]':"shareOnTwitter",'click [data-action="open-embed-popup"]':"openEmbedPopup"},initialize:function(){this.sharingMode=0,this.model instanceof i.a?this.sharingMode=1:this.model instanceof o.a&&(this.sharingMode=2),c.a.prototype.initialize.apply(this,arguments),this.model.on("change:sharing",this.setShortUrl,this),u.a.getSDK(),this.model.sharing().then(function(){this.setIsReady()}.bind(this))},open:function(){var e=this;return this.clipboard||n.e(36).then(n.t.bind(null,490,7)).then(function(t){e.clipboard=new t.default(e.$(".link-share button")[0]),e.listenClipboard.call(e),"function"==typeof e.callAfterClipboardLoaded&&e.callAfterClipboardLoaded()}),c.a.prototype.open.apply(this,arguments)},setIsReady:function(){this.setIsLoading(!1),this.$el.find(".directlink").select()},setShortUrl:function(){this.$el.find(".directlink").val(this.model.get("sharing").shortUrl)},getMailto:function(){return d.a.getMailTo({modelName:this.model.get("name"),userName:this.model.get("user").displayName,isCollectionMode:2===this.sharingMode,url:this.model.get(2===this.sharingMode?"collectionUrl":"viewerUrl")})},listenClipboard:function(){this.clipboard.on("success",function(){this.$el.find(".copy-button").text("Copied to clipboard!")}.bind(this)),this.clipboard.on("error",function(){this.$el.find(".copy-button").text("Could not copy")}.bind(this))},copyToClipboard:function(){this.clipboard||(this.callAfterClipboardLoaded=this.copyToClipboard)},shareOnFacebook:function(){l.a.shareButtonClicked("sharePopup","facebookShareButtonClicked",this.model.get("uid")),a.default.prototype.shareOnFacebook.apply(this,arguments)},shareOnTwitter:function(){l.a.shareButtonClicked("sharePopup","twitterShareButtonClicked",this.model.get("uid")),a.default.prototype.shareOnTwitter.apply(this,arguments)},shareOnPinterest:function(){l.a.shareButtonClicked("sharePopup","pinterestShareButtonClicked",this.model.get("uid")),a.default.prototype.shareOnPinterest.apply(this,arguments)},shareOnReddit:function(){l.a.shareButtonClicked("sharePopup","redditShareButtonClicked",this.model.get("uid")),a.default.prototype.shareOnReddit.apply(this,arguments)},shareOnTumblr:function(){l.a.shareButtonClicked("sharePopup","tumblrShareButtonClicked",this.model.get("uid")),a.default.prototype.shareOnTumblr.apply(this,arguments)},shareOnLinkedin:function(){l.a.shareButtonClicked("sharePopup","linkedinShareButtonClicked",this.model.get("uid")),a.default.prototype.shareOnLinkedin.apply(this,arguments)},openEmbedPopup:function(e){var t=this;switch(e.preventDefault(),e.stopPropagation(),l.a.shareButtonClicked("sharePopup","embedButtonClicked",this.model.get("uid")),this.sharingMode){case 1:Object(r.d)().then(function(e){return new e({model:t.model}).open()}).catch(Object(p.g)(p.e));break;case 2:Object(r.a)().then(function(e){return new e({model:t.model}).open()}).catch(Object(p.g)(p.e))}}})},314:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=(n(26),n(0),n(216)),a=i()("i",{className:"model-name__icon fa fa-lock --protected"}),s=i()("i",{className:"model-name__icon custom-icons icon-private --private"});t.a=function(e){var t=e.model,n=e.target,o=void 0===n?"":n,l=e.clickable,c=void 0===l||l;return i()("span",{className:"model-name"},void 0,t.isProtected?a:t.isPrivate?s:null,c?i()(r.b,{shouldOpenPopup:t.isPublished,className:"model-name__label",href:t.viewerUrl,target:o,title:t.name},void 0,t.name):i()("span",{className:"model-name__label"},void 0,t.name))}},315:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=n(26),a=n.n(r),s=(n(0),n(30)),l=i()("meta",{itemProp:"award",content:"Staff Pick"}),c=i()("meta",{itemProp:"award",content:"Staff Pick"}),u=i()("a",{href:"https://help.sketchfab.com/hc/en-us/articles/214867883-Age-Restricted-Content",target:"_blank",rel:"noopener noreferrer",className:"flag --restricted",title:"Age-restricted content"});t.a=function(e){var t=e.model,n=e.withStaffpickFlag,o=void 0===n||n,r=e.withStaffpickLink,d=void 0!==r&&r,p=e.withRestrictedFlag,m=void 0===p||p,f=e.displayRecentlyStaffpicked,h=void 0!==f&&f&&t.recentlyStaffpicked,g=t.isRestricted||t.isAdult;return i()(a.a.Fragment,{},void 0,d&&t.staffpickedAt?i()(a.a.Fragment,{},void 0,l,i()("a",{href:Object(s.e)("models:staffpicks"),className:"flag --staffpicked",title:"See all staff picks"})):o&&t.staffpickedAt?i()(a.a.Fragment,{},void 0,c,i()("span",{className:"flag --staffpicked ".concat(h?"--with-text":""),title:"Staff Picks"})):null,m&&g&&u)}},32:function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return g});n(39);var o=n(28),i=n.n(o),r=n(1),a=n(5),s=n.n(a),l=n(75),c=n(19),u=n(24);function d(e){return!!e&&"function"==typeof e.then}function p(e,t,n){var o=Object(r.extend)({interval:1e3,prevInterval:1e3},Object(c.b)(n));return t().catch(function(n){var i="function"==typeof o.interval?o.interval(o.prevInterval):o.interval;return e>0?s.a.delay(i).then(function(){return p(e-1,t,Object(r.extend)({},o,{prevInterval:i}))}):s.a.reject(n)})}var m=function(e){var t;return function(){return t||(t=e.apply(void 0,arguments)).then(function(e){return t=void 0,e}).catch(function(e){throw t=void 0,e})}},f=function(e){var t,n=new s.a(function(n,o){t=o,e.then(n).catch(o)});return n.cancel=function(){return t(new u.a)},n},h=function(e){var t;return function(){return t&&t.cancel(),(t=f(e.apply(void 0,arguments))).then(function(e){return t=void 0,e}).catch(function(e){throw t=void 0,e})}},g=function(e,t){var n=new l.a,o=Object(r.debounce)(function(t){var o=e.apply(void 0,i()(t));n.resolve(o),n=new l.a},t),a=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o(t),n};return a.cancel=function(){return o.cancel()},a}},322:function(e,t,n){"use strict";function o(){var e;try{if(!(e=window.location!==window.parent.location?document.referrer:document.location.href))throw new Error("url is not defined")}catch(t){e=document.referrer}var t=document.createElement("a");return t.href=e,t}function i(){return o().hostname.replace(/^www\./,"")}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i})},323:function(e,t,n){"use strict";var o=n(2),i=n.n(o);t.a={setCustomData:function(e){window.adroll_custom_data=e},setStoreProductId:function(e){return this.setCustomData(e)},recordUser:function(e){return void 0===window.adroll_adv_id?void 0:window.__adroll.record_user(e)},recordAddToCart:function(e){return this.recordUser(i()({product_action:"AddToCart"},e))}}},326:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var o=n(2),i=n.n(o),r=n(39),a=n.n(r),s=n(75),l=n(18),c=[0,0];var u=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.initialValue,r=void 0===i?0:i,s=o.stiffness,u=void 0===s?130:s,d=o.damping,p=void 0===d?18:d,m=o.onComplete,f=void 0===m?function(){}:m,h=r,g=0;return function(o){t=o,void 0===h&&(h=o),n&&n();var i=!0,r=Object(l.e)(function(){var n=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:170,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.016,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.01,s=t+(-o*(e-n)+-i*t)*r,l=e+s*r;return Math.abs(s)<a&&Math.abs(l-n)<a?(c[0]=n,c[1]=0,c):(c[0]=l,c[1]=s,c)}(h,g,t,u,p),o=a()(n,2);h=o[0],g=o[1],e(h,g),0!==g&&i&&r(),0===g&&f(h)});r(),n=function(){i=!1}}},d=function(e,t){var n=new s.a,o=u(e,i()({},t,{onComplete:function(e){n.resolve(e),n=new s.a}}));return function(e){return o(e),n}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9;return e*t/(1-t)}},333:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(2),a=n.n(r),s=n(51),l=n(0),c=n(6);t.a=s.a.extend({displayName:"Input",optionTypes:{value:l.b.string.isRequired,onChange:l.b.func.isRequired,onBlur:l.b.func,onFocus:l.b.func,onKeyUp:l.b.func,onKeyDown:l.b.func,placeholder:l.b.string,type:l.b.string,className:l.b.string,grey:l.b.bool,attrs:l.b.object,style:l.b.object,hasError:l.b.bool,isTouched:l.b.bool,disabled:l.b.bool,autofocus:l.b.bool},defaultOptions:{className:"form-input",grey:!1,hasError:!1,isTouched:!1,disabled:!1,autofocus:!1,type:"text",attrs:{},style:{},onBlur:function(){},onFocus:function(){},onKeyUp:function(){},onKeyDown:function(){}},events:{'input [data-ref="input"]':function(e){this.options.onChange(e.target.value)},'blur [data-ref="input"]':function(e){this.options.onBlur(e)},'focus [data-ref="input"]':function(e){this.options.onFocus(e)},'keyup [data-ref="input"]':function(e){this.options.onKeyUp(e)},'keydown [data-ref="input"]':function(e){this.options.onKeyDown(e)}},viewDidMount:function(){this.options.autofocus&&this.refs.$input.focus()},template:function(){var e,t=a()({},this.options.attrs,{classNames:a()({},this.options.attrs.classNames,(e={},i()(e,this.options.className,!0),i()(e,"--grey",this.options.grey),i()(e,"invalid",this.options.hasError&&this.options.isTouched),e)),style:a()({},this.options.style,this.options.attrs.style),value:this.options.value,placeholder:this.options.placeholder,dataRef:"input",type:this.options.type},this.options.autofocus?{autofocus:!0}:{});return this.options.disabled&&(t.disabled=!0),c.default.getFromString('<input ref="input" {{ attrs | attributes }} />',{attrs:t})}})},334:function(e,t,n){"use strict";var o=n(1),i=n(5),r=n.n(i);t.a={track:function(e,t){var n=this;return void 0===window.fbq?new r.a(function(o,i){var r=16,a=setInterval(function(){window.fbq&&(clearInterval(a),o(n.track(e,t))),--r||(clearInterval(a),i("Event skipped, fbq not loaded"))},250)}):new r.a(function(n){window.fbq("track",e,Object(o.extend)({},t),function(){n()})}).timeout(1e3).catch(function(){})},trackAddToCart:function(e){return this.track("AddToCart",Object(o.extend)({currency:"USD",content_type:"product"},e))},trackInitiateCheckout:function(e){return this.track("InitiateCheckout",Object(o.extend)({currency:"USD",content_type:"product"},e))},trackPurchase:function(e){return this.track("Purchase",Object(o.extend)({currency:"USD",content_type:"product"},e))},trackSearch:function(e){return this.track("Search",Object(o.extend)({},e))},trackViewContent:function(e){return this.track("ViewContent",Object(o.extend)({currency:"USD",content_type:"product"},e))}}},335:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(51),a=n(6),s=n(0),l=n(312);n(562);t.a=r.a.extend({displayName:"LabelSelect",optionTypes:{value:s.b.string.isRequired,onChange:s.b.func.isRequired,label:s.b.string,error:s.b.string,attrs:s.b.object},defaultOptions:{attrs:{}},template:function(){var e=this.options.isTouched&&!!this.options.error;return a.default.getFromMacro("skfb_front/macros/components/molecules/label-select","label_select",[{label:this.options.label,error:e?this.options.error:"",components:this.createChildrenComponents({select:{viewClass:l.a,options:i()({},this.options,{attrs:{classNames:i()({"form-select c-label-input__input":!0,"--error":e},this.options.attrs.classNames)}})}})}])}})},350:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(2),i=n.n(o),r=n(371),a=n(14),s=n(6);function l(e){return function(t){return a.a.extend({displayName:"Form("+t.prototype.displayName+")",initialize:function(){var n=this;a.a.prototype.initialize.apply(this,arguments);var o=Object(r.a)(function(){return n.state},this.setState.bind(this),e,t.prototype.displayName),i=o.initialState,s=o.getProps;this.state=i,this.getFormOptions=s},template:function(){return s.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:{viewClass:t,options:i()({},this.options,this.state,{form:this.getFormOptions()})}})})}})}}},37:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var o=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=arguments.length>1?arguments[1]:void 0;return t[o.type]?t[o.type](n,o.payload):n}},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduceRight(function(e,t){return t(e,n)},e)}}},371:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(2),a=n.n(r),s=n(5),l=n.n(s),c=n(1),u=n(19),d=n(18),p=(n(0),{initialValue:"",validators:[],format:d.c,unformat:d.c}),m=function(e,t){return Object(c.mapValues)(e,function(e,t){return a()({},p,e)})},f=function(e){return Object(c.mapValues)(e.fields,function(e){return e.originalValue})},h=function(e){var t=f(e);return Object(u.c)(Object(c.mapValues)(e.fields,function(n,o){return function(e,t,n){return e.reduce(function(e,o){return e||o(t,n)},"")}(e.fieldConfigs[o].validators,n.originalValue,t)||n.serverSideError}))},g=function(e,t,n){return a()({},e,{fields:a()({},e.fields,i()({},t,a()({},e.fields[t],n)))})};t.a=function(e,t,n,o){var i=function(e,n){t(function(t){return g(t,e,n)})},r=function(e,n){t({hasSucceeded:!1}),t(function(t){var o=t.fieldConfigs[e],i=o.unformat(n),r=o.format(i);return g(t,e,{value:r,originalValue:i,serverSideError:""})})},s=function(e,t){return Object(c.mapValues)(e,function(e,n){var o=t.fields[n]||{},a=e.format(o.originalValue||e.initialValue);return{name:n,value:a,originalValue:e.unformat(a),isTouched:o.isTouched||!1,onChange:r.bind(void 0,n),onBlur:function(e){i(e,{isTouched:!0})}.bind(void 0,n),serverSideError:""}})},u=m(n),d=function(n){var o=e();Object.keys(o.fields).forEach(function(e){i(e,{isTouched:!0,serverSideError:""})}),Object(c.isEmpty)(h(o))&&(t({isSubmitting:!0}),l.a.resolve(n(f(o))).then(function(){t({hasSucceeded:!0})}).catch(function(e){t({hasSucceeded:!1}),Object.keys(o.fields).filter(function(t){return e[t]}).forEach(function(t){i(t,{serverSideError:e[t]})})}).then(function(){t({isSubmitting:!1})}))},p=function(){t(function(e){return{fields:s(e.fieldConfigs,a()({},e,{fields:{}})),isSubmitting:!1}})},b=function(e){Object.keys(e).forEach(function(t){r(t,e[t])})},v=function(e){var n=m(e);t(function(e){return{fields:s(n,e),fieldConfigs:n}})};return{initialState:{fields:s(u,{fields:{}}),fieldConfigs:u,isSubmitting:!1,hasSucceeded:!1},getProps:function(){var t=e(),n=h(t);return{fields:Object(c.mapValues)(t.fields,function(e,t){var o=n[t]||"";return a()({},e,{error:o,hasError:!!o})}),data:f(t),errors:n,hasErrors:!Object(c.isEmpty)(n),isSubmitting:t.isSubmitting,hasSucceeded:t.hasSucceeded,onSubmit:d,onReset:p,onFieldsChange:b,onFieldConfigsChange:v}}}}},383:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=n(26),a=n.n(r),s=(n(0),n(69)),l=n(61),c=n(30),u=n(231);var d=function(e){var t=e.user,n=e.width,o=void 0===n?20:n,r=e.height,a=void 0===r?20:r;return i()("div",{className:"avatar","data-user-summary-anchor":"true","data-user":t.uid},void 0,i()(u.a,{images:t.avatars,width:o,height:a}))};t.a=function(e){var t=e.user,n=e.target,o=e.withAvatar,r=void 0!==o&&o,u=e.noLink,p=void 0!==u&&u,m=e.noBadgeLink,f=void 0!==m&&m,h=e.withoutBadge,g=void 0!==h&&h,b=e.tag,v=void 0!==b&&b,k=e.withSummary,w=void 0===k||k,y=e.by,C=void 0!==y&&y;return i()("div",{className:Object(s.a)("user-name",{"--no-link":p,"--no-badge-link":f})},void 0,i()("a",{className:"user-name__link",href:t.profileUrl,target:n},void 0,i()("data",{itemProp:"url",value:t.profileUrl}),r&&a.a.createElement("span",w?{"data-action":"show-user-summary","data-user":t.uid}:{},i()(d,{user:t})),i()("div",{className:"text"},void 0,C?"by":"",i()("span",{className:"username-wrapper",itemProp:"name",title:t.displayName},void 0,t.displayName))),!g&&i()("a",{className:"user-name__flag",href:Object(c.e)("pages:plans"),target:"_blank",rel:"noopener noreferrer"},void 0,t.planDetail?i()("span",{className:"flag --".concat(t.planDetail.badge)},void 0,t.planDetail.title):"basic"!==t.account?i()("span",{className:"flag --".concat(t.account)},void 0,Object(l.j)(t.account)):null),v&&i()("span",{className:"user-name__tag"},void 0," (@",t.username,")"))}},386:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=(n(26),n(223)),a=i()(r.a,{},void 0,i()("div",{className:"placeholder c-card-placeholder"},void 0,i()("div",{className:"placeholder__card c-card-placeholder__card"},void 0,i()("div",{className:"placeholder__image c-card-placeholder__thumbnail"}),i()("div",{className:"placeholder__container --horizontal c-card-placeholder__footer"},void 0,i()("div",{className:"placeholder__image --rounded-corners --x-s"}),i()("div",{className:"placeholder__text --small --w-50"})))));t.a=function(){return a}},402:function(e,t,n){"use strict";var o=n(40),i=n.n(o),r=n(53),a=n.n(r),s=n(55),l=n.n(s),c=n(52),u=n.n(c),d=n(43),p=n.n(d),m=n(54),f=n.n(m),h=n(4),g=n.n(h),b=n(95),v=n(26),k=n.n(v),w=n(7),y=n(32),C=(n(0),n(23)),_=n(9),O=Object(b.b)(function(e,t){var n=_.c.entities.model(t.model.uid,e);return{doesLike:_.c.authUser.doesLike(t.model.uid,e),likeCount:n?n.likeCount:t.model.likeCount,hasModelEntity:!!n}},{updateEntities:_.a.entities.update,getDoesLike:_.a.authUser.getDoesLike,onToggleLike:_.a.authUser.toggleLikeModel}),L=function(e){function t(){var e,n;i()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),g()(p()(n),"onToggleLike",y.e(function(){return w.a.authenticate(function(){return n.props.hasModelEntity||n.props.updateEntities({models:[n.props.model]}),n.props.onToggleLike(n.props.model.uid).then(function(e){n.props.trackerEvent&&C.a[n.props.trackerEvent](n.props.model.uid,e)})})})),n}return f()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.props.getDoesLike(this.props.model.uid)}},{key:"render",value:function(){return this.props.children({doesLike:this.props.doesLike,onToggleLike:this.onToggleLike,likeCount:this.props.likeCount})}}]),t}(k.a.Component);t.a=O(L)},41:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(1),i=n(27),r=function(e){return{getInitialPropsOf:function(t){var n=e.ssrProps;return(void 0===n?{}:n)[t]||{}},get:function(t){return e[t]},register:function(t,n){e[t]=n},invalidate:function(t){var n=t.replace(/\?.*$/,"");Object.keys(e).forEach(function(t){var o=t.replace(/\?.*$/,"");n!==o&&0!==n.indexOf(o+"/")||(e[t]=void 0)})},update:function(t,n){Object(o.each)(e[t],function(o,i){void 0!==n[i]&&(e[t][i]=n[i])})}}};t.b=r(function(){var e=window.prefetchedData?window.prefetchedData:Object(i.o)("prefetched-data","json");return window.prefetchedData||(window.prefetchedData=e),e}())},42:function(e,t,n){"use strict";n.d(t,"f",function(){return g}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return k}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return y});var o,i=n(4),r=n.n(i),a=n(28),s=n.n(a),l=n(2),c=n.n(l),u=n(37),d=n(17),p="none",m="refresh",f="next",h="previous",g={PREPEND:"pagination.PREPEND",FIRST:Object(d.d)("pagination.FIRST"),NEXT:Object(d.d)("pagination.NEXT"),PREVIOUS:Object(d.d)("pagination.PREVIOUS")},b={list:[],cursors:{next:null,previous:null},loading:p},v=Object(u.b)(b,(o={},r()(o,g.FIRST.PENDING,function(e){return c()({},e,{loading:m})}),r()(o,g.FIRST.REJECTED,function(e){return c()({},e,{loading:p})}),r()(o,g.FIRST.RESOLVED,function(e,t){return c()({},e,{cursors:t.cursors,list:t.list,loading:p})}),r()(o,g.NEXT.PENDING,function(e){return c()({},e,{loading:f})}),r()(o,g.NEXT.REJECTED,function(e){return c()({},e,{loading:p})}),r()(o,g.NEXT.RESOLVED,function(e,t){return c()({},e,{cursors:c()({},e.cursors,{next:t.cursors.next}),list:[].concat(s()(e.list),s()(t.list)),loading:p})}),r()(o,g.PREVIOUS.PENDING,function(e){return c()({},e,{loading:h})}),r()(o,g.PREVIOUS.REJECTED,function(e){return c()({},e,{loading:p})}),r()(o,g.PREVIOUS.RESOLVED,function(e,t){return c()({},e,{cursors:c()({},e.cursors,{previous:t.cursors.previous}),list:[].concat(s()(t.list),s()(e.list)),loading:p})}),r()(o,g.PREPEND,function(e,t){return c()({},e,{list:[t.item].concat(s()(e.list))})}),o)),k={list:function(e){return e.list},cursors:function(e){return e.cursors},loading:function(e){return e.loading},isLoading:function(e){return e.loading!==p},hasNextPage:function(e){return!!e.cursors.next},hasPreviousPage:function(e){return!!e.cursors.previous}},w={firstPending:function(){return{type:g.FIRST.PENDING}},firstRejected:function(){return{type:g.FIRST.REJECTED}},firstResolved:function(e){var t=e.list,n=e.cursors;return{type:g.FIRST.RESOLVED,payload:{list:t,cursors:n}}},nextPending:function(){return{type:g.NEXT.PENDING}},nextRejected:function(){return{type:g.NEXT.REJECTED}},nextResolved:function(e){var t=e.list,n=e.cursors;return{type:g.NEXT.RESOLVED,payload:{list:t,cursors:n}}},previousPending:function(){return{type:g.PREVIOUS.PENDING}},previousRejected:function(){return{type:g.PREVIOUS.REJECTED}},previousResolved:function(e){var t=e.list,n=e.cursors;return{type:g.PREVIOUS.RESOLVED,payload:{list:t,cursors:n}}},prepend:function(e){return{type:g.PREPEND,payload:{item:e}}}},y=function(e){return function(t,n,o){var i;return i={},r()(i,t.PENDING,function(t){return c()({},t,r()({},e,v(t[e],{type:n.PENDING})))}),r()(i,t.REJECTED,function(t){return c()({},t,r()({},e,v(t[e],{type:n.REJECTED})))}),r()(i,t.RESOLVED,function(t,i){return c()({},t,r()({},e,v(t[e],{type:n.RESOLVED,payload:c()({list:[],cursors:{next:null,previous:null}},o(i))})))}),i}}},421:function(e,t,n){"use strict";var o=n(39),i=n.n(o),r=n(26),a=n(17);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[e],o=Object(r.useState)([!0,t]),s=i()(o,2),l=i()(s[0],2),c=l[0],u=l[1],d=s[1],p=Object(r.useContext)(a.a);return Object(r.useEffect)(function(){var t=!1;return e(p).catch(function(){t||d(function(e){return[!1,i()(e,2)[1]]})}).then(function(e){t||d([!1,e])}),function(){t=!0}},n),[c,u]}},44:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"h",function(){return a}),n.d(t,"l",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"o",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"n",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"f",function(){return v}),n.d(t,"k",function(){return k}),n.d(t,"m",function(){return w});var o=n(1);function i(e){return String(e).split("").reduce(function(e,t,n,o){var i=o.length-n;return e+(!n||i%3?t:","+t)},"")}function r(e){var t=e/100;if(Object(o.isInteger)(t))return"$"+i(t);var n=String(Math.round(e)).split(""),r=n.filter(function(e,t){return t>=n.length-2}).join(""),a=n.filter(function(e,t){return t<n.length-2}).join("");return"$".concat(i(a||"0"),".").concat(r.length<2?"0":"").concat(r)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).numberOnly,n=void 0!==t&&t;return m(0,5,Math.round(10*Number(e))/10)+(n?"":"/5")}var s=["k","M","B","T","P"];function l(e,t){if(t<=0)return e;var n=Math.pow(10,t),o=e*n;return Math.round(o)/n}function c(e){var t=parseFloat(e),n=[3,6,9,12,15];if(!t)return e;var o=t<0?"-":"",i=Math.abs(t);if(i<1e3)return t;for(var r=0,a=n.length;r<a;++r){var c=l(i/Math.pow(10,n[r]),1);if(c<1e3){var u=Math.floor(c);return c!==u?o+c+s[r]:o+u+s[r]}}return t<0?"1000- P":"1000+ P"}function u(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}function d(e,t,n){return(n-e)/(t-e)}function p(e,t,n){return n*(t-e)+e}function m(e,t,n){return Math.max(e,Math.min(t,n))}function f(e,t){var n=t||1;return Math.round(e/n)*n}function h(e){return e.reduce(function(t,n){return t+n/e.length},0)}function g(e,t,n){if(!e.length)return null;if(1===e.length)return e[0];var o=n||{},i=function(n){return o[n]=void 0===o[n]?t(e[n]):o[n],o[n]};if(2===e.length)return Math.abs(i(0))<Math.abs(i(1))?e[0]:e[1];var r=Math.floor(e.length/2);return g(i(r)>0?e.slice(0,r+1):e.slice(r),t,o)}var b=function(e,t,n,o){return e/t>n/o?{width:e,height:o*e/n}:{width:n*t/o,height:t}},v={linear:function(e){return e},easeInQuad:function(e){return e*e},easeInCubic:function(e){return e*e*e}};function k(e){var t=Math.floor(e),n=Math.floor(e/1024),o=Math.floor(e/1048576),i=Math.floor(e/1073741824);return i?i+"GB":o?o+"MB":n?n+"kB":t+"B"}function w(e,t,n){return e.start===t&&e.end>=n?"Any":e.start===t?"Up to "+c(e.end):e.start>=n?c(e.start)+"+":c(e.start)+" to "+c(e.end)}},446:function(e,t,n){"use strict";var o=n(10),i=n(14),r=n(6),a=n(323),s=n(334),l=n(23),c=n(0),u=n(32),d=n(24),p=n(30),m=n(9),f=n(115),h=n(57),g=n(104),b=Object(f.a)(function(e,t){return{isModelInCart:m.c.cart.isModelInCart(t.model.uid,e),hasPurchased:m.c.authUser.hasPurchased(t.model.uid,e),authUser:m.c.authUser.user(e),isLoading:m.c.effects.isPending(m.d.cart.GET,e)}},{addModelToCart:m.a.cart.addModel,removeModelFromCart:m.a.cart.removeModel,getHasPurchased:m.a.authUser.getHasPurchased});t.a=b(i.a.extend({displayName:"AddToCartContainer",optionTypes:{model:c.b.shape({uid:c.b.string.isRequired,price:c.b.number.isRequired}).isRequired,render:c.b.func.isRequired,className:c.b.string,isModelInCart:c.b.bool.isRequired,isLoading:c.b.bool.isRequired,addModelToCart:c.b.func.isRequired,removeModelFromCart:c.b.func.isRequired,getHasPurchased:c.b.func.isRequired,hasPurchased:c.b.bool.isRequired,authUser:c.b.object.isRequired},defaultOptions:{className:""},state:{wasJustAdded:!1},viewDidMount:function(){this.options.getHasPurchased(this.options.model.uid)},removeWasJustAdded:function(){this.setState({wasJustAdded:!1})},openCartLimitReachedPopup:function(){return new g.a({title:"Cart limit reached",text:"You have reached the limit of ".concat(o.a.storeCartMaxSize," models you can put in one cart. Please proceed to checkout before adding new models to your cart."),renderButtons:function(e){return[{viewClass:h.a,options:{key:"cancel",text:"Cancel",type:"tertiary",onClick:e.cancel}},{viewClass:h.a,options:{key:"checkout",text:"checkout now",type:"store",onClick:function(){window.location=Object(p.e)("store:checkout")}}}]}}).open()},trackAddToCart:function(){var e=this.options.model.uid,t=this.options.model.price/100;a.a.recordAddToCart({product_id:e}),s.a.trackAddToCart({content_ids:[e],value:t}),l.a.storeModelAddedToCart(e,t)},template:function(){var e=this,t=this.options,n=t.className,o=t.render,i=t.hasPurchased,a=t.authUser,s=t.isModelInCart,l=t.model,c=t.isLoading,p=t.addModelToCart,m=t.removeModelFromCart;return r.default.getFromString("{{ components.child | component(className) }}",{className:n,components:this.createChildrenComponents({child:o({isLoading:c,isModelInCart:s,wasJustAdded:this.state.wasJustAdded,isModelOwned:i||a.uid===l.user.uid,onAddToCart:u.e(function(){return e.setState({isModelInCart:!0,wasJustAdded:!0}),p(l).then(function(){return e.trackAddToCart()}).catch(Object(d.f)(d.b,e.openCartLimitReachedPopup))}),onRemoveFromCart:u.e(function(){return e.setState({isModelInCart:!1,wasJustAdded:!1}),m(l)})})})})}}))},45:function(e,t,n){"use strict";var o=n(1),i=n(19),r=n(0);n.d(t,"a",function(){return r.b}),t.b={name:"WithOptionTypes",optionTypes:{},initialize:function(){},setOptions:function(e){var t=Object(o.extend)({},this.options,Object(i.b)(e));this.isMounted&&this.viewWillReceiveOptions(t),this.update(t,this.state,!1)},viewWillReceiveOptions:function(){},checkOptionTypes:function(){Object(r.a)(this.optionTypes,this.options,"option",this.displayName||"View")}}},46:function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m});var o=n(1),i=n(18);function r(e){return e.preventDefault(),e}function a(e){return e.stopPropagation(),e}function s(e){return{eventName:e.split(" ")[0],selector:e.split(" ").slice(1).join(" ")}}function l(e){var t=e.originalEvent||e;return{x:t.type.match(/^touch/)?t.changedTouches[0]?t.changedTouches[0].pageX:0:t.clientX,y:t.type.match(/^touch/)?t.changedTouches[0]?t.changedTouches[0].pageY:0:t.clientY}}function c(e,t){return t.velocity=function(e,t){var n=l(t),o=e?l(e):n;return{x:n.x-o.x,y:n.y-o.y}}(e,t),t}var u=function(e){var t=l(e),n=t.x,o=t.y;return e.dragX=n,e.dragY=o,e},d=function(e,t,n){return function(r){var a=!1,s=!1,l=Object(o.throttle)(Object(i.f)(c,void 0,function(e){a=!0,s||n.onDrag(u(e))}),16);window.addEventListener(e,l),window.addEventListener(t,function o(i){s=!0,a&&n.onDragEnd(u(i)),window.removeEventListener(e,l),window.removeEventListener(t,o)}),n.onDragStart(u(r))}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onDrag,n=e.onDragStart,o=void 0===n?function(e){return e}:n,i=e.onDragEnd,r=void 0===i?function(e){return e}:i;return{onMouseDown:d("mousemove","mouseup",{onDrag:t,onDragStart:o,onDragEnd:r}),onTouchStart:d("touchmove","touchend",{onDrag:t,onDragStart:o,onDragEnd:r})}},m=function(e){return function(t){13===function(e){return e.which||e.keyCode}(t)&&e(t)}}},461:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=n(40),a=n.n(r),s=n(53),l=n.n(s),c=n(55),u=n.n(c),d=n(52),p=n.n(d),m=n(54),f=n.n(m),h=n(4),g=n.n(h),b=n(26),v=n.n(b),k=(n(0),n(44)),w=n(31),y=n(69),C=n(43),_=n.n(C),O=n(95),L=n(10),x=n(323),S=n(334),F=n(23),E=n(24),P=n(32),j=n(30),R=n(9),T=n(57),M=n(104),N=Object(O.b)(function(e,t){return{isModelInCart:R.c.cart.isModelInCart(t.model.uid,e),hasPurchased:R.c.authUser.hasPurchased(t.model.uid,e),authUser:R.c.authUser.user(e),isLoading:R.c.effects.isPending(R.d.cart.GET,e)}},{addModelToCart:R.a.cart.addModel,removeModelFromCart:R.a.cart.removeModel,getHasPurchased:R.a.authUser.getHasPurchased}),A=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(i))),g()(_()(n),"state",{wasJustAdded:!1}),g()(_()(n),"removeWasJustAdded",function(){n.setState({wasJustAdded:!1})}),g()(_()(n),"openCartLimitReachedPopup",function(){return new M.a({title:"Cart limit reached",text:"You have reached the limit of ".concat(L.a.storeCartMaxSize," models you can put in one cart. Please proceed to checkout before adding new models to your cart."),renderButtons:function(e){return[{viewClass:T.a,options:{key:"cancel",text:"Cancel",type:"tertiary",onClick:e.cancel}},{viewClass:T.a,options:{key:"checkout",text:"checkout now",type:"store",onClick:function(){window.location=Object(j.e)("store:cart")}}}]}}).open()}),g()(_()(n),"trackAddToCart",function(){var e=n.props.model.uid,t=n.props.model.price/100;x.a.recordAddToCart({product_id:e}),S.a.trackAddToCart({content_ids:[e],value:t}),F.a.storeModelAddedToCart(e,t)}),n}return f()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.getHasPurchased(this.props.model.uid)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.hasPurchased,i=t.authUser,r=t.isModelInCart,a=t.model,s=t.isLoading,l=t.addModelToCart,c=t.removeModelFromCart;return n({isLoading:s,isModelInCart:r,wasJustAdded:this.state.wasJustAdded,isModelOwned:o||i.uid===a.user.uid,onAddToCart:P.e(function(){return e.setState({isModelInCart:!0,wasJustAdded:!0}),l(a).then(function(){return e.trackAddToCart()}).catch(Object(E.f)(E.b,e.openCartLimitReachedPopup))}),onRemoveFromCart:P.e(function(){return e.setState({isModelInCart:!1,wasJustAdded:!1}),c(a)})})}}]),t}(v.a.Component);g()(A,"defaultProps",{className:""});var D=N(A),U=n(265),V=n(264),B=n(192),I=n(315),z=n(314),q=i()("p",{className:"c-add-to-cart-icon__text"},void 0,"already bought"),$=i()("path",{d:"M8.3554 9.0588a.7334.7334 0 0 1-.5148-.2103l-1.485-1.4637a.4442.4442 0 0 1 0-.6347.46.46 0 0 1 .6438 0l1.31 1.2914 1.7237-3.1395c.1196-.218.3955-.2992.617-.1812.2213.118.3035.3904.1838.6083L8.958 8.7458l-.0204.0268a.7314.7314 0 0 1-.5822.2862M6 14c-.552 0-1-.447-1-1 0-.553.448-1 1-1s1 .447 1 1c0 .553-.448 1-1 1zm6-1c0 .553-.448 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1 .552 0 1 .447 1 1m-.3028-3.3c-.101.2-.301.3-.4999.3H5.5977c-.199 0-.399-.1-.5-.401L4.513 7.552 3.6991 4.7l-.2-.7h8.998c.1999 0 .2998.1.3988.2.101.2.101.3.101.5l-1.2997 5zM12.497 3H3.2992L2.4994.4c-.1-.3-.3-.4-.4999-.4H.5C.1999 0 0 .2 0 .5s.2.5.4999.5h1.1997l1.0997 4L4.199 9.9c.2.699.6998 1.1 1.3987 1.1h5.5996c.5999 0 1.1987-.401 1.3987-1.1L13.8957 5c.2-.5.101-1-.199-1.4-.3009-.4-.6998-.6-1.1997-.6z"}),W=i()("path",{d:"M10 6.5H8.5V5h-1v1.5H6v1h1.5V9h1V7.5H10v-1zM7 13c0 .553-.448 1-1 1s-1-.447-1-1c0-.553.448-1 1-1s1 .447 1 1m5 0c0 .553-.448 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1 .552 0 1 .447 1 1m-.3028-3.3c-.101.2-.301.3-.4999.3H5.5977c-.199 0-.399-.1-.5-.401L4.513 7.552 3.6991 4.7l-.2-.7h8.998c.1999 0 .2998.1.3988.2.101.2.101.3.101.5l-1.2997 5zm1.9995-6.1c-.3009-.4-.6998-.6-1.1997-.6H3.2992L2.4994.4c-.1-.3-.3-.4-.4999-.4H.5C.1999 0 0 .2 0 .5s.2.5.4999.5h1.1997l1.0997 4L4.199 9.9c.2.699.6998 1.1 1.3987 1.1h5.5996c.5999 0 1.1987-.401 1.3987-1.1L13.8957 5c.2-.5.101-1-.199-1.4z"}),H=function(e){var t=e.isModelOwned,n=e.isModelInCart,o=e.onAddToCart,r=e.size,a=void 0===r?18:r;return i()("div",{className:"c-add-to-cart-icon ".concat(n?"--in-cart":"")},void 0,t?q:i()("div",{onClick:o,className:"c-add-to-cart-icon__cart-container"},void 0,i()("svg",{className:"c-add-to-cart-icon__cart",width:a,height:a,viewBox:"0 0 14 14"},void 0,n?$:W)))},G=n(103),J=n.n(G),Y=n(3),K=n.n(Y),X=n(18),Q=n(46),Z=i()("defs",{},void 0,i()("path",{d:"M19.96 7.86c0-.296-.223-.48-.67-.552l-6.023-.875-2.7-5.458c-.15-.328-.346-.492-.586-.492s-.435.164-.587.492l-2.7 5.458-6.02.875C.222 7.38 0 7.564 0 7.86c0 .168.1.36.3.576l4.367 4.247-1.032 5.998c-.016.113-.024.193-.024.24 0 .168.043.31.127.426.084.117.21.174.378.174.144 0 .304-.047.48-.143l5.386-2.832 5.387 2.832c.168.096.328.143.48.143.16 0 .282-.057.366-.174.083-.115.125-.258.125-.425 0-.103-.004-.183-.012-.24l-1.03-5.997 4.353-4.247c.207-.208.31-.4.31-.576z",id:"a"})),ee=i()("mask",{id:"b",fill:"#fff"},void 0,i()("use",{xlinkHref:"#a"})),te=function(e){var t=e.color,n=void 0===t?"":t,o=e.size,r=void 0===o?30:o,a=e.percentage,s=void 0===a?1:a,l=e.onClick,c=void 0===l?X.d:l;return i()("svg",{className:"c-star-rating__star",width:r,height:r,viewBox:"0 0 20 20",onClick:c},void 0,Z,ee,i()("rect",{className:"c-star-rating__background-rect",width:"20",height:"20",stroke:n,fill:n,mask:"url(#b)"}),i()("rect",{className:"c-star-rating__fill-rect",width:20*s,height:"20",fill:n,mask:"url(#b)"}))},ne=function(e){function t(){var e,n;a()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(i))),g()(_()(n),"getPercentX",function(e){return(e.dragX-K()(n.container).offset().left)/K()(n.container).width()}),g()(_()(n),"onDrag",function(e){var t=Object(k.b)(0,5,Math.ceil(5*e));t!==n.props.value&&n.props.onChange(t)}),n}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.color,r=t.onChange;return v.a.createElement("div",J()({ref:function(t){return e.container=t},className:"c-star-rating ".concat(this.hasClickEvent?"--interactive":"")},Object(Q.b)({onDrag:Object(X.b)(this.onDrag,this.getPercentX)})),[1,2,3,4,5].map(function(t,a){return i()(te,{size:e.starSize,percentage:Object(k.b)(0,1,(n||0)-a),color:o,onClick:function(){return r(t)}},a)}))}},{key:"starSize",get:function(){switch(this.props.size){case"small":return 10;case"medium":return 16;case"large":return 20}}},{key:"hasClickEvent",get:function(){return this.props.onChange!==X.d}}]),t}(v.a.Component);g()(ne,"defaultProps",{size:"medium",onChange:X.d});var oe=ne,ie=n(216),re=n(223);n.d(t,"a",function(){return se});var ae=i()("span",{className:"help card-model__feature --animations"},void 0,i()("span",{className:"tooltip tooltip-up"},void 0,"Animated")),se=function(e){function t(){return a()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.model.uid!==e.model.uid}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.deferImages,o=e.isRatingHidden,r=e.isPriceHidden;return i()(re.a,{},void 0,i()("div",{className:"card card-model --store",itemProp:"owns",itemScope:!0,itemType:"http://schema.org/MediaObject","data-uid":t.uid},void 0,i()("meta",{itemProp:"commentCount",content:t.commentCount}),i()("meta",{itemProp:"contentSize",content:"".concat(Object(k.l)(t.archiveSize||0),"B")}),i()("meta",{itemProp:"embedUrl",content:t.embedUrl}),i()("meta",{itemProp:"name",content:t.name}),i()("div",{className:"card__main card-model__thumbnail"},void 0,i()(ie.b,{className:"card-model__thumbnail-link",href:t.viewerUrl},void 0,i()(V.a,{alt:"".concat(t.name," 3D Model"),thumbnails:t.thumbnails,deferImages:n}),i()(U.a,{},void 0,function(){return i()("div",{className:"card__360-preview"},void 0,i()(B.a,{modelUid:t.uid,color:y.b.storeColor}))})),i()("div",{className:"card__main__corner --top-left"},void 0,i()(I.a,{model:t,withStaffpickLink:!1,withStaffpickFlag:!1,withRestrictedFlag:!0,displayRecentlyStaffpicked:!1})),i()("div",{className:"card__main__corner --top-right"},void 0,t.animationCount>0&&ae)),i()("div",{className:"card__footer"},void 0,i()("div",{className:"card__footer__left"},void 0,i()("div",{className:"card__footer__vertical"},void 0,i()("p",{className:"card__footer__title"},void 0,i()(z.a,{model:t})),!o&&i()("div",{className:"card__footer__review"},void 0,t.averageRating&&i()("div",{className:"card__footer__review-rating help"},void 0,i()(oe,{value:t.averageRating,size:"small"}),i()("span",{className:"tooltip tooltip-up"},void 0,Object(k.h)(t.averageRating)," stars")),i()("span",{className:"card__footer__review-text"},void 0,t.averageRating?"".concat(t.reviewCount||0," review").concat(Object(w.pluralize)(t.reviewCount)):"no reviews")))),i()("div",{className:"card__footer__right"},void 0,!r&&i()("div",{className:"card-model__price-container"},void 0,i()("div",{className:"card-model__add-to-cart"},void 0,i()(U.a,{},void 0,function(){return i()(D,{className:"card-model__add-to-cart__container",model:t},void 0,function(e){return v.a.createElement(H,e)})})),i()("span",{className:"card-model__price"},void 0,Object(k.g)(t.price)))))))}}]),t}(v.a.Component);g()(se,"defaultProps",{isPriceHidden:!1,isRatingHidden:!0})},472:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var o=n(103),i=n.n(o),r=n(12),a=n.n(r),s=n(40),l=n.n(s),c=n(53),u=n.n(c),d=n(55),p=n.n(d),m=n(52),f=n.n(m),h=n(43),g=n.n(h),b=n(54),v=n.n(b),k=n(4),w=n.n(k),y=n(26),C=n.n(y),_=n(1),O=(n(0),n(46)),L=n(44),x=n(326),S=n(69),F=a()("div",{className:"c-card-slider__background"}),E=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(i))),w()(g()(n),"state",{isPreviousArrowHidden:!0,isNextArrowHidden:!1,currentCard:0}),w()(g()(n),"_initialDrag",0),w()(g()(n),"_scrollX",0),w()(g()(n),"hasContent",function(){return!!n.props.cards.length}),w()(g()(n),"getCurrentCardX",function(){return n.hasContent()?n.state.currentCard*n.getCardSize():0}),w()(g()(n),"getCardSize",function(){if(!n.hasContent())return 1;var e=n.slider.querySelector(".item");if(!e)return 1;var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t["margin-left"])+parseFloat(t["margin-right"])||1}),w()(g()(n),"getSliderScrollX",function(){return n.hasContent()?n.slider.scrollLeft:0}),w()(g()(n),"setSliderScrollX",function(e){n.hasContent()&&(n.slider.scrollLeft=e,n.updateArrowStateThrottled())}),w()(g()(n),"refreshShownCardsCount",function(){if(n.slider){var e=n.slider.getBoundingClientRect().width,t=n.getCardSize();n._shownCardsCount=Math.round(e/t)}}),w()(g()(n),"validateIndex",function(e){return Object(L.b)(0,n.props.cards.length-n._shownCardsCount,e)}),w()(g()(n),"onResize",Object(_.debounce)(function(){n.refreshShownCardsCount(),n.animateToX(n.getCurrentCardX())},250)),w()(g()(n),"onDragStart",function(e){n._initialDrag=n.getSliderScrollX()+Object(O.d)(e).x,n._scrollWidth=n.slider.scrollWidth}),w()(g()(n),"onDrag",function(e){var t=Object(O.d)(e),o=t.x+Object(x.a)(e.velocity.x);n._scrollX=Object(L.b)(0,n._scrollWidth,n._initialDrag-t.x),n._projectedScrollX=Object(L.b)(0,n._scrollWidth,n._initialDrag-o),n.animateToX(n._scrollX)}),w()(g()(n),"onDragEnd",function(){var e=n.getCardSize(),t=n.validateIndex(Math.round(n._projectedScrollX/e));n.animateToX(t*e),n.setState({currentCard:t})}),w()(g()(n),"onPrevious",function(){n.setSlide("previous")}),w()(g()(n),"onNext",function(){n.setSlide("next")}),w()(g()(n),"setSlide",function(e){var t=n.getCardSize(),o=n.validateIndex("previous"===e?Math.max(n.state.currentCard-n._shownCardsCount,0):Math.min(n.state.currentCard+n._shownCardsCount,n.props.cards.length-n._shownCardsCount));n.animateToX(o*t),n.setState({currentCard:o,isNextArrowHidden:"next"!==e&&n.state.isNextArrowHidden,isPreviousArrowHidden:0===o})}),w()(g()(n),"updateArrowState",function(){if(n.hasContent()){var e=n.slider.getBoundingClientRect(),t=e.right,o=e.left,i=n.list.lastElementChild.getBoundingClientRect().right<=t+20,r=n.list.firstElementChild.getBoundingClientRect().left>=o-20;n.state.isNextArrowHidden===i&&n.state.isPreviousArrowHidden===r||n.setState({isPreviousArrowHidden:r,isNextArrowHidden:i})}}),n}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.updateArrowStateThrottled=Object(_.throttle)(this.updateArrowState.bind(this),250),this.animateToX=Object(x.c)(this.setSliderScrollX.bind(this)),this.refreshShownCardsCount(),this.updateArrowState()}},{key:"componentDidUpdate",value:function(e){this.props.cards.length!==e.cards.length&&this.refreshShownCardsCount()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this;return this.hasContent()?a()("div",{className:Object(S.a)("c-card-slider",this.props.className,{"--loading":this.props.isLoading})},void 0,this.props.title&&a()("a",{className:"c-card-slider__header",href:this.props.linkUrl},void 0,a()("h4",{className:"c-card-slider__title",style:{color:this.props.color}},void 0,this.props.title),this.props.linkUrl&&a()("p",{className:"c-card-slider__link skfb-link",style:{color:this.props.color}},void 0,"See more ›")),a()("div",{className:Object(S.a)("c-card-slider__arrow","--left",{"--hidden":this.state.isPreviousArrowHidden}),onClick:this.onPrevious},void 0,a()("svg",{width:"9",height:"54",viewBox:"0 0 9 54",xmlns:"http://www.w3.org/2000/svg"},void 0,a()("path",{d:"M1.518 27.17v-.26l.034.13-.034.13zm6.977 25.78l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zm0 0l-.966.26L.516 27.04 7.53.87l.965.26-6.943 25.91 6.943 25.91zM1.518 27.17v-.26l.034.13-.034.13zm-.01-.3l.044.17-.045.17-.966-.26.012-.04.483.13-.483.13-.01-.04.965-.26zm-.956.3l-.01-.04.965-.26.045.17-.045.17-.966-.26.012-.04.483.13-.483.13z",fillRule:"nonzero",fill:this.props.color}))),C.a.createElement("div",i()({ref:function(t){return e.slider=t},className:Object(S.a)("c-card-slider__slider","grid","grid-cards","--"+this.props.gridSize)},Object(O.b)({onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd})),C.a.createElement("ul",{ref:function(t){return e.list=t},className:"items"},this.props.cards)),a()("div",{className:Object(S.a)("c-card-slider__arrow","--right",{"--hidden":this.state.isNextArrowHidden}),onClick:this.onNext},void 0,a()("svg",{width:"9",height:"53",viewBox:"0 0 9 53",xmlns:"http://www.w3.org/2000/svg"},void 0,a()("path",{d:"M7.977 26.04L1 0l6.977 26.04L1 52.08l6.977-26.04zm0 0l.01.04-.01-.04.01-.04-.01.04z",stroke:this.props.color,fill:"none",fillRule:"evenodd",strokeLinecap:"square"}))),this.props.withBackground&&F):null}}]),t}(C.a.Component);w()(E,"defaultProps",{title:"",linkUrl:"",gridSize:"normal",color:S.b.skfbBlue,isLoading:!1,withBackground:!1})},475:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(1),a=n(51),s=n(0),l=n(6);n(494);t.a=a.a.extend({displayName:"FileInput",optionTypes:{showFile:s.b.bool,value:s.b.shape({name:s.b.string.isRequired,size:s.b.number.isRequired,originalFile:s.b.object}),onChange:s.b.func.isRequired,onCancel:s.b.func,accept:s.b.string,text:s.b.string.isRequired,buttonClass:s.b.string},defaultOptions:{showFile:!0,value:{name:"",size:0,originalFile:{}},accept:["application/zip","application/x-7z-compressed","application/x-rar-compressed"].join(","),buttonClass:"skfb-link"},events:{'change [data-ref="input-upload"]':"onChange",'click [data-ref="close"]':"onClose"},onChange:function(e){var t=e.target.files[0];t&&this.options.onChange({size:t.size,name:t.name,originalFile:t})},onClose:function(){this.options.onChange(null)},template:function(){return l.default.getFromMacro("skfb_front/macros/components/atoms/file-input","file_input",[{showFile:this.options.showFile,text:this.options.text,buttonClass:this.options.buttonClass,file:i()({name:"",size:0,originalFile:{},extension:this.options.value?Object(r.last)(this.options.value.name.split(".")):""},this.options.value),accept:this.options.accept}])}})},48:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(35),a=n.n(r),s=n(40),l=n.n(s),c=n(53),u=n.n(c),d=n(4),p=n.n(d),m=n(30),f=function(){function e(){var t=this;l()(this,e),p()(this,"listeners",[]),p()(this,"currentUrl",void 0),this.currentUrl=this.getWindowUrl(),window.addEventListener("popstate",function(){window.location.hash||(t.hasPrevious()?t.onBack():t.push(t.getWindowUrl(),{force:!0}))})}return u()(e,[{key:"callListeners",value:function(e,t){var n=t.isBack,o=void 0!==n&&n,r=a()(t,["isBack"]);this.listeners.forEach(function(t){return t(e,i()({},r,{isBack:o}))})}},{key:"onBack",value:function(){var e=this.currentUrl,t=this.getWindowUrl();this.callListeners(t,i()({previousUrl:e,isBack:!0},window.history.state)),this.currentUrl=t}},{key:"getWindowUrl",value:function(){return window.location.pathname+window.location.search}},{key:"setCurrentUrl",value:function(e){this.currentUrl=e}},{key:"shouldUpdate",value:function(e){return this.getWindowUrl()!==e}},{key:"hasPrevious",value:function(){return null!==window.history.state}},{key:"listen",value:function(e){var t=this;this.listeners.push(e);return function(){t.listeners=t.listeners.filter(function(t){return t!==e})}}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.setCurrentUrl(e),t.force||this.shouldUpdate(e)){var n=i()({},t,{isBack:!1,previousUrl:this.getWindowUrl()});window.history.pushState(n,"",Object(m.a)(e)),t.silent||this.callListeners(e,n)}}},{key:"pushRoute",value:function(e,t,n){var o=Object(m.e)(e,t);o&&this.push(o,n)}},{key:"replace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.setCurrentUrl(e),this.shouldUpdate(e)){var n=i()({},t,{isBack:!1,previousUrl:this.getWindowUrl()});window.history.replaceState(n,"",Object(m.a)(e)),t.silent||this.callListeners(e,n)}}},{key:"replaceRoute",value:function(e,t,n){var o=Object(m.e)(e,t);o&&this.replace(o,n)}},{key:"back",value:function(){window.history.back(),this.onBack()}}]),e}();t.a=new f},487:function(e,t,n){"use strict";var o=new(n(75).a);t.a={resolve:function(e){o.resolve(e)},get:function(){return o},then:o.then.bind(o)}},49:function(e,t,n){"use strict";n.r(t);var o=n(6),i=n(58),r=n(0);n(215);t.default=i.a.extend({displayName:"MessagePopup",optionTypes:{title:r.b.string.isRequired,text:r.b.string.isRequired,buttons:r.b.shape({cancel:r.b.bool,cancelClass:r.b.string,cancelLabel:r.b.string,close:r.b.bool,closeClass:r.b.string,closeLabel:r.b.string,continue:r.b.bool,continueClass:r.b.string,continueLabel:r.b.string,ok:r.b.bool,okClass:r.b.string,okLabel:r.b.string,delete:r.b.bool,deleteClass:r.b.string,deleteLabel:r.b.string}),popupClass:r.b.string,safe:r.b.bool,popupClosable:r.b.bool,shouldRejectOnCancel:r.b.bool},defaultOptions:{shouldRejectOnCancel:!0},events:{"reset form":"cancel","submit form":"continue"},template:function(){return o.default.get("skfb_front/popups/message",{title:this.options.title,text:this.options.text,buttons:this.options.buttons,safe:this.options.safe,popupClass:this.options.popupClass,popupClosable:this.options.popupClosable})}})},490:function(e,t,n){var o,i,r;i=[e,n(1083),n(1081),n(1080)],void 0===(r="function"==typeof(o=function(e,t,n,o){"use strict";var i=s(t),r=s(n),a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(n),o.listenClick(e),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return d("action",e)}},{key:"defaultTarget",value:function(e){var t=d("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return d("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(r.default);function d(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})?o.apply(t,i):o)||(e.exports=r)},492:function(e,t,n){n(150),n(261),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-management.jinja"]={root:function(e,t,o,i,r){var a=null,s=null,l="";try{e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/organisms/model-management.jinja",!1,function(c,u){c?r(c):u.getExported(function(c,u){if(c)r(c);else if(u.hasOwnProperty("model_quicksettings")){var d=u.model_quicksettings;t.setVariable("model_quicksettings",d),l+="\n",e.getTemplate("skfb_front/macros/components/atoms/button.jinja",!1,"skfb_front/macros/components/organisms/model-management.jinja",!1,function(c,u){c?r(c):u.getExported(function(c,u){if(c)r(c);else if(u.hasOwnProperty("button")){var d=u.button;t.setVariable("button",d),l+="\n\n";var p=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var l,c="";return c+="\n    ",l=e.getFilter("merge").call(t,{closed:!0,components:{},processingWarnings:[]},i.contextOrFrameLookup(t,o,"options")),o.set("options",l,!0),o.topLevel&&t.setVariable("options",l),o.topLevel&&t.addExport("options",l),c+='\n    <div class="sidebar-box --no-padding --no-shadow model-management ',i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"closed")&&(c+="--closed"),c+='">\n        <div class="model-management__header" data-action="toggle-management">\n            <h5 class="model-management__header__title">Manage this model</h5>\n        </div>\n\n        ',c+=i.suppressValue((a=14,s=25,i.callWrap(i.contextOrFrameLookup(t,o,"statuses_section"),"statuses_section",t,[i.contextOrFrameLookup(t,o,"options")])),e.opts.autoescape),c+="\n\n        ",i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isDisabled")&&(c+='\n            <div class="model-management__section">\n                ',c+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"disableSection"),"disable-section-container"),e.opts.autoescape),c+="\n            </div>\n        "),c+="\n\n        ",i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"isDownloadSectionEnabled")&&(c+='\n            <div class="model-management__section">\n                ',c+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"download"),"download-section-container",'<span class="spinner-small --centered"></span>'),e.opts.autoescape),c+="\n            </div>\n        "),c+="\n\n        ","FAILED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"status"),"processing")&&(c+='\n            <div class="model-management__section">\n                <div class="model-management__actions">\n                    ',c+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"propertiesButton"),"model-management__action",(a=38,s=30,i.callWrap(i.contextOrFrameLookup(t,o,"button"),"button",t,[{text:"properties"}]))),e.opts.autoescape),c+="\n\n                    ","SUCCEEDED"==i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"status"),"processing")&&(c+='\n                        <a class="button btn-medium btn-tertiary model-management__action" href="',c+=i.suppressValue(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"editorUrl"),e.opts.autoescape),c+='" data-action="edit">\n                            3D Settings\n                        </a>\n                    '),c+='\n\n                    <div class="button btn-medium btn-tertiary settings show-hover-menu model-management__action --more" title="Settings">\n                        More\n                        <i class="fa fa-caret-down caret"></i>\n                        ',c+=i.suppressValue((a=50,s=44,i.callWrap(i.contextOrFrameLookup(t,o,"model_quicksettings"),"model_quicksettings",t,[i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"authUser"),i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),{direction:"left",withProperties:!1,withPublish:!1,with3DSettings:!1}])),e.opts.autoescape),c+="\n                    </div>\n                </div>\n\n                ","SUCCEEDED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"status"),"processing")||i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"publishedAt")||(c+='\n                <div class="model-management__actions">\n                    ',c+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"publishButton"),"model-management__publish-button"),e.opts.autoescape),c+="\n                </div>\n                "),c+="\n            </div>\n        "),c+="\n    </div>\n",o=r,new i.SafeString(c)});t.addExport("model_management"),t.setVariable("model_management",p),l+="\n\n";var m=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var a="";return a+='\n<div class="model-management__section">\n    <ul class="model-management__statuses">\n        <li class="model-management__status">\n            <span class="model-management__label">Status</span>\n            <div>\n                ',i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isDeleted")?a+="\n                    Deleted\n                ":i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isDisabled")?a+="\n                    Disabled\n                ":"PENDING"==i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"status"),"processing")?a+="\n                    Processing\n                ":"SUCCEEDED"!=i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"status"),"processing")?(a+="\n                    ",a+=i.suppressValue(e.getFilter("capitalize").call(t,i.memberLookup(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"status"),"processing")),e.opts.autoescape),a+="\n                "):i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isPublished")?a+="\n                    Published\n                ":(a+="\n                    Draft\n                    ",i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"shareToken")&&(a+='\n                        <a\n                            class="skfb-link model-management__link --inline"\n                            data-action="share-preview"\n                            data-token="',a+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"shareToken"),e.opts.autoescape),a+='">\n                            share preview\n                        </a>\n                    '),a+="\n                "),a+="\n            </div>\n        </li>\n\n        ",i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"processingWarnings"),"length")&&(a+='\n            <li class="model-management__status">\n                <span class="model-management__label">Processing</span>\n                <div>\n                    <span class="model-management__info">\n                        ',a+=i.suppressValue(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"processingWarnings"),"length"),e.opts.autoescape),a+=" issue",a+=i.suppressValue(e.getFilter("pluralize").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"processingWarnings"),"length")),e.opts.autoescape),a+='\n                        <a\n                            class="skfb-link model-management__link --inline"\n                            data-action="show-processing-issues">\n                            view\n                        </a>\n                    </span>\n                </div>\n            </li>\n        '),a+='\n\n        <li class="model-management__status">\n            <span class="model-management__label">Privacy</span>\n            <div>\n                ',i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isProtected")?a+='\n                    <i class="fa fa-lock protected"></i> Password-protected\n                ':i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isPrivate")?a+='\n                    <i class="custom-icons icon-private private"></i> Private\n                ':a+="\n                    Public\n                ",a+='\n\n                <a\n                    class="model-management__link --inline"\n                    data-action="open-settings-popup">\n                    edit\n                </a>\n            </div>\n        </li>\n        <li class="model-management__status">\n            ',(i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isPrivate")||i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"model"),"isProtected"))&&e.getFilter("has_plan_type").call(t,i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"authUser"),"pro")&&(a+="\n                ",a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"privateLimits")),e.opts.autoescape),a+="\n            "),a+="\n        </li>\n    </ul>\n</div>\n",o=r,new i.SafeString(a)});t.addExport("statuses_section"),t.setVariable("statuses_section",m),l+="\n\n";var f=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var a="";a+='\n    <div class="download-section">\n        <header class="download-section__header">\n                <span class="model-management__label">Download</span>\n                <div class="download-section__tabs">\n                    ',o=o.push();var s=i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"tabs");if(s)for(var l=s.length,c=0;c<s.length;c++){var u=s[c];o.set("tab",u),o.set("loop.index",c+1),o.set("loop.index0",c),o.set("loop.revindex",l-c),o.set("loop.revindex0",l-c-1),o.set("loop.first",0===c),o.set("loop.last",c===l-1),o.set("loop.length",l),a+='\n                        <div\n                        class="',a+=i.suppressValue(e.getFilter("class_names").call(t,{"download-section__tab":!0,"--active":i.memberLookup(u,"isActive")}),e.opts.autoescape),a+='"\n                        data-action="selectTab"\n                        data-tab="',a+=i.suppressValue(i.memberLookup(u,"name"),e.opts.autoescape),a+='">\n                        ',a+=i.suppressValue(i.memberLookup(u,"name"),e.opts.autoescape),a+="\n                    </div>\n                    "}return o=o.pop(),a+='\n                </div>\n        </header>\n        <div class="download-section__content">\n            ',a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"message")),e.opts.autoescape),a+="\n            ",a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"activeTab"))),e.opts.autoescape),a+="\n\n            ",a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"extraFileMessage")),e.opts.autoescape),a+="\n\n            ",i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"shouldShowReprocessButton")?(a+="\n                ",a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"reprocessButton")),e.opts.autoescape),a+="\n            "):i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"shouldShowSubmitButton")&&(a+="\n                ",a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"submitButton")),e.opts.autoescape),a+="\n            "),a+="\n        </div>\n    </div>\n",o=r,new i.SafeString(a)});t.addExport("download_section"),t.setVariable("download_section",f),l+="\n\n";var h=i.makeMacro([],["options"],function(n){var r=o;o=new i.Frame,(n=n||{}).hasOwnProperty("caller")&&o.set("caller",n.caller),o.set("options",n.hasOwnProperty("options")?n.options:{});var a="";return a+='\n    <div class="disable-section">\n        <div class="disable-section__content">\n            ',a+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"message")),e.opts.autoescape),a+="\n        </div>\n    </div>\n",o=r,new i.SafeString(a)});t.addExport("disable_section"),t.setVariable("disable_section",h),l+="\n\n";var g=i.makeMacro([],["options"],function(r){var a=o;o=new i.Frame,(r=r||{}).hasOwnProperty("caller")&&o.set("caller",r.caller),o.set("options",r.hasOwnProperty("options")?r.options:{});var s="";return s+='\n    <div class="file-size-popup">\n        <div class="file-size-popup__actions">\n            <a class="file-size-popup__close" data-action="close"><i class="fa fa-times"></i></a>\n        </div>\n\n        <div class="file-size-popup__content">\n            <img class="file-size-popup__image" src="',s+=i.suppressValue(n(801),e.opts.autoescape),s+='" />\n            <h1 class="file-size-popup__title">\n                Your file is too large',s+=i.suppressValue(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"fileSize")?" - "+e.getFilter("humanize_file_size").call(t,i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"fileSize")):"",e.opts.autoescape),s+='</h1>\n            <p class="file-size-popup__text">The maximum size allowed is <strong>',s+=i.suppressValue(e.getFilter("humanize_file_size").call(t,i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"maxSize")),e.opts.autoescape),s+='</strong>.</p>\n            <p class="file-size-popup__text">Choose a smaller file.</p>\n\n            ',s+=i.suppressValue(e.getFilter("component").call(t,i.memberLookup(i.memberLookup(i.contextOrFrameLookup(t,o,"options"),"components"),"button"),"file-size-popup__button"),e.opts.autoescape),s+="\n        </div>\n    </div>\n",o=a,new i.SafeString(s)});t.addExport("file_size_exceeded_popup"),t.setVariable("file_size_exceeded_popup",g),r(null,l+="\n")}else r(new Error("cannot import 'button'"))})})}else r(new Error("cannot import 'model_quicksettings'"))})})}catch(e){r(i.handleError(e,a,s))}}}},493:function(e,t,n){n(157),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/email-confirmation.jinja"]={b_popup_content:function(e,t,n,o,i){var r="";try{n=n.push(!0),r+='\n\n    <div class="icon-wrapper">\n        <i class="fa fa-envelope"></i>\n    </div>\n    <div class="text">\n        <p>',r+=o.suppressValue(o.contextOrFrameLookup(t,n,"reason"),e.opts.autoescape),r+=".</p>\n        <p>If you haven't received your confirmation mail at <strong>",r+=o.suppressValue(o.contextOrFrameLookup(t,n,"email"),e.opts.autoescape),i(null,r+="</strong>, request a new one.</p>\n    </div>\n\n")}catch(e){i(o.handleError(e,null,null))}},b_popup_footer:function(e,t,n,o,i){var r="";try{n=n.push(!0),i(null,r+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" data-action="cancel">Cancel</button>\n        <button class="button btn-medium btn-primary" data-action="validate">Send me a new mail</button>\n    </div>\n\n')}catch(e){i(o.handleError(e,null,null))}},root:function(e,t,n,o,i){var r="";try{var a=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/email-confirmation.jinja",!1,function(s,l){if(s)i(s);else{for(var c in(a=l).blocks)t.addBlock(c,a.blocks[c]);var u,d;r+="\n\n",u="E-mail verification",n.set("popupTitle",u,!0),n.topLevel&&t.setVariable("popupTitle",u),n.topLevel&&t.addExport("popupTitle",u),r+="\n",d="popup-email-verification",n.set("popupClass",d,!0),n.topLevel&&t.setVariable("popupClass",d),n.topLevel&&t.addExport("popupClass",d),r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_content"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_footer"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n",a?a.rootRenderFunc(e,t,n,o,i):i(null,r))}))})}})}catch(e){i(o.handleError(e,null,null))}}}},494:function(e,t){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/file-input.jinja"]={root:function(e,t,n,o,i){var r="";try{var a=o.makeMacro([],["options"],function(i){var r=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var a,s="";return s+="\n    ",a=e.getFilter("merge").call(t,{},o.contextOrFrameLookup(t,n,"options")),n.set("options",a,!0),n.topLevel&&t.setVariable("options",a),n.topLevel&&t.addExport("options",a),s+='\n\n    <div class="c-file-input">\n        ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"showFile")&&o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"file"),"name")&&(s+='\n            <div class="c-file-input__file">\n                <span class="c-file-input__file__icon custom-icons icon-',s+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"file"),"extension"),e.opts.autoescape),s+='"></span>\n\n                <div class="c-file-input__file__content">\n                    <div class="c-file-input__file__name">\n                        ',s+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"file"),"name"),e.opts.autoescape),s+='\n                    </div>\n                    <div class="c-file-input__file__size">\n                        ',s+=o.suppressValue(e.getFilter("humanize_file_size").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"file"),"size")),e.opts.autoescape),s+='\n                    </div>\n                </div>\n\n                <span\n                    data-ref="close"\n                    class="c-file-input__file__close-cross icon-ion-close-round-icon custom-icons"></span>\n            </div>\n\n        '),s+='\n        <label class="c-file-input__placeholder">\n            <div class="c-file-input__button ',s+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"buttonClass"),e.opts.autoescape),s+=' ">\n                ',s+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"text"),e.opts.autoescape),s+='\n            </div>\n\n            <input\n                class="c-file-input__placeholder__input"\n                data-ref="input-upload"\n                accept="',s+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"accept"),e.opts.autoescape),s+='"\n                type="file"\n                ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"loading")&&(s+="disabled"),s+="\n            />\n        </label>\n    </div>\n\n",n=r,new o.SafeString(s)});t.addExport("file_input"),t.setVariable("file_input",a),i(null,r+="\n")}catch(e){i(o.handleError(e,null,null))}}}},50:function(e,t,n){"use strict";var o=n(5),i=n.n(o),r=n(27);function a(e){var t=[].slice.call(e.find(".image-container"));return new i.a(function(e){window.requestAnimationFrame(function(){t.forEach(function(e){return e.classList.remove("--loading")}),e()})})}t.a={name:"WithImageContainers",afterRender:function(){(function(e){var t=Array.prototype.slice.call(e.find(".image-container")).map(function(e){return e.getAttribute("data-background")}).filter(Boolean);return i.a.all(t.map(r.k)).then(function(){return e})})(this.$el).then(a)}}},501:function(e,t,n){n(220),n(150),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/cards/store-model-card.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/cards.jinja",!1,"skfb_front/macros/components/molecules/cards/store-model-card.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("card_thumbnail")){var u=c.card_thumbnail;t.setVariable("card_thumbnail",u),s+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/cards/store-model-card.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_labels")){var u=c.model_labels;if(t.setVariable("model_labels",u),c.hasOwnProperty("model_name")){var d=c.model_name;t.setVariable("model_name",d),s+="\n\n";var p=o.makeMacro(["authUser","model"],["options"],function(i,s,l){var c=n;n=new o.Frame,(l=l||{}).hasOwnProperty("caller")&&n.set("caller",l.caller),n.set("authUser",i),n.set("model",s),n.set("options",l.hasOwnProperty("options")?l.options:{});var u,d="";return u=e.getFilter("merge").call(t,{components:{}},o.contextOrFrameLookup(t,n,"options")),n.set("options",u,!0),n.topLevel&&t.setVariable("options",u),n.topLevel&&t.addExport("options",u),d+='<div class="card card-model --store" itemprop="owns" itemscope itemtype="http://schema.org/MediaObject">\n        <meta itemprop="commentCount" content="',d+=o.suppressValue(o.memberLookup(s,"commentCount"),e.opts.autoescape),d+='" />\n        <meta itemprop="contentSize" content="',d+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(s,"archiveSize"),0)),e.opts.autoescape),d+='B" />\n        <meta itemprop="embedUrl" content="',d+=o.suppressValue(o.memberLookup(s,"embedUrl"),e.opts.autoescape),d+='" />\n        <meta itemprop="name" content="',d+=o.suppressValue(o.memberLookup(s,"name"),e.opts.autoescape),d+='" />\n\n        <div class="card__main card-model__thumbnail">\n            <a class="card-model__thumbnail-link" data-route href="',d+=o.suppressValue(o.memberLookup(s,"viewerUrl"),e.opts.autoescape),d+='">\n                ',d+=o.suppressValue((r=16,a=31,o.callWrap(o.contextOrFrameLookup(t,n,"card_thumbnail"),"card_thumbnail",t,[o.memberLookup(s,"thumbnails"),500,281.25])),e.opts.autoescape),d+="\n                ",d+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelPreview"),"card-model__fallback-preview"),e.opts.autoescape),d+='\n            </a>\n\n            <div class="card__main__corner --top-left">\n                ',d+=o.suppressValue((r=21,a=29,o.callWrap(o.contextOrFrameLookup(t,n,"model_labels"),"model_labels",t,[s,{withStaffpickFlag:!1}])),e.opts.autoescape),d+='\n            </div>\n\n            <div class="card__main__corner --top-right">\n                ',o.memberLookup(s,"animationCount")>0&&(d+='\n                    <span class="help card-model__feature --animations">\n                        <span class="tooltip tooltip-up">Animated</span>\n                    </span>\n                '),d+='\n            </div>\n        </div>\n\n        <div class="card__footer">\n            <div class="card__footer__left">\n                <div class="card__footer__vertical">\n                    <p class="card__footer__title">\n                        ',d+=o.suppressValue((r=39,a=35,o.callWrap(o.contextOrFrameLookup(t,n,"model_name"),"model_name",t,[i,s,{withStaffpickFlag:!1,withRestrictedFlag:!1,withStaffpickLink:!1}])),e.opts.autoescape),d+="\n                    </p>\n\n                    ",o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isRatingHidden")||(d+='\n                        <div class="card__footer__review">\n                            ',o.memberLookup(s,"averageRating")&&(d+='\n                                <div class="card__footer__review-rating help">\n                                    ',d+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"rating")),e.opts.autoescape),d+='\n\n                                    <span class="tooltip tooltip-up">\n                                        ',d+=o.suppressValue(e.getFilter("format_rating").call(t,e.getFilter("default").call(t,o.memberLookup(s,"averageRating"),0)),e.opts.autoescape),d+=" stars\n                                    </span>\n                                </div>\n                            "),d+='\n\n                            <span class="card__footer__review-text">\n                                ',o.memberLookup(s,"averageRating")?(d+="\n                                    ",d+=o.suppressValue(e.getFilter("default").call(t,o.memberLookup(s,"reviewCount"),0),e.opts.autoescape),d+=" review",d+=o.suppressValue(e.getFilter("pluralize").call(t,e.getFilter("default").call(t,o.memberLookup(s,"reviewCount"),0)),e.opts.autoescape),d+="\n                                "):d+="\n                                    no reviews\n                                ",d+="\n                            </span>\n                        </div>\n                    "),d+='\n                </div>\n            </div>\n\n            <div class="card__footer__right">\n                ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isPriceHidden")||(d+='\n                    <div class="card-model__price-container">\n                        ',d+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"addToCartIcon"),"card-model__add-to-cart"),e.opts.autoescape),d+='\n                        <span class="card-model__price">\n                            ',d+=o.suppressValue(e.getFilter("format_price").call(t,o.memberLookup(s,"price")),e.opts.autoescape),d+="\n                        </span>\n                    </div>\n                "),d+="\n            </div>\n        </div>\n    </div>\n",n=c,new o.SafeString(d)});t.addExport("store_model_card"),t.setVariable("store_model_card",p),i(null,s+="\n")}else i(new Error("cannot import 'model_name'"))}else i(new Error("cannot import 'model_labels'"))})})}else i(new Error("cannot import 'card_thumbnail'"))})})}catch(e){i(o.handleError(e,r,a))}}}},509:function(e,t,n){"use strict";var o=n(25).a.extend({endpoint:function(){return"/messages".concat(this.isNew()?"":"/".concat(this.get("uid")))}}),i=n(7),r=n(6),a=n(58),s=n(49),l=n(0);n(678),t.a=a.a.extend({displayName:"ContactPopup",optionTypes:{model:l.b.model.isRequired,title:l.b.string,body:l.b.string},template:function(){return r.default.get("skfb_front/popups/contact",{user:this.model.toJSON(),from:i.a.me().toJSON(),title:this.options.title,body:this.options.body})},events:{"reset form":"close","submit form":"applySettings"},applySettings:function(){var e=this.$('[name="email"]'),t=0===e.length?i.a.me().get("email"):e.val();new o({sender:t,recipient:this.model.get("uid"),subject:this.$('[name="subject"]').val(),body:this.$('[name="body"]').val()}).save().then(function(){this.replaceWith(new s.default({title:"Your message has been sent!",text:r.default.getFromString("Your message has been correctly sent by email to {{ username }}.",{username:this.model.get("displayName")}),popupClosable:!0}))}.bind(this),function(e){429===e.status?(this.getPromise().reject(),this.replaceWith(new s.default({title:"Message not sent",text:"Your message has not been sent because you have reached the limit for sending messages. Please wait a minute before trying again.",popupClosable:!0}))):this.replaceWith(new s.default({title:"Unexpected error",text:'Please try again later or <a href="https://help.sketchfab.com/hc/en-us/requests/new?type=website&utm_source=website&utm_campaign=contact-form-error" target="_blank">contact us</a> if the error persists',safe:!0,popupClosable:!0}))}.bind(this))}})},51:function(e,t,n){"use strict";var o=n(14),i=n(19);t.a=o.a.extend({displayName:"PureComponent",shouldViewUpdate:function(e,t){return!Object(i.g)(this.options,e)||!Object(i.g)(this.state,t)}})},512:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(7),a=n(51),s=n(6),l=n(50),c=n(107),u=n(0),d=n(69),p=n(144),m=n(169),f=a.a.extend({displayName:"AddToCartIcon",optionTypes:{isModelOwned:u.b.bool.isRequired,isModelInCart:u.b.bool.isRequired,wasJustAdded:u.b.bool.isRequired,onAddToCart:u.b.func.isRequired,onRemoveFromCart:u.b.func.isRequired,size:u.b.number,color:u.b.string},defaultOptions:{size:18,color:d.b.storeColor},events:{'click [data-action="add-to-cart"]':function(){this.options.onAddToCart()}},template:function(){return s.default.getFromString('\n            <div class="c-add-to-cart-icon {{ \'--in-cart\' if isModelInCart }}">\n                {% if isModelOwned %}\n                    <p class="c-add-to-cart-icon__text">already bought</p>\n                {% else %}\n                    <div data-action="add-to-cart" class="c-add-to-cart-icon__cart-container">\n                        <svg\n                            class="c-add-to-cart-icon__cart"\n                            width="{{ size }}"\n                            height="{{ size }}"\n                            viewBox="0 0 14 14">\n                            {% if isModelInCart %}\n                                <path\n                                    d="M8.3554 9.0588a.7334.7334 0 0 1-.5148-.2103l-1.485-1.4637a.4442.4442 0 0 1 0-.6347.46.46 0 0 1 .6438 0l1.31 1.2914 1.7237-3.1395c.1196-.218.3955-.2992.617-.1812.2213.118.3035.3904.1838.6083L8.958 8.7458l-.0204.0268a.7314.7314 0 0 1-.5822.2862M6 14c-.552 0-1-.447-1-1 0-.553.448-1 1-1s1 .447 1 1c0 .553-.448 1-1 1zm6-1c0 .553-.448 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1 .552 0 1 .447 1 1m-.3028-3.3c-.101.2-.301.3-.4999.3H5.5977c-.199 0-.399-.1-.5-.401L4.513 7.552 3.6991 4.7l-.2-.7h8.998c.1999 0 .2998.1.3988.2.101.2.101.3.101.5l-1.2997 5zM12.497 3H3.2992L2.4994.4c-.1-.3-.3-.4-.4999-.4H.5C.1999 0 0 .2 0 .5s.2.5.4999.5h1.1997l1.0997 4L4.199 9.9c.2.699.6998 1.1 1.3987 1.1h5.5996c.5999 0 1.1987-.401 1.3987-1.1L13.8957 5c.2-.5.101-1-.199-1.4-.3009-.4-.6998-.6-1.1997-.6z" />\n                            {% else %}\n                                <path\n                                    d="M10 6.5H8.5V5h-1v1.5H6v1h1.5V9h1V7.5H10v-1zM7 13c0 .553-.448 1-1 1s-1-.447-1-1c0-.553.448-1 1-1s1 .447 1 1m5 0c0 .553-.448 1-1 1-.553 0-1-.447-1-1 0-.553.447-1 1-1 .552 0 1 .447 1 1m-.3028-3.3c-.101.2-.301.3-.4999.3H5.5977c-.199 0-.399-.1-.5-.401L4.513 7.552 3.6991 4.7l-.2-.7h8.998c.1999 0 .2998.1.3988.2.101.2.101.3.101.5l-1.2997 5zm1.9995-6.1c-.3009-.4-.6998-.6-1.1997-.6H3.2992L2.4994.4c-.1-.3-.3-.4-.4999-.4H.5C.1999 0 0 .2 0 .5s.2.5.4999.5h1.1997l1.0997 4L4.199 9.9c.2.699.6998 1.1 1.3987 1.1h5.5996c.5999 0 1.1987-.401 1.3987-1.1L13.8957 5c.2-.5.101-1-.199-1.4z" />\n                            {% endif %}\n                        </svg>\n                    </div>\n                {% endif %}\n            </div>\n            ',this.options)}}),h=n(446),g=n(192),b=(n(501),Object(p.a)(g.a));t.a=a.a.extend({displayName:"StoreModelCard",mixins:[l.a,c.a],optionTypes:{model:u.b.modelShape({uid:u.b.string.isRequired,embedUrl:u.b.string.isRequired,name:u.b.string.isRequired,viewerUrl:u.b.string.isRequired,thumbnails:u.b.object.isRequired,commentCount:u.b.number.isRequired,animationCount:u.b.number.isRequired,reviewCount:u.b.number.isRequired,averageRating:u.b.number,archiveSize:u.b.number,price:u.b.number}).isRequired,isPriceHidden:u.b.bool,isRatingHidden:u.b.bool,previewOnDrag:u.b.bool,linkRef:u.b.string},defaultOptions:{isPriceHidden:!1,isRatingHidden:!0},events:{"change this.options.model":"forceUpdate"},template:function(){var e=r.a.me(),t=i()({},this.model.toJSON(),{viewerUrl:this.model.get("viewerUrl")+(this.options.linkRef?"?ref="+this.options.linkRef:"")});return s.default.getFromMacro("skfb_front/macros/components/molecules/cards/store-model-card","store_model_card",[e.toJSON(),t,{isPriceHidden:this.options.isPriceHidden,isRatingHidden:this.options.isRatingHidden,components:this.createChildrenComponents({modelPreview:{viewClass:b,options:{modelUid:t.uid,color:d.b.storeColor,previewOnDrag:this.options.previewOnDrag}},rating:{viewClass:m.a,options:{value:this.model.get("averageRating")||0,size:"small"}},addToCartIcon:{viewClass:h.a,options:{className:"card-model__add-to-cart__container",model:this.options.model.toJSON(),render:function(e){return{viewClass:f,options:i()({},e)}}}}})}])}})},529:function(e,t,n){"use strict";n.d(t,"a",function(){return V});var o=n(12),i=n.n(o),r=n(11),a=n.n(r),s=n(21),l=n.n(s),c=n(40),u=n.n(c),d=n(53),p=n.n(d),m=n(55),f=n.n(m),h=n(52),g=n.n(h),b=n(43),v=n.n(b),k=n(54),w=n.n(k),y=n(4),C=n.n(y),_=n(39),O=n.n(_),L=n(26),x=n.n(L),S=n(3),F=n.n(S),E=n(1),P=n(7),j=(n(0),n(31)),R=n(18),T=n(27),M=n(69),N=n(16),A=function(e){var t=e.indexOf("(")>0?e.indexOf("(")-1:e.length,n=e.substring(1,t);return"@".concat(n," ")},D=function(e){return e.map(function(e){var t=O()(e,2),n=t[0],o=t[1];return"@".concat(Object(j.stripTags)(n)).concat(o?" (".concat(Object(j.stripTags)(o),")"):"")})},U=i()("div",{className:"c-comment-editor__editor disabled"},void 0,"You must confirm your e-mail address to be able to comment."," ",i()("a",{href:"/settings/email"},void 0,"Go to e-mail settings")),V=function(e){function t(){var e,n;u()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(i))),C()(v()(n),"isUserLimited",function(){return P.a.me().get("isLimited")}),C()(v()(n),"onChange",function(e){n.props.onChange(e.target.value)}),C()(v()(n),"onFocus",function(e){var t=Object(T.c)(n.el).top+250-window.pageYOffset,o=Object(T.c)(n.el).top+250-window.innerHeight;window.innerHeight<t&&F()("html,body").animate({scrollTop:o},200),n.props.onFocus(e)}),C()(v()(n),"onBlur",function(e){n.props.onBlur(e)}),C()(v()(n),"onKeyDown",function(e){13===e.which&&e.metaKey&&n.props.onSubmit()}),C()(v()(n),"searchAutocompletion",function(){var e=l()(a.a.mark(function e(t){var o,i,r,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.b.getUsersAutoComplete(t);case 2:return o=e.sent,i=o.results,r=i.map(function(e){return[e.username,e.displayName]}),s=n.props.getContextualUsers().filter(function(e){return e.username.startsWith(t)}).map(function(e){return[e.username,e.displayName]}),e.abrupt("return",D(Object(E.union)(s,r)));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n}return w()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;n.e(19).then(n.t.bind(null,436,7)).then(function(){e.isUserLimited()||F()(e.editor).textcomplete([{match:/\B@([\w-._]{1,})$/,search:function(t,n){e.searchAutocompletion(t).then(n)},replace:A,index:1}],{debounce:150})})}},{key:"componentDidUpdate",value:function(e){this.editor&&this.props.shouldFocus&&this.props.shouldFocus!==e.shouldFocus&&this.editor.focus()}},{key:"render",value:function(){var e=this,t=this.isUserLimited(),n=this.props,o=n.value,r=n.placeholder,a=n.autofocus,s=n.grey,l=n.isTouched,c=n.error;return x.a.createElement("div",{ref:function(t){return e.el=t},className:Object(M.a)("c-comment-editor",{"--grey":s})},t?U:i()(x.a.Fragment,{},void 0,x.a.createElement("textarea",{ref:function(t){return e.editor=t},className:Object(M.a)("c-comment-editor__editor",{"--error":l&&c}),placeholder:r,required:!0,autoFocus:a,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,value:o}),l&&c?i()("p",{className:"form-error c-comment-editor__error"},void 0,c):null))}}]),t}(x.a.Component);C()(V,"defaultProps",{placeholder:"Leave a comment",autofocus:!1,grey:!1,onBlur:R.d,onFocus:R.d,onSubmit:R.d,getContextualUsers:function(){return[]}})},555:function(e,t,n){n(181),n(376),n(495),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-reviews.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/organisms/model-reviews.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("user_name")){var u=c.user_name;t.setVariable("user_name",u),s+="\n",e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/components/organisms/model-reviews.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("report_link")){var u=c.report_link;t.setVariable("report_link",u),s+="\n",e.getTemplate("skfb_front/macros/comments.jinja",!1,"skfb_front/macros/components/organisms/model-reviews.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("comment_body")){var u=c.comment_body;t.setVariable("comment_body",u),s+="\n\n";var d=o.makeMacro([],["options"],function(i){var r=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var a,s="";return a=e.getFilter("merge").call(t,{components:{}},o.contextOrFrameLookup(t,n,"options")),n.set("options",a,!0),n.topLevel&&t.setVariable("options",a),n.topLevel&&t.addExport("options",a),s+='<div class="c-model-reviews">\n        <div class="c-model-reviews__filters">\n            ',s+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"sortBySelect"),"c-model-reviews__select"),e.opts.autoescape),s+="\n            ",o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"canReview")&&(s+='\n                <a href="',s+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewUrl"),e.opts.autoescape),s+='" class="skfb-link c-model-reviews__write-review-link">\n                    Write your review\n                </a>\n            '),s+="\n        </div>\n        ",s+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelRating")),e.opts.autoescape),s+="\n        ",s+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"reviewList"),"c-model-reviews__list"),e.opts.autoescape),s+="\n    </div>\n",n=r,new o.SafeString(s)});t.addExport("model_reviews"),t.setVariable("model_reviews",d),s+="\n\n\n";var p=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div>\n        <div class="review-item__author-name">\n            ',l+=o.suppressValue((r=27,a=22,o.callWrap(o.contextOrFrameLookup(t,n,"user_name"),"user_name",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"user"),{withSummary:!0}])),e.opts.autoescape),l+='\n        </div>\n\n        <div class="review-item__meta">\n            ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isAuthor")&&(l+='\n                <span class="author small-text">Model author</span>\n            '),l+='\n                <time class="date datefuzz small-text" itemprop="datecreated" datetime="',l+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"createdAt"),e.opts.autoescape),l+='" title="',l+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"createdAt"),e.opts.autoescape),l+='">\n                    ',l+=o.suppressValue(e.getFilter("time_ago").call(t,o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"createdAt")),e.opts.autoescape),l+="\n                </time>\n            ",o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"editedAt")&&(l+='\n                <span class="date small-text">(edited)</span>\n            '),l+="\n        </div>\n    </div>\n",n=s,new o.SafeString(l)});t.addExport("author_name_block"),t.setVariable("author_name_block",p),s+="\n\n";var m=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div\n        class="review-item ',l+=o.suppressValue(e.getFilter("class_names").call(t,{"--deleted":o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"deletedAt")}),e.opts.autoescape),l+='"\n        itemprop="review"\n        itemscope\n        itemtype="http://schema.org/Comment">\n\n        <div\n            class="review-item__avatar"\n            data-action="show-user-summary"\n            data-user="',l+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),"uid"),e.opts.autoescape),l+='">\n            ',l+=o.suppressValue(e.getFilter("image_container").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),"avatars"),32,32),e.opts.autoescape),l+='\n        </div>\n\n        <article class="review-item__body">\n            <div class="review-item__corner-actions">\n                ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")!=o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),"uid")&&(l+='\n                    <div\n                        class="',l+=o.suppressValue(e.getFilter("class_names").call(t,{"review-item__upvote":!0,help:!0,"--active":o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isUpvoted")}),e.opts.autoescape),l+='"\n                        data-action="toggle-upvote">\n                        <span class="review-item__upvote__text">Helpful',l+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isUpvoted")?"!":"?",e.opts.autoescape),l+=' </span>\n                        <span class="review-item__upvote__icon fa fa-thumbs-o-up"></span>\n                        ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isUpvoted")&&(l+='\n                            <span class="tooltip tooltip-down">\n                                You found this review helpful\n                            </span>\n                        '),l+="\n                    </div>\n                "),l+="\n\n                ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"deletedAt")||(l+='\n                    <div class="review-item__options">\n                        <i class="fa fa-cog"></i>\n                        <ul class="hover-menu --left" style="display:none;">\n                            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")==o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),"uid")?(l+='\n                                <li>\n                                    <a href="',l+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewUrl"),e.opts.autoescape),l+='">Edit review</a>\n                                </li>\n                            '):(l+="\n                                <li>\n                                    ",l+=o.suppressValue((r=90,a=48,o.callWrap(o.contextOrFrameLookup(t,n,"report_link"),"report_link",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"SKFB_FAQ_HOST"),"review",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"comment"),"uid"),{text:"Report comment",subject:"Comment by "+o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),"username")+" on "+o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"name")}])),e.opts.autoescape),l+="\n                                </li>\n                            "),l+="\n                        </ul>\n                    </div>\n                "),l+="\n            </div>\n\n            ",l+=o.suppressValue((r=106,a=30,o.callWrap(o.contextOrFrameLookup(t,n,"author_name_block"),"author_name_block",t,[{user:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),isAuthor:o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")==o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"user"),"uid"),editedAt:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"editedAt"),createdAt:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"createdAt")}])),e.opts.autoescape),l+='\n\n            <div class="review-item__text" itemprop="text">\n                <strong>Usage: ',l+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"usage"),e.opts.autoescape),l+="</strong>\n                ",l+=o.suppressValue((r=115,a=29,o.callWrap(o.contextOrFrameLookup(t,n,"comment_body"),"comment_body",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review")])),e.opts.autoescape),l+='\n            </div>\n\n            <div class="review-item__bottom-info">\n                <span>Rating: ',l+=o.suppressValue(e.getFilter("format_rating").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"averageRating")),e.opts.autoescape),l+="</span>\n                <span> - Verified purchase</span>\n                ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"upvoteCount")&&(l+="\n                    <span> - ",l+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"upvoteCount"),e.opts.autoescape),l+=" ",l+=o.suppressValue(e.getFilter("pluralize").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"upvoteCount"),"person","people"),e.opts.autoescape),l+=" found this review helpful</span>\n                "),l+="\n            </div>\n\n            ",l+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"reply")),e.opts.autoescape),l+="\n        </article>\n    </div>\n",n=s,new o.SafeString(l)});t.addExport("review_item"),t.setVariable("review_item",m),s+="\n\n\n";var f=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div class="review-item__reply">\n        ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isModelAuthor")&&o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isEditing")?(l+="\n            ",l+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"editor")),e.opts.autoescape),l+='\n            <div class="review-item__reply__actions">\n                ',l+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"continueButton")),e.opts.autoescape),l+="\n                ",l+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"cancelButton")),e.opts.autoescape),l+='\n                <span class="small-text">Note: Buyers can not delete their review nor reply to your message</span>\n            </div>\n        '):o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"replyBody")?(l+='\n            <div class="review-item__reply__quote">\n                <div class="review-item__corner-actions">\n                    ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isModelAuthor")&&(l+='\n                        <div class="review-item__options">\n                            <i class="fa fa-cog"></i>\n\n                            <ul class="hover-menu --left" style="display:none;">\n                                <li data-action="edit-reply">\n                                    <a>Edit message</a>\n                                </li>\n                            </ul>\n                        </div>\n                    '),l+='\n                </div>\n\n                <div class="review-item__reply__author">\n                    <div\n                        class="review-item__avatar"\n                        data-action="show-user-summary"\n                        data-user="',l+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"modelAuthor"),"uid"),e.opts.autoescape),l+='">\n                        ',l+=o.suppressValue(e.getFilter("image_container").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"modelAuthor"),"avatars"),32,32),e.opts.autoescape),l+="\n                    </div>\n\n                    ",l+=o.suppressValue((r=169,a=38,o.callWrap(o.contextOrFrameLookup(t,n,"author_name_block"),"author_name_block",t,[{user:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"modelAuthor"),isAuthor:!0,editedAt:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"replyEditedAt"),createdAt:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"replyCreatedAt")}])),e.opts.autoescape),l+='\n                </div>\n\n                <div class="review-item__text" itemprop="text">\n                    ',l+=o.suppressValue((r=178,a=33,o.callWrap(o.contextOrFrameLookup(t,n,"comment_body"),"comment_body",t,[{body:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"review"),"replyBody")}])),e.opts.autoescape),l+="\n                </div>\n            </div>\n        "):o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isModelAuthor")&&(l+="\n            ",l+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"replyButton")),e.opts.autoescape),l+="\n        "),l+="\n    </div>\n",n=s,new o.SafeString(l)});t.addExport("review_reply"),t.setVariable("review_reply",f),i(null,s+="\n")}else i(new Error("cannot import 'comment_body'"))})})}else i(new Error("cannot import 'report_link'"))})})}else i(new Error("cannot import 'user_name'"))})})}catch(e){i(o.handleError(e,r,a))}}}},556:function(e,t,n){n(157),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/share-after-publish.jinja"]={b_popup_content:function(e,t,n,o,i){var r="";try{n=n.push(!0),r+='\n\n    <div class="form-column-layout">\n\n        <div class="link-share">\n\n            <div class="success-message">\n                <div class="success-message-icon">\n                    <span class="fa-stack fa-lg">\n                        <i class="fa fa-circle fa-stack-2x" style="color: #1FCC74"></i>\n                        <i class="fa fa-check fa-stack-1x" style="color: #ffffff"></i>\n                    </span>\n                </div>\n                <div class="success-message-text">\n                    Your model has been published\n                </div>\n            </div>\n\n            <div class="popup-publish-link">\n                <input type="text" class="form-input input directlink" value="',r+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"model"),"viewerUrl"),e.opts.autoescape),r+='" />\n            </div>\n\n            <div class="popup-publish-share-privacy">\n                ',o.memberLookup(o.contextOrFrameLookup(t,n,"model"),"isProtected")?r+="\n                    Only people with the link and password will have access\n                ":o.memberLookup(o.contextOrFrameLookup(t,n,"model"),"isPrivate")&&(r+="\n                    Only people with the link will have access\n                "),r+="\n            </div>\n\n            ",o.memberLookup(o.contextOrFrameLookup(t,n,"model"),"isProtected")||o.memberLookup(o.contextOrFrameLookup(t,n,"model"),"isPrivate")||(r+='\n            <div class="form-field">\n                <label class="form-label">Share to</label>\n                <ul class="socialmedia">\n                    <li><button class="icons-facebook" title="Facebook" data-action="share-on-facebook"></button></li>\n                    <li><button class="icons-twitter" title="Twitter" data-action="share-on-twitter"></button></li>\n                    <li><button class="icons-reddit" title="reddit" data-action="share-on-reddit"></button></li>\n                    <li><button class="icons-tumblr" title="tumblr" data-action="share-on-tumblr"></button></li>\n                    <li><button class="icons-linkedin" title="Linkedin" data-action="share-on-linkedin"></button></li>\n                    <li><button class="icons-pinterest" title="Pinterest" data-action="share-on-pinterest"></button></li>\n                    <li><a class="fa fa-envelope-square" title="E-mail" href="',r+=o.suppressValue(o.contextOrFrameLookup(t,n,"mailto"),e.opts.autoescape),r+='"></a></li>\n                </ul>\n            </div>\n            '),i(null,r+="\n\n        </div>\n\n    </div>\n\n")}catch(e){i(o.handleError(e,null,null))}},root:function(e,t,n,o,i){var r="";try{var a=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/share-after-publish.jinja",!1,function(s,l){if(s)i(s);else{for(var c in(a=l).blocks)t.addBlock(c,a.blocks[c]);var u,d;r+="\n\n",u="Model published",n.set("popupTitle",u,!0),n.topLevel&&t.setVariable("popupTitle",u),n.topLevel&&t.addExport("popupTitle",u),r+="\n",d="popup-share popup-publish-share",n.set("popupClass",d,!0),n.topLevel&&t.setVariable("popupClass",d),n.topLevel&&t.addExport("popupClass",d),r+="\n",n.set("popupClosable",!0,!0),n.topLevel&&t.setVariable("popupClosable",!0),n.topLevel&&t.addExport("popupClosable",!0),r+="\n",n.set("popupNeedsLoading",!0,!0),n.topLevel&&t.setVariable("popupNeedsLoading",!0),n.topLevel&&t.addExport("popupNeedsLoading",!0),r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_content"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n",a?a.rootRenderFunc(e,t,n,o,i):i(null,r))})}})}catch(e){i(o.handleError(e,null,null))}}}},557:function(e,t,n){n(150),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-page/model-description.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/organisms/model-page/model-description.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_license")){var u=c.model_license;if(t.setVariable("model_license",u),c.hasOwnProperty("model_unity_icon")){var d=c.model_unity_icon;if(t.setVariable("model_unity_icon",d),c.hasOwnProperty("model_unreal_icon")){var p=c.model_unreal_icon;t.setVariable("model_unreal_icon",p),s+="\n\n";var m=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c="";if(c+="\n\n",l=e.getFilter("merge").call(t,{model:{},authUser:{},exporter:"",components:{},hasShowMore:!1,isDescriptionOpen:!1},o.contextOrFrameLookup(t,n,"options")),n.set("options",l,!0),n.topLevel&&t.setVariable("options",l),n.topLevel&&t.addExport("options",l),c+='\n\n<div\n    class="model-informations ',c+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"hasShowMore")?"--show-more":"",e.opts.autoescape),c+=" ",c+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isDescriptionOpen")?"--expanded":"",e.opts.autoescape),c+='">\n    <section class="model-informations__description">\n        ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore")||(c+='\n            <section class="model-informations__stats">\n                <div class="stat custom-icons icon-triangle-icon">\n                    Triangles: <span>',c+=o.suppressValue(e.getFilter("humanize_number").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"faceCount")),e.opts.autoescape),c+='</span>\n                </div>\n                <div class="stat custom-icons icon-vertex">\n                    Vertices: <span>',c+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"vertexCount"),0)),e.opts.autoescape),c+='</span>\n                </div>\n                <a class="stat skfb-link" data-action="open-information-popup">\n                    More model information\n                </a>\n            </section>\n        '),c+="\n\n        ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"htmlDescription")?(c+='\n            <div\n                class="description-content markdown-rendered-content"\n                data-ref="descriptionContent"\n                itemprop="description">\n                ',c+=o.suppressValue(e.getFilter("safe").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"htmlDescription")),e.opts.autoescape),c+="\n            </div>\n        "):(c+='\n            <div\n                class="description-content markdown-rendered-content --empty"\n                data-ref="descriptionContent"\n                itemprop="description">\n                ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")==o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")?c+='\n                    <p class="skfb-link" data-action="open-modelsettings-popup">Add a description</p>\n                ':c+="\n                    <p>No description provided.</p>\n                ",c+="\n            </div>\n        "),c+='\n\n        <div class="model-informations__list">\n            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDownloadable")&&(c+='\n                <section class="model-meta-row">\n                    <span class="model-meta-info --license">\n                        License: ',c+=o.suppressValue((r=58,a=47,o.callWrap(o.contextOrFrameLookup(t,n,"model_license"),"model_license",t,[o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"license")])),e.opts.autoescape),c+="\n                    </span>\n                </section>\n            "),c+="\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDownloadable")&&(c+='\n            <section class="model-meta-row">\n                <span class="model-meta-info --compatibility">\n                    Compatible with: ',c+=o.suppressValue((r=65,a=54,o.callWrap(o.contextOrFrameLookup(t,n,"model_unity_icon"),"model_unity_icon",t,[{className:"model-compatibility"}])),e.opts.autoescape),c+=o.suppressValue((r=65,a=111,o.callWrap(o.contextOrFrameLookup(t,n,"model_unreal_icon"),"model_unreal_icon",t,[{className:"model-compatibility"}])),e.opts.autoescape),c+="\n                </span>\n            </section>\n            "),c+="\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")?(c+='\n                <section class="model-meta-row publication">\n                    <i class="model-meta-icon icon fa fa-clock-o"></i>\n                    <span class="model-meta-info help">\n                        Published\n                        <time itemprop="datePublished" datetime="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt"),e.opts.autoescape),c+='">',c+=o.suppressValue(e.getFilter("time_ago").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")),e.opts.autoescape),c+='</time>\n                        <div class="tooltip tooltip-down">\n                            ',c+=o.suppressValue(e.getFilter("format_date").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")),e.opts.autoescape),c+="\n                        </div>\n                    </span>\n                </section>\n            "):(c+='\n                <section class="model-meta-row publication">\n                    <i class="model-meta-icon icon fa fa-clock-o"></i>\n                    <span class="model-meta-info help">\n                        Uploaded\n                        <time itemprop="dateCreated" datetime="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"createdAt"),e.opts.autoescape),c+='">',c+=o.suppressValue(e.getFilter("time_ago").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"createdAt")),e.opts.autoescape),c+='</time>\n                        <div class="tooltip tooltip-down">\n                            ',c+=o.suppressValue(e.getFilter("format_date").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"createdAt")),e.opts.autoescape),c+="\n                        </div>\n                    </span>\n                </section>\n            "),c+="\n\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"exporter")&&(c+='\n                <section class="model-meta-row exporter" itemprop="exporter">\n                    <div class="model-meta-icon exporter-icon exporter-icon-',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"exporter"),"key"),e.opts.autoescape),c+='"></div>\n                    <span class="model-meta-info">\n                        Uploaded with\n                        <a\n                            href="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"exporter"),"link"),e.opts.autoescape),c+='"\n                            data-action="open-exporter-link"\n                            data-exporter="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"exporter"),"key"),e.opts.autoescape),c+='"\n                            target="_blank"\n                            ',o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"exporter"),"external")&&(c+='rel="noopener noreferrer nofollow"'),c+=">\n                            ",c+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"exporter"),"name"),e.opts.autoescape),c+="\n                        </a>\n                    </span>\n                </section>\n            "),c+='\n\n            <section class="model-meta-row categories">\n                <i class="model-meta-icon icon custom-icons icon-categories-01-icon"></i>\n                ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"categories")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"categories"),"length")){c+='\n                    <ul class="model-meta-info item-list list-static category-list" itemprop="keywords">',n=n.push();var u=e.getFilter("sort").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"categories"),o.makeKeywordArgs({attribute:"slug"}));if(u)for(var d=u.length,p=0;p<u.length;p++){var m=u[p];n.set("category",m),n.set("loop.index",p+1),n.set("loop.index0",p),n.set("loop.revindex",d-p),n.set("loop.revindex0",d-p-1),n.set("loop.first",0===p),n.set("loop.last",p===d-1),n.set("loop.length",d),c+='<li>\n                            <a\n                                class="item category-item"\n                                href="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore")?"/store/3d-models/"+o.memberLookup(m,"slug"):"/categories/"+o.memberLookup(m,"slug"),e.opts.autoescape),c+='"\n                                title="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore")?"Buy ":"",e.opts.autoescape),c+=o.suppressValue(o.memberLookup(m,"name"),e.opts.autoescape),c+=' 3D Models">\n                                ',c+=o.suppressValue(e.getFilter("pretty_slug").call(t,o.memberLookup(m,"name")),e.opts.autoescape),c+=" 3D Models\n                            </a>\n                        </li>"}n=n.pop(),c+="</ul>\n                "}else c+="\n                    ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")==o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")?c+='\n                        <span class="model-meta-info__item skfb-link" data-action="open-modelsettings-popup">\n                            Add a category\n                        </span>\n                    ':c+='\n                        <span class="model-meta-info__item --empty">\n                            No category set.\n                        </span>\n                    ',c+="\n                ";if(c+='\n            </section>\n\n\n            <section class="model-meta-row tags">\n                <i class="model-meta-icon icon custom-icons icon-tags-icon"></i>\n                ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"tags")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"tags"),"length")){c+='\n                    <ul class="model-meta-info item-list list-static" itemprop="keywords">',n=n.push();var f=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"tags");if(f)for(var h=f.length,g=0;g<f.length;g++){var b=f[g];n.set("tag",b),n.set("loop.index",g+1),n.set("loop.index0",g),n.set("loop.revindex",h-g),n.set("loop.revindex0",h-g-1),n.set("loop.first",0===g),n.set("loop.last",g===h-1),n.set("loop.length",h),c+='<li>\n                            <a class="item tag-item" href="',c+=o.suppressValue((r=149,a=63,o.callWrap(o.contextOrFrameLookup(t,n,"url"),"url",t,["tags:tag_detail_view",o.makeKeywordArgs({tag:b})])),e.opts.autoescape),c+='">',c+=o.suppressValue(b,e.opts.autoescape),c+="</a>\n                        </li>"}n=n.pop(),c+="</ul>\n                "}else c+="\n                    ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")==o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")?c+='\n                        <span class="model-meta-info__item skfb-link" data-action="open-modelsettings-popup">\n                            Add some tags\n                        </span>\n                    ':c+='\n                        <span class="model-meta-info__item --empty">\n                            No tags set.\n                        </span>\n                    ',c+="\n                ";return c+="\n            </section>\n\n\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"likeCount")>0&&(c+="\n                ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"inlineLikes"),"model-meta-row likes"),e.opts.autoescape),c+="\n            "),c+='\n        </div>\n    </section>\n    <div class="show-more-toggle" data-action="show-more">\n        <span>Show</span>\n        <i class="fa fa-caret-down"></i>\n    </div>\n</div>\n',n=s,new o.SafeString(c)});t.addExport("model_description"),t.setVariable("model_description",m),i(null,s+="\n")}else i(new Error("cannot import 'model_unreal_icon'"))}else i(new Error("cannot import 'model_unity_icon'"))}else i(new Error("cannot import 'model_license'"))})})}catch(e){i(o.handleError(e,r,a))}}}},558:function(e,t,n){n(376),n(294),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/model-actions.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/utils.jinja",!1,"skfb_front/macros/components/molecules/model-actions.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("report_link")){var u=c.report_link;t.setVariable("report_link",u),s+="\n",e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/components/molecules/model-actions.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("add_to_open_popup")){var u=c.add_to_open_popup;t.setVariable("add_to_open_popup",u),s+="\n\n";var d=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c="";return c+="\n    ",l=e.getFilter("merge").call(t,{components:{}},o.contextOrFrameLookup(t,n,"options")),n.set("options",l,!0),n.topLevel&&t.setVariable("options",l),n.topLevel&&t.addExport("options",l),c+="\n    ",!o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")||o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDisabled")||o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDeleted")||(c+='\n        <div class="c-model-actions">\n            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDownloadable")&&(c+='\n                <a\n                    href="#download"\n                    class="c-model-actions__button --download"\n                    data-action="open-download-popup"\n                    title="Download Free 3D Model">\n                    <i class="icon fa fa-download"></i>\n                    <span class="c-model-actions__button-label">Download 3D Model</span>\n                </a>\n            '),c+="\n\n            ",c+="\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isPrivate")&&o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")!=o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")||(c+="\n                ",c+=o.suppressValue((r=22,a=34,o.callWrap(o.contextOrFrameLookup(t,n,"add_to_open_popup"),"add_to_open_popup",t,[{buttonClass:"c-model-actions__button --add-to"}])),e.opts.autoescape),c+="\n            "),c+='\n\n            <a class="c-model-actions__button" data-action="open-embed-popup" title="Embed">\n                <i class="icon fa fa-code"></i>\n                <span class="c-model-actions__button-label">Embed</span>\n            </a>\n\n            <a class="c-model-actions__button" data-action="open-share-popup" title="Share">\n                <i class="icon fa fa-share"></i>\n                <span class="c-model-actions__button-label">Share</span>\n            </a>\n\n            ',o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")!=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")&&(c+="\n                ",c+=o.suppressValue((r=36,a=28,o.callWrap(o.contextOrFrameLookup(t,n,"report_link"),"report_link",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"SKFB_FAQ_HOST"),"model",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"uid"),{class:"c-model-actions__button --report",text:'<i class="icon fa fa-flag"></i><span class="c-model-actions__button-label">Report</span>',subject:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"name")+" by "+o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"username")}])),e.opts.autoescape),c+="\n            "),c+="\n        </div>\n    "),c+="\n",n=s,new o.SafeString(c)});t.addExport("model_actions"),t.setVariable("model_actions",d),i(null,s+="\n")}else i(new Error("cannot import 'add_to_open_popup'"))})})}else i(new Error("cannot import 'report_link'"))})})}catch(e){i(o.handleError(e,r,a))}}}},559:function(e,t,n){n(332),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/infinite-list.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/components/atoms/list-item-placeholder.jinja",!1,"skfb_front/macros/components/organisms/infinite-list.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("list_item_placeholder")){var u=c.list_item_placeholder;t.setVariable("list_item_placeholder",u),s+="\n\n";var d=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c="";if(c+="\n    ",l=e.getFilter("merge").call(t,{components:{placeholders:[]},isLoading:!0,hasPreviousPage:!1,hasNextPage:!1,itemClassName:"",placeholdersCount:3,placeholderType:"smallCard"},o.contextOrFrameLookup(t,n,"options")),n.set("options",l,!0),n.topLevel&&t.setVariable("options",l),n.topLevel&&t.addExport("options",l),c+='\n\n    <div class="c-infinite-list">\n        ',o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"hasPreviousPage")&&(c+="\n            ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"loadPrevious"),"c-infinite-list__button --previous"),e.opts.autoescape),c+="\n        "),c+='\n\n        <div class="c-infinite-list__items">',o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"items"),"length"))c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"items"),"c-infinite-list__item"+(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"itemClassName")?" "+o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"itemClassName"):"")),e.opts.autoescape);else if(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"isLoading")){n=n.push();var u=(r=29,a=35,o.callWrap(o.contextOrFrameLookup(t,n,"range"),"range",t,[0,o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"placeholdersCount")]));if(u)for(var d=u.length,p=0;p<u.length;p++){var m=u[p];n.set("index",m),n.set("loop.index",p+1),n.set("loop.index0",p),n.set("loop.revindex",d-p),n.set("loop.revindex0",d-p-1),n.set("loop.first",0===p),n.set("loop.last",p===d-1),n.set("loop.length",d),c+="\n                    ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"placeholders"),m),"c-infinite-list__item",(r=32,a=45,o.callWrap(o.contextOrFrameLookup(t,n,"list_item_placeholder"),"list_item_placeholder",t,[{type:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"placeholderType")}]))),e.opts.autoescape)}n=n.pop()}return c+="</div>\n\n        ",o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"hasNextPage")&&(c+="\n            ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"loadNext"),"c-infinite-list__button --next"),e.opts.autoescape),c+="\n        "),c+="\n    </div>\n",n=s,new o.SafeString(c)});t.addExport("infinite_list"),t.setVariable("infinite_list",d),i(null,s+="\n")}else i(new Error("cannot import 'list_item_placeholder'"))})})}catch(e){i(o.handleError(e,r,a))}}}},56:function(e,t,n){"use strict";var o=n(10),i=n(1),r=n(47),a=n.n(r),s=n(5),l=n.n(s),c=n(80),u=n(99),d=n(59),p=function(e,t){return Math.min(e,Math.max(0,parseInt(t)||0))},m=function(){var e={};return{get:function(t){return e[t]},update:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(n){e[n.uid]=t})}}},f=function(e,t){var n=function(){var t=Object(i.isNumber)(e.lastPage)?e.lastPage:0,n=p(t,e.firstPage);return{lastPage:t,currentPageIndex:n,hasPrevious:0!==n}},o=m(),r=n(),a=function(e){return function(t){return o.update(e,t.results),r.currentPageIndex=e,t.previous||(r.hasPrevious=!1),t.next?r.lastPage=1/0:r.lastPage=e,t}};return{type:"offset",loadPrevious:function(e){var n=p(r.lastPage,r.currentPageIndex-1);return t(n,e).then(a(n))},loadNext:function(e){var n=p(r.lastPage,r.currentPageIndex+1);return t(n,e).then(a(n))},loadFirst:function(e){return r=n(),o=m(),t(0,e).then(a(0))},reset:function(){r=n()},hasPrevious:function(){return r.hasPrevious},hasNext:function(){return r.currentPageIndex+1<r.lastPage},isFirst:function(){return 0===r.currentPageIndex},getQueryParamsForElementUid:function(e){return{page:o.get(e)||""}},getQueryParams:function(){return{page:r.currentPageIndex}},setInitialQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(d.a)(e.split("?")[1]||"").page}(e);o.update(n,t.results)}}},h=n(2),g=n.n(h),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(d.a)(e.split("?")[1]||"").cursor},v=function(){var e={};return{get:function(t){return e[t]},update:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(n){e[n.uid]=t})}}},k=function(e,t){var n=function(){return{previousCursor:e.previous||null,currentCursor:e.current,nextCursor:e.next||null}},o=v(),i=n(),r=function(e,t){return function(n){return o.update(e,n.results),i.currentCursor=e,t.setNext&&(i.nextCursor=n.next?b(n.next):null),t.setPrevious&&(i.previousCursor=n.previous?b(n.previous):null),n}};return{type:"cursor",loadPrevious:function(e){return t(i.previousCursor,e).then(r(i.previousCursor,g()({},e,{setPrevious:!0})))},loadNext:function(e){return t(i.nextCursor,e).then(r(i.nextCursor,g()({},e,{setNext:!0})))},loadFirst:function(e){return i=n(),o=v(),t(i.currentCursor,e).then(r(i.current,g()({},e,{setNext:!0,setPrevious:!0})))},reset:function(){i=n()},hasPrevious:function(){return null!==i.previousCursor},hasNext:function(){return null!==i.nextCursor},isFirst:function(){return i.currentCursor===e.current},getQueryParamsForElementUid:function(e){return{cursor:o.get(e)}},getQueryParams:function(){return{cursor:i.currentCursor}},setInitialQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=b(e);o.update(n,t.results)}}},w=n(8),y=n(19),C=n(18);function _(e,t,n){var o=[],r=Object(i.debounce)(function(){var e=o.slice();o=[],n.trigger(t,e)},20),a=function(e){o.push(e),r()};return n.on(e,a),function(){n.off(e,a)}}var O=n(45),L=Object(c.a)(["initialize"])(a.a.Collection);t.a=L.extend({mixins:[O.b],optionsTypes:{offset:O.a.number,pageSize:O.a.number,paginationType:O.a.oneOf(["cursor","offset"]),lastPage:O.a.number,firstPage:O.a.number,minOffset:O.a.number,maxOffset:O.a.number,cursor:O.a.shape({previous:O.a.string,next:O.a.string})},defaultOptions:function(){return{pageSize:o.a.apiPageSize,paginationType:"cursor",offset:0,minOffset:0,maxOffset:1/0,cursor:{previous:null}}},backend:u.a,previousPromise:l.a.resolve(),constructor:function(){this.options=Object(i.extend)({},this.defaultOptions(),Object(i.pickBy)(arguments[1]||{},function(e){return void 0!==e})),L.apply(this,arguments)},initialize:function(){this.options.backend&&(this.backend=this.options.backend),this._loading="none",_("add","afterAdd",this),_("remove","afterRemove",this),this.triggerAfterRequest=Object(i.debounce)(this.triggerAfterRequest.bind(this),20),this.initializePagination(),L.prototype.initialize.apply(this,arguments)},at:function(e){return e<0?void 0:L.prototype.at.call(this,e)},domain:function(){return Object(i.result)(this.backend,"domain")},parse:function(e){return this.backend.parse(e)},queryParams:function(){return this.isCursorPagination()?{cursor:this._currentCursor,count:Object(i.result)(this.options,"pageSize")}:{offset:this.options.offset,count:Object(i.result)(this.options,"pageSize")}},url:function(){var e=Object(i.result)(this,"domain")+Object(i.result)(this,"endpoint")+w.c.craft("?",this.queryParams());return e=e.replace(/(?!^)\/{2,}/g,"/")},fetch:function(){this.triggerBeforeRequest();var e=this.previousPromise;return this.previousPromise=l.a.resolve(L.prototype.fetch.apply(this,arguments)).then(function(t){return e.timeout(1e3).catch(C.d).then(function(){return t})}),this.previousPromise.then(function(e){return this.previousPromise=l.a.resolve(),this.triggerAfterRequest(e),e}.bind(this))},reset:function(){L.prototype.reset.apply(this,arguments),this.pagination.reset()},triggerBeforeRequest:function(){this.trigger("beforeRequest")},triggerAfterRequest:function(e){this.trigger("afterRequest",e)},isCursorPagination:function(){return"cursor"===this.pagination.type},initializePagination:function(){"offset"===this.options.paginationType?this._initializeOffsetPagination():this._initializeCursorPagination()},_initializeCursorPagination:function(){var e=this.options.cursor;this.pagination=k(e,function(e,t){return this._currentCursor=e,l.a.resolve(this.fetch(Object(i.extend)({},t,{reset:!1,add:!1,remove:!1})))}.bind(this))},_initializeOffsetPagination:function(){var e={lastPage:this.options.lastPage,firstPage:this.options.firstPage};this.pagination=f(e,function(e,t){return this.options.offset=this.options.minOffset+Object(i.result)(this.options,"pageSize")*e,l.a.resolve(this.fetch(Object(i.extend)({},t,{reset:!1,add:!1,remove:!1})))}.bind(this))},loadPreviousPage:function(e){var t=this;this.setLoading("previous");var n=e||{};return this.pagination.loadPrevious(n).then(function(e){var o=t.parse(e);return n.setPrevious&&n.setNext?t.set(o):t.add(o,{at:0}),t.setLoading("none"),o}).catch(function(e){throw t.setLoading("none"),e})},loadNextPage:function(e){var t=this;this.setLoading("next");var n=e||{};return this.pagination.loadNext(n).then(function(e){var o=t.parse(e);return n.setPrevious&&n.setNext?t.set(o):t.add(o),t.setLoading("none"),o}).catch(function(e){throw t.setLoading("none"),e})},loadFirstPage:function(e){var t=this;return this.setLoading("refresh"),this.pagination.loadFirst(e||{}).then(function(e){var n=t.parse(e);return n.length||t.trigger("empty"),t.set(n),t.setLoading("none"),n}).catch(function(e){throw t.setLoading("none"),e})},loadLatestItems:function(){var e=this;return this.setLoading("refresh"),this.pagination.loadFirst({allowPrefetching:!1}).then(function(t){var n=e.parse(t);return e.add(n,{at:0}),e.setLoading("none"),n}).catch(function(t){throw e.setLoading("none"),t})},hasPreviousPage:function(){return this.pagination.hasPrevious()},hasNextPage:function(){return this.pagination.hasNext()},setLoading:function(e){this._loading=e,this.trigger("loadingChanged",e)},loading:function(){return this._loading},isLoading:function(){return"none"!==this._loading}},{extend:function(e,t){var n=Object(i.extend)({},e,{defaultOptions:Object(y.h)(Object(C.g)(this.prototype.defaultOptions||{}),Object(C.g)(e.defaultOptions||{})),optionTypes:Object(i.extend)({},this.prototype.optionTypes||{},e.optionTypes||{})});return L.extend.call(this,n,t)}})},560:function(e,t){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/atoms/payment-solutions.jinja"]={root:function(e,t,n,o,i){var r="";try{var a=o.makeMacro([],["options"],function(e){var t=n;n=new o.Frame,(e=e||{}).hasOwnProperty("caller")&&n.set("caller",e.caller),n.set("options",e.hasOwnProperty("options")?e.options:{});var i="";return i+='\n    <div class="c-payment-solutions">\n        <div class="c-payment-solutions__image --card-visa"></div>\n        <div class="c-payment-solutions__image --card-mastercard"></div>\n        <div class="c-payment-solutions__image --card-amex"></div>\n        via\n        <div class="c-payment-solutions__image --paypal"></div>\n    </div>\n',n=t,new o.SafeString(i)});t.addExport("payment_solutions"),t.setVariable("payment_solutions",a),i(null,r+="\n")}catch(e){i(o.handleError(e,null,null))}}}},565:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=n(26),a=n.n(r),s=n(18),l=n(44),c=n(69);n(0);t.a=function(e){var t=e.hasSubscribed,n=e.onToggleSubscribe,o=e.subscriberCount,r=e.disabled,u=void 0!==r&&r,d=e.className,p=void 0===d?"":d,m=e.tooltipClassName,f=void 0===m?"tooltip-down":m;return i()("div",{className:Object(c.a)(p,"help","subscribe-button","count-subscribe-button","btn-loading","popover-container",{toggled:t,"--disabled":u}),onClick:u?s.d:n},void 0,i()("span",{className:"count"},void 0,Object(l.l)(o)),u?i()("span",{className:"tooltip subscribed-content ".concat(f)},void 0,"Subscribers"):i()(a.a.Fragment,{},void 0,i()("span",{className:"tooltip subscribed-content ".concat(f)},void 0,"Subscribe"),i()("span",{className:"tooltip unsubscribed-content ".concat(f)},void 0,"Unsubscribe")))}},566:function(e,t,n){"use strict";var o=n(12),i=n.n(o);n(26),n(0);t.a=function(e){var t=e.collection;return i()("span",{className:"collection-name"},void 0,i()("a",{className:"label",href:t.collectionUrl,title:t.name},void 0,i()("data",{itemProp:"name"},void 0,t.name)))}},567:function(e,t,n){"use strict";var o=n(12),i=n.n(o),r=(n(26),n(0),i()("span",{className:"flag --new",title:"New Collection"}));t.a=function(e){var t=e.displayNew;return void 0!==t&&t?r:null}},568:function(e,t,n){"use strict";var o=n(40),i=n.n(o),r=n(53),a=n.n(r),s=n(55),l=n.n(s),c=n(52),u=n.n(c),d=n(43),p=n.n(d),m=n(54),f=n.n(m),h=n(4),g=n.n(h),b=n(26),v=n.n(b),k=n(95),w=n(7),y=n(32),C=(n(0),n(9)),_=n(23),O=Object(k.b)(function(e,t){var n=C.c.entities.collection(t.collection.uid,e);return{hasSubscribed:C.c.authUser.hasSubscribed(t.collection.uid,e),subscriberCount:n?n.subscriberCount:t.collection.subscriberCount,hasEntity:!!n}},{updateEntities:C.a.entities.update,getHasSubscribed:C.a.authUser.getHasSubscribed,toggleSubscribe:C.a.authUser.toggleSubscribe}),L=function(e){function t(){var e,n;i()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=l()(this,(e=u()(t)).call.apply(e,[this].concat(r))),g()(p()(n),"onToggleSubscribe",y.e(function(){return w.a.authenticate(function(){return n.props.hasEntity||n.props.updateEntities({collections:[n.props.collection]}),n.props.toggleSubscribe(n.props.collection.uid).then(function(e){n.props.trackerEvent&&_.a[n.props.trackerEvent](n.props.collection.uid,e)})})})),n}return f()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.props.getHasSubscribed(this.props.collection.uid)}},{key:"render",value:function(){return this.props.children({hasSubscribed:this.props.hasSubscribed,onToggleSubscribe:this.onToggleSubscribe,subscriberCount:this.props.subscriberCount})}}]),t}(v.a.Component);t.a=O(L)},57:function(e,t,n){"use strict";var o=n(1),i=n(14),r=n(6),a=n(0);n(261);t.a=i.a.extend({displayName:"Button",optionTypes:{text:a.b.string.isRequired,subtext:a.b.string,onClick:a.b.func,size:a.b.oneOf(["small","medium","input","large","huge"]),type:a.b.oneOf(["ninja","important","danger","primary","secondary","tertiary","primary-inverted","store","plan-pro","plan-prem","plan-biz","plan-ent"]),className:a.b.string,style:a.b.object,attrs:a.b.object,disabled:a.b.bool,loading:a.b.bool,iconClassName:a.b.string,iconAttrs:a.b.object},defaultOptions:{onClick:function(){},size:"medium",type:"primary",className:"",style:{},attrs:{},iconClassName:"",iconAttrs:{},disabled:!1,loading:!1},events:{click:function(e){this.isDisabled()||this.options.onClick(e)}},isDisabled:function(){return this.options.disabled||this.options.loading},template:function(){var e=Object(o.extend)({},this.options.attrs,{classNames:Object(o.extend)({"btn-loading":this.options.loading},this.options.attrs.classNames,["button","btn-"+this.options.type,"btn-"+this.options.size,this.options.className].reduce(function(e,t){return e[t]=!0,e},{})),style:Object(o.extend)({},this.options.attrs.style,this.options.style),disabled:this.isDisabled()});return r.default.getFromMacro("skfb_front/macros/components/atoms/button","button",[{text:this.options.text,subtext:this.options.subtext,loading:this.options.loading,hasIcon:!!this.options.iconClassName||!!Object.keys(this.options.iconAttrs).length,iconAttrs:Object(o.extend)({},this.options.iconAttrs,{className:"icon "+(this.options.iconAttrs.className||this.options.iconClassName)}),attrs:e}])}})},58:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(5),a=n.n(r),s=n(1),l=n(15),c=n(24),u=n(75),d=n(46),p=n(0),m=n(86),f=[];t.a=l.a.extend({parent:"body",el:'<div data-element="popup" />',optionTypes:{cleanOnClose:p.b.bool,shouldExitOnClickOutside:p.b.bool,shouldRejectOnCancel:p.b.bool},defaultOptions:{cleanOnClose:!0,shouldExitOnClickOutside:!0,shouldRejectOnCancel:!1},events:{"click .popup-container":"onClickOutside",'click [data-action="close"]':"cancel","click button:not([type])":d.f},constructor:function(){this.onKeyDown=this.onKeyDown.bind(this),this.debouncedCenter=Object(s.debounce)(this.center,50),this.resizeHandler=function(){i.a.each(f,function(e,t){t.debouncedCenter()})}.bind(this),l.a.apply(this,arguments)},initialize:function(){l.a.prototype.initialize.apply(this,arguments),this.renderLayout()},setElement:function(){return l.a.prototype.setElement.apply(this,arguments),this.$container=this.$(".popup-container"),this},delegateEvents:function(){l.a.prototype.delegateEvents.apply(this,arguments),i()(window).on("resize",this.resizeHandler),document.addEventListener("keydown",this.onKeyDown,!0)},undelegateEvents:function(){l.a.prototype.undelegateEvents.apply(this,arguments),i()(window).off("resize",this.resizeHandler),document.removeEventListener("keydown",this.onKeyDown,!0)},getPromise:function(){return this._promise||(this._promise=new u.a),this._promise},open:function(){return-1!==f.indexOf(this)?(this.show(),this.setElement(this.$el),this.getPromise()):(this.render(),f.unshift(this),i()(Object(s.result)(this,"parent")).append(this.$el),this.setElement(this.$el),this.hide(),this.center(),window.requestAnimationFrame(function(){this.show()}.bind(this)),this.autofocus(),this.center(),this.getPromise())},show:function(){this.$container.removeClass("hidden"),document.body.classList.add("--prevent-scroll")},hide:function(){this.$container.addClass("hidden"),f.filter(function(e){return!e.isHidden()}).length||document.body.classList.remove("--prevent-scroll")},setIsLoading:function(e){this.$container.toggleClass("popup-loading",e)},isHidden:function(){return this.$container.hasClass("hidden")},onKeyDown:function(e){27===e.keyCode&&0!==f.length&&this.cancel()},onClickOutside:function(e){e.target===e.currentTarget&&this.options.shouldExitOnClickOutside&&this.cancel()},cancel:function(e){return this._close(),this.options.shouldRejectOnCancel?this.getPromise().reject(new c.e(e)):this.getPromise().resolve()},continue:function(e){return this._close(),this.getPromise().resolve(e)},_close:function(e,t){return-1===f.indexOf(this)?this:this.$container.closest(".inline-popup").length>0?this:this.options.cleanOnClose||t?(-1!==f.indexOf(this)&&f.splice(f.indexOf(this),1),this.hide(),Object(m.a)(this.$el).timeout(500).catch(function(){}).then(this.remove.bind(this))):(this.hide(),a.a.resolve())},close:function(e){return this._close(null,e)},replaceWith:function(e,t){return this.close(t),e.open()},center:function(){var e=this.$(".js-popup"),t=i()(window).width(),n=i()(window).height(),o=e.height(),r=e.width(),a=(t-r)/2,s=n/2-o/2+(o<n?0:(o-n)/2+40);e.css({position:"absolute",left:"".concat(a,"px"),top:s});var l=a+r/2+"px"+" "+(s+o/2+"px");this.$container.css({perspectiveOrigin:l})},resize:function(e){var t=this.$(".js-popup");return e.width&&t.width(e.width),e.height&&t.height(e.height),this},autofocus:function(){var e=window.scrollX,t=window.scrollY;this.$(".form-input:visible").length>0?(this.$(".form-input").eq(0).focus(),window.scrollTo(e,t)):(this.$(".btn-primary, .submit").focus(),window.scrollTo(e,t))},_removeElement:function(){this.$el.remove()},remove:function(){return this.undelegateEvents(),l.a.prototype.remove.apply(this,arguments)},renderLayout:function(){this.$el.html(this.template()),this.$container=this.$(".popup-container")},afterRender:function(){l.a.prototype.afterRender.apply(this,arguments),this.renderChildren(),this.center()}})},59:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(38),i=n.n(o);function r(e){var t={};return Object.keys(e).forEach(function(n){t[n]=Array.isArray(e[n])?e[n]:[e[n]]}),t}function a(e){return"object"===i()(e)?r(e):("?"===e[0]&&(e=e.substr(1)),e.split(/&+/g).reduce(function(e,t){if(0===t.length)return e;var n=t.indexOf("=");-1===n&&(n=t.length);var o=decodeURIComponent(t.substr(0,n).replace(/\+/g,"%20")),i=decodeURIComponent(t.substr(n+1).replace(/\+/g,"%20"));return void 0===e[o]&&(e[o]=[]),e[o].push(i),e},{}))}},6:function(e,t,n){"use strict";n.r(t);var o,i,r=n(2),a=n.n(r),s=n(3),l=n.n(s),c=n(63),u=n.n(c),d=n(1),p=n(114),m=n(133),f=n(105),h=n(8),g=n(44),b=n(96),v=n(19),k=n(61),w=n(27),y=n(30),C=n(31),_=u.a.Loader.extend({getSource:function(e){return{src:{type:"code",obj:window.nunjucksPrecompiled[e]},path:e}}}),O=new u.a.Environment([new _],{autoescape:!0});O.addGlobal("url",function(e,t){return Object(y.e)(e,Object(d.omit)(t,["__keywords"]))}),O.addFilter("log",function(e){return console.log("[Nunjucks] : ",e),e}),O.addFilter("urlize",function(e,t,n,o){var i=Array.prototype.slice.call(arguments,0);if(i.length&&i[i.length-1].__keywords){var r=i.pop(),a=i[1],s=i[2],l=i[3];t=a||r.trim_url_limit,n=s||r.nofollow,o=l||r.target}return"string"==typeof e&&(e=C.escapeHTML(e)),u.a.runtime.markSafe(C.urlize(e,{trimUrlLimit:t,noFollow:n,target:o}))}),O.addFilter("best_fit",f.a),O.addFilter("iterable",function(e){return Array.isArray(e)?e:[e]}),O.addFilter("slugify",C.slugify),O.addFilter("call_macro_by_name",function(e){var t=this.ctx[e],n=Array.prototype.slice.call(arguments,1);if(!t)throw new Error('Missing macro "'+e+'"');return t.apply(this,n)}),O.addFilter("user_profile_filled",function(e){return"avatar-blue"!==e.avatars.name&&"avatar-orange"!==e.avatars.name&&"avatar-grey"!==e.avatars.name&&(e.biography||e.tagline||e.city||e.country)&&(e.website||e.twitterUsername||e.linkedinUsername||e.facebookUsername||e.unityConnectUrl)}),O.addFilter("has_plan_type",k.f),O.addFilter("badge_label",k.j),O.addFilter("print_suggestion_verb",function(e,t){var n="";return 0===e&&(n=t.displayName+" is a <b>popular</b> user"),10===e&&(n="You <b>liked</b> their models :"),20===e&&(n="You share a common <b>skill</b> :"),30===e&&(n="You share a common <b>interest</b> :"),40===e&&(n="Your profiles are similar."),u.a.runtime.markSafe(n)}),O.addFilter("print_suggestion_target",function(e,t){if(0===t)return"";if(10===t){var n=[];return e.forEach(function(e){var t=l()('<a href="'.concat(Object(y.e)("models:view_without_slug",{model_id:e.uid}),'">').concat(e.name,"</a>"));n.push(l()("<div>").append(t).html())}),u.a.runtime.markSafe(n.join(", "))}return 20===t?e.name:30===t?e.name:40===t?"":void 0}),O.addFilter("skill_slug_to_name",function(e){return o||(o=new m.a).fetch({immediate:!0}),o.findWhere({slug:e}).get("name")}),O.addFilter("category_uid_to_name",function(e){i||(i=new p.a).fetch({immediate:!0});var t=i.findWhere({uid:e}),n=t.get("name");return t.get("parent")&&(n=i.findWhere({uid:t.get("parent")}).get("name ")+"/"+n),n}),O.addFilter("underscorify",C.underscorify),O.addFilter("image_container",function(e,t,n,o,i,r){var a=Object(f.a)(e,t,n);return u.a.runtime.markSafe('\n        <div\n            class="image-container '.concat(r&&!Object(w.h)(a)?"--loading":"",'"\n            ').concat(r?'data-background="'.concat(a,'"'):"",'\n            style="\n                width: ').concat(o?"100%":t+"px",";\n                background-image: url(").concat(a,');\n            ">\n            <div style="padding-top: ').concat(n/t*100,'%"></div>\n        </div>\n    '))}),O.addFilter("query_string",function(e,t){var n=document.createElement("a");return n.href=e,Object.keys(t).length&&(n.search="?"+h.c.craft(h.c.reset(n.search,t))),n.href}),O.addFilter("first_n",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.slice(0,t)}),O.addFilter("fill_null",function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.slice();n.length<t;)n.push(null);return n}),O.addFilter("prettify_text",function(e,t){var n=O.getFilter("striptags")(e);return O.getFilter("urlize")(n,t)}),O.addFilter("paragraphy",function(){return u.a.runtime.markSafe(C.paragraphy.apply(C,arguments))}),O.addFilter("striptags",function(){return u.a.runtime.markSafe(C.stripTags.apply(C,arguments))}),O.addFilter("humanize_number",g.l),O.addFilter("humanize_file_size",g.k),O.addFilter("format_order_uid",C.formatOrderUid),O.addFilter("format_price",g.g),O.addFilter("format_rating",g.h),O.addFilter("comma_formatted_number",g.e),O.addFilter("pluralize",C.pluralize),O.addFilter("markdown",function(e){return e}),O.addFilter("pretty_slug",function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("-").map(d.capitalize).join(" ")}),O.addFilter("merge",function(e,t){return a()({},e,t)}),O.addFilter("json_data",function(e){return JSON.stringify(e).replace(/<\//g,"<\\/")}),O.addFilter("format_date",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM. Do YYYY",n="full"===t?"YYYY/MM/DD HH:mm":t;return b.a.utc(e).format(n)}),O.addFilter("max",function(e){return Math.max.apply(Math,e)}),O.addFilter("min",function(e){return Math.min.apply(Math,e)}),O.addFilter("time_ago",b.b),O.addFilter("seconds_to_duration",function(e){return b.a.utc(1e3*parseFloat(e)).format("mm:ss")}),O.addFilter("can_upgrade_to_pro",function(e){return Object(k.c)(e)}),O.addFilter("humanize_date",function(e){return b.a.utc(e).format("MMM[.] Do[,] YYYY")});var L=O.getFilter("trim");O.addFilter("trim",function(e){return null===e?"":L(e)}),O.addFilter("map",function(e,t){return e.map(function(e){return e[t]})});var x=function(e,t){return new Error("\n\n"+e+(t?" with `"+t+"` className":"")+" is not a Component. \nThe `component` filter only accepts component elements.\nYou can get a component element by calling `Component#createChildrenComponents(childrenConfigs)`, or `Component#createChildComponent(childName, childConfig)`.\n/!\\ Note that this is different from Component instances.\n")};function S(e,t,n){if(!e)return n?"<div data-component ".concat(t?'class="'.concat(t,'"'):"",">").concat(n,"</div>"):"";if("function"!=typeof e)throw x(e,t);var o=e();if(!o.isComponentElement)throw x(e,t);var i="";try{i=o.template()}catch(e){throw new Error("\n\nError while getting the template of Component `"+o.displayName+"`:\n\n"+e.stack+"\n\n")}return'<div data-component id="'.concat(o.cid,'" ').concat(t?'class="'.concat(t,'"'):"",">").concat(i,"</div>")}function F(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")}function E(e){return Object.keys(Object(v.c)(e)).map(function(t){return C.camelToKebabCase(t)+": "+e[t]+";"}).join(" ")}function P(e,t){return Object(d.escape)(e)+'="'+Object(d.escape)(t)+'"'}O.addFilter("component",function(e,t,n){return u.a.runtime.markSafe(Array.isArray(e)?function(e,t,n){return e.map(function(e){return S(e,t,n)}).join("")}(e,t,n):S(e,t,n))}),O.addFilter("class_names",F),O.addFilter("style",E),O.addFilter("attributes",function(e){return u.a.runtime.markSafe(Object.keys(Object(v.c)(e)).map(function(t){return Object(d.includes)(["disabled","checked","selected","readonly","multiple"],t)?e[t]?P(t,!0):"":P(t.match(/^classNames?$/)?"class":C.camelToKebabCase(t),"style"===t?E(e[t]):"classNames"===t?F(e[t]):e[t])}).join(" "))}),t.default={get:Object(d.curry)(function(e,t){return O.render(e+".jinja",t)}),getFromString:Object(d.curry)(function(e,t){return O.renderString(e,t)}),getFromMacro:function(e,t,n){Array.isArray(e)&&(n=t,t=e[1],e=e[0]);var o=function(n){return O.renderString(["{%- from source import "+t+" -%}","{{ "+t+"("+n.map(function(e,t){return"parameters[ "+t+" ]"}).join(",")+") }}"].join("\n"),{source:e+".jinja",parameters:n})};return n?o(n):o}}},61:function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"h",function(){return a}),n.d(t,"i",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return h}),n.d(t,"g",function(){return b}),n.d(t,"k",function(){return v});var o=n(10),i=n(1);function r(e){return o.a.planLabels[e]}function a(e,t){return o.a.proPlanTypes.indexOf(e)>o.a.proPlanTypes.indexOf(t)}function s(e,t){return o.a.proPlanTypes.indexOf(e)>=o.a.proPlanTypes.indexOf(t)}function l(e,t){return!!e.isStaff||!!o.a.proPlanTypes.includes(t)&&o.a.proPlanTypes.slice(o.a.proPlanTypes.indexOf(t)).includes(e.account)}function c(e){return"basic"===e}function u(e){var t=["basic"].concat(o.a.proPlanTypes);return t[t.indexOf(e)+1]}function d(e){return o.a.planLabels[u(e)]||null}var p=Object(i.max)(Object(i.values)(o.a.maxSoundtracksPerModel));function m(e){return o.a.maxSoundtracksPerModel[e]===p}var f=Object(i.max)(Object(i.values)(o.a.maxSoundtracksPerModel));function h(e){return o.a.maxSoundtracksPerModel[e]===f}var g=Object(i.max)(Object(i.values)(o.a.maxModelFilesizes));function b(e){return e>g}function v(e){if("ent"===e.account)return!1;if("basic"===e.account)return!0;var t=e.privateLimit.count;return null!==t&&(0===t||t<=.25*o.a.plansPrivateModelLimit[e.account])}},62:function(e,t,n){"use strict";var o=n(47),i=n.n(o),r=n(80);t.a=Object(r.a)(["initialize","remove","delegateEvents","undelegateEvents","setElement","render","viewDidMount","viewDidUpdate","viewWillUnmount"])(i.a.View)},65:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(4),a=n.n(r),s=n(5),l=n.n(s),c=n(82),u=n(32),d=n(7),p=n(25),m=n(16),f=n(9);t.a=p.a.extend({defaults:{collections:{},disableInfo:{requiredPlan:"",detail:[],isExempt:!1}},initialize:function(){p.a.prototype.initialize.apply(this,arguments),this.on("change:isPrivate",function(){this.get("isPrivate")||this.set("password","")}.bind(this)),this.maxFailCount=5},endpoint:function(){return"/models".concat(this.isNew()?"":"/".concat(this.get("uid")))},reuploadUrl:function(){return this.url()+"/versions"},getModelManagementData:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowPrefetching,n=void 0===t||t;return m.b.getModelManagementData(this.get("uid"),{allowPrefetching:n}).then(function(t){return e.set({hasStats:t.hasStats,downloadStatus:t.downloadStatus,extraFile:t.extraFile,disableInfo:t.disableInfo,hasProcessingVersion:t.hasProcessingVersion}),t})},like:function(){var e=this;return d.a.authenticate(function(){return f.b.store.dispatch(f.a.authUser.likeModel(e.get("uid")))})},unlike:function(){var e=this;return d.a.authenticate(function(){return f.b.store.dispatch(f.a.authUser.unlikeModel(e.get("uid")))})},toggleLike:function(){return d.a.authenticate(function(e){return e.doesLike(this.get("uid"))?this.unlike():this.like()}.bind(this))},hit:function(){var e=d.a.me();if(e.isAuthenticated()){var t=this.get("user")&&e.get("uid")===this.get("user").uid,n=e.get("isStaff");if(t||n)return l.a.resolve()}return this.get("isPublished")?m.b.viewModel(this.get("uid")):l.a.resolve()},isPublished:function(){return(this.get("isPublished")||!!this.get("publishedAt"))&&!this.get("isDeleted")},publish:function(){var e=this;return m.b.publishModel(this.get("uid")).then(function(){e.set({isPublished:!0,publishedAt:new Date})})},sharing:function(){var e=this;return m.b.getModelSharing(this.get("uid")).then(function(t){return e.set("sharing",t),t})},addCollection:function(e,t){this.addCollections(a()({},e,t))},addCollections:function(e){this.set("collections",i()({},this.get("collections"),e))},isInflated:function(){var e=Object.keys(this.attributes);return e.indexOf("description")>-1&&e.indexOf("tags")>-1},isInCollection:function(e){return!!this.get("collections")[e]},isProcessing:function(){var e=this.get("status");return e&&"PROCESSING"===e.processing},canEdit:function(){var e=d.a.me();return e.isAuthenticated()&&(e.get("isStaff")||e.get("uid")===this.get("user").uid)},getCollections:function(e){var t=this,n=e.filter(function(e){return!(e in t.get("collections"))});return n.length?m.b.getModelCollections(this.get("uid"),n).then(function(e){var n=e.results;return t.addCollections(n),n}):(this.trigger("change:collections"),l.a.resolve())},getDownloadType:function(){return this.get("price")>0&&this.get("license")?"paid":this.get("license")?"free":"no"},getExtraArchive:function(){var e=this;return"paid"!==this.getDownloadType()||this.isProcessing()?(this.set("extraArchive",null),l.a.resolve()):m.b.getModelExtraArchive(this.get("uid")).then(function(t){t=t.metadata?t:null,e.set("extraArchive",t)}).catch(function(t){404===t.status&&e.set("extraArchive",null)})},uploadExtraArchive:function(e){return m.b.updateModelExtraArchive(this.get("uid"),e)},removeExtraArchive:function(){return m.b.removeModelExtraArchive(this.get("uid"))},reprocess:function(){return m.b.reprocessModel(this.get("uid")).then(this.checkLatestVersionAndRetry.bind(this)).then(function(e){switch(e.processing){case"SUCCEEDED":return this.set("hasStats",!0),l.a.resolve();case"FAILED":return this.set("hasStats",!1),l.a.reject()}}.bind(this))},getLatestVersion:function(){var e=this;return m.b.getModelVersions(this.get("uid")).then(function(t){var n=t.results,o=n.reduce(function(e,t){return new Date(t.createdAt).getTime()>new Date(e.createdAt).getTime()?t:e},{createdAt:0});return e.set("versions",n),o})},checkLatestVersionAndRetry:function(){return u.b(this.getLatestVersion().then(function(e){return u.f(1/0,function(){return m.b.getVersion(e.uid,{allowPrefetching:!1}).then(function(e){var t=e.status;return["SUCCEEDED","FAILED"].includes(t.processing.toUpperCase())?t:l.a.reject(t)})},{interval:2e3})}))},getOwnershipStatus:function(e){return m.b.getModelOwnershipStatus(this.get("uid"),{allowPrefetching:e})},pollArchivesStatus:function(){var e=this;return u.f(1/0,function(){return e.getModelManagementData({allowPrefetching:!1}).then(function(e){return"archives_processing"===e.downloadStatus||"processing"===e.extraFile.status||"pending"===e.extraFile.status?l.a.reject():e})},{interval:1e4})},checkStatus:function(){var e=this;return m.b.getModelStatus(this.get("uid")).then(function(t){return t?(e.set("status",t),e.set("processingStatus",{PENDING:0,PROCESSING:1,SUCCEEDED:2,FAILED:3}[t.processing.toUpperCase()]),["SUCCEEDED","FAILED"].includes(t.processing.toUpperCase())?t:l.a.reject(t)):l.a.reject()})},checkStatusAndRetry:function(){return u.f(1/0,this.checkStatus.bind(this),{interval:2e3}).catch(function(){return{processing:"FAILED",error:"The server failed to answer in time"}})},getRatings:function(){return m.b.getModelRatings(this.get("uid"))}},{pollDownloadLink:function(e){return c.b.poll(e,function(e){return e>3e4?e:2*e})}})},67:function(e,t,n){"use strict";(function(e){n.d(t,"g",function(){return f}),n.d(t,"d",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return y}),n.d(t,"i",function(){return C}),n.d(t,"h",function(){return _});var o=n(11),i=n.n(o),r=n(39),a=n.n(r),s=n(21),l=n.n(s),c=n(5),u=n.n(c),d=(n(10),n(7)),p=n(73),m=(n(30),n(72)),f=(n(104),n(57),function(){return Object(p.a)({loader:function(){return e.all([n.e(4),n.e(14)]).then(n.bind(null,310))},loading:{viewClass:m.a,options:{message:"Loading the required files for your upload.",title:"Preparing upload",width:600}}})}),h=function(){return Object(p.a)({loader:function(){return e.all([n.e(0),n.e(1),n.e(3),n.e(12)]).then(n.bind(null,347))},loading:{viewClass:m.a,options:{message:"Loading the required files",title:"Preparing embed popup"}}})},g=function(){return Object(p.a)({loader:function(){return e.all([n.e(0),n.e(1),n.e(3),n.e(11)]).then(n.bind(null,346))},loading:{viewClass:m.a,options:{message:"Loading the required files",title:"Preparing embed popup"}}})},b=function(){return Object(p.a)({loader:function(){return n.e(10).then(n.bind(null,345))},loading:{viewClass:m.a,options:{message:"Loading the required files",title:"Preparing download"}}})},v=function(){return Object(p.a)({loader:function(){return n.e(9).then(n.bind(null,344))},loading:{viewClass:m.a,options:{title:"Loading likes"}}})},k=function(){return Object(p.a)({loader:function(){return n.e(17).then(n.bind(null,262))},loading:{viewClass:m.a}})},w=function(){return Object(p.a)({loader:function(){return e.all([n.e(6),n.e(13)]).then(n.bind(null,311))},loading:{viewClass:m.a}})},y=function(){return Object(p.a)({loader:function(){return e.all([n.e(1),n.e(2),n.e(4),n.e(5),n.e(8)]).then(n.bind(null,342))},loading:{viewClass:m.a,options:{title:""}}})},C=function(){var t=l()(i.a.mark(function t(o,r){var s,l,c,d;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.get("uid")===r.get("user").uid){t.next=2;break}throw new Error("User doesn't own the model");case 2:if(!o.get("isLimited")){t.next=7;break}return t.next=5,k();case 5:return s=t.sent,t.abrupt("return",new s({reason:"publish"}).open().then(function(){return u.a.reject()}));case 7:return t.next=9,u.a.all([Object(p.a)({loader:function(){return e.all([n.e(1),n.e(16)]).then(n.bind(null,295))},loading:{viewClass:m.a}}),r.publish()]);case 9:return l=t.sent,c=a()(l,1),d=c[0],t.abrupt("return",new d({model:r}).open());case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=l()(i.a.mark(function t(o){var r,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!d.a.me().get("isLimited")){t.next=5;break}return t.next=3,k();case 3:return r=t.sent,t.abrupt("return",new r({reason:"publish"}).open().then(function(){return u.a.reject()}));case 5:return t.next=7,new e(function(e){return d.a.authenticate(e)});case 7:return t.next=9,Object(p.a)({loader:function(){return e.all([n.e(2),n.e(7)]).then(n.bind(null,343))},loading:{viewClass:m.a}});case 9:return a=t.sent,t.abrupt("return",new a({model:o}).open());case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}).call(this,n(162))},678:function(e,t,n){n(157),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/contact.jinja"]={b_popup_content:function(e,t,n,o,i){var r="";try{n=n.push(!0),r+='\n\n    <div class="form-column-layout" data-action="process-login">\n\n        <div class="fields">\n\n            ',o.memberLookup(o.contextOrFrameLookup(t,n,"from"),"isAnonymous")&&(r+='\n                <div class="form-field">\n                    <label class="form-label" for="email">Your email</label>\n                    <input class="form-input" type="email" name="email" value="" placeholder="you@email.com" />\n                </div>\n            '),r+='\n\n            <div class="form-field">\n                <label class="form-label" for="password-input">Message title</label>\n                <input class="form-input" name="subject" placeholder="Great work" value="',r+=o.suppressValue(o.contextOrFrameLookup(t,n,"title"),e.opts.autoescape),r+='" />\n            </div>\n\n            <div class="form-field">\n                <label class="form-label" for="password-input">Message body</label>\n                <textarea class="form-input" name="body" placeholder="Hi ! ...">',r+=o.suppressValue(o.contextOrFrameLookup(t,n,"body"),e.opts.autoescape),i(null,r+="</textarea>\n            </div>\n\n        </div>\n\n    </div>\n\n")}catch(e){i(o.handleError(e,null,null))}},b_popup_footer:function(e,t,n,o,i){var r="";try{n=n.push(!0),i(null,r+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" type="reset">Cancel</button>\n        <button class="button btn-medium btn-primary submit" type="submit">Continue</button>\n    </div>\n\n')}catch(e){i(o.handleError(e,null,null))}},root:function(e,t,n,o,i){var r="";try{var a=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/contact.jinja",!1,function(s,l){if(s)i(s);else{for(var c in(a=l).blocks)t.addBlock(c,a.blocks[c]);var u,d;r+="\n\n",u="Contact",n.set("popupTitle",u,!0),n.topLevel&&t.setVariable("popupTitle",u),n.topLevel&&t.addExport("popupTitle",u),r+="\n",d="popup-contact",n.set("popupClass",d,!0),n.topLevel&&t.setVariable("popupClass",d),n.topLevel&&t.addExport("popupClass",d),r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_content"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_footer"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n",a?a.rootRenderFunc(e,t,n,o,i):i(null,r))}))})}})}catch(e){i(o.handleError(e,null,null))}}}},69:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d});var o=n(1),i=n(19),r=n(171),a=n.n(r);n.d(t,"b",function(){return a.a});var s=n(140),l=n.n(s);n.d(t,"e",function(){return l.a});var c=function(){return window.innerWidth<=parseInt(l.a.responsiveBreakpointXSmall)},u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.flatMap)(t,function(e){return Object(i.f)(e)?Object(o.flatMap)(Object.keys(e),function(t){return e[t]?[t]:[]}):Array.isArray(e)?e:e?[e]:[]}).join(" ")},d=function(e,t,n,o){var i=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;if(e/t<n/o){var r=t*n/e+i;return{width:n+i,height:r,x:0,y:-Math.abs(r-o)/2||0}}var a=e*o/t+i;return{width:a,height:o+i,x:-Math.abs(a-n)/2||0,y:0}}(e,t,n,o),r=i.width,a=i.height,s=i.x,l=i.y;return{width:r,height:a,transform:"translate(".concat(s,"px, ").concat(l,"px)")}}},7:function(e,t,n){"use strict";var o=n(11),i=n.n(o),r=n(21),a=n.n(r),s=n(2),l=n.n(s),c=n(4),u=n.n(c),d=n(1),p=n(5),m=n.n(p),f=n(25),h=n(41),g=n(29),b=n(61),v=n(24),k=n(16),w=n(9),y=n(111),C=f.a.extend({defaults:{likes:{},followings:{},subscriptions:{},reviewUpvotes:{},purchases:{}},mixins:[Object(y.a)(function(e){return{likes:w.c.authUser.likes(e)}})],endpoint:function(){return this.options.me&&!this.get("uid")?"/users/me":this.isNew()||null!==this.get("uid")?this.isNew()?"/users":"/users/".concat(this.get("uid")):"/users/@".concat(this.get("username"))},isAuthenticated:function(){return!this.get("isAnonymous")},isInflated:function(){return void 0!==this.get("account")&&Object.keys(this.attributes).length>Object.keys(this.defaults).length+1},followUsers:function(e){var t=this;return Array.isArray(e)?(e.forEach(function(e){return t.addFollowing(e,!0)}),C.authenticate(function(){return k.b.followUsers(e)})):m.a.reject("First argument should be an array of user UIDs.")},isProfileFilled:function(){return"avatar-blue"!==this.get("avatars").name&&(this.get("biography")||this.get("tagline")||this.get("city")||this.get("country"))&&(this.get("website")||this.get("twitterUsername")||this.get("linkedinUsername")||this.get("unityConnectUrl")||this.get("facebookUsername"))},follow:function(e){return this.addFollowing(e,!0),k.b.followUser(e)},unfollow:function(e){return this.addFollowing(e,!1),C.authenticate(function(){return k.b.unfollowUser(e)})},addFollowing:function(e,t){var n={},o=this.get("followingCount")||0;n[e]=t,this.addFollowings(n),this.set("followingCount",Math.max(o+(t?1:-1),0))},addFollowings:function(e){this.set("followings",Object(d.extend)({},this.get("followings"),e))},doesFollow:function(e){return!!this.get("followings")[e]},getDoesFollow:function(e){var t=this;return this.isAuthenticated()?k.b.doesCurrentUserFollow(e).then(function(n){return t.addFollowing(e,n),n}):m.a.resolve(!1)},getSummary:function(){var e=this;return k.b.getUserSummary(this.get("uid")).then(function(t){return e.set(t),t})},canViewPrivateModelsOf:function(e){return!!this.isAuthenticated()&&(!0===this.get("isStaff")||void 0!==e&&this.get("uid")===e)},canUpgradePlan:function(){return!1===Object(d.includes)(["ent"],this.get("account"))},canUpgradeToPro:function(){return Object(b.c)(this.get("account"))},doesLike:function(e){return w.c.authUser.doesLike(e,w.b.store.getState())},getDoesLike:function(e){return this.isAuthenticated()?w.b.store.dispatch(w.a.authUser.getDoesLike(e)):m.a.resolve(!1)},addReviewUpvote:function(e,t){this.addReviewUpvotes(u()({},e,t))},addReviewUpvotes:function(e){this.set("reviewUpvotes",Object(d.extend)({},this.get("reviewUpvotes"),e))},hasUpvotedReview:function(e){return this.get("reviewUpvotes")[e]||!1},getHasUpvotedReview:function(e){var t=this;return this.isAuthenticated()?k.b.hasCurrentUserUpvoted(e).then(function(n){return t.addReviewUpvote(e,n),n}):m.a.resolve(!1)},getReviewOnModel:function(e){var t=this;return k.b.getCurrentUserReview(e).then(function(n){return Object.keys(n).length?n:m.a.reject(new v.d("no review found for user ".concat(t.get("uid")," on model ").concat(e)))})},canReview:function(e){return this.isAuthenticated()?k.b.canReviewModel(e).then(function(e){return e.canReview}).catch(function(){return!1}):m.a.resolve(!1)},setPurchase:function(e,t){this.set("purchases",l()({},this.get("purchases"),u()({},e,t)))},getHasPurchased:function(e){var t=this;return this.isAuthenticated()?k.b.hasCurrentUserPurchased(e).then(function(n){return t.setPurchase(e,n),n}):m.a.resolve(!1)},hasPurchased:function(e){return this.get("purchases")[e]||!1},fetchPrivateLimits:function(){return this.isAuthenticated()?this.get("privateLimits")?m.a.resolve(this.get("privateLimits")):k.b.getCurrentUserPrivateLimits().then(function(e){return this.set("privateLimits",Object(d.extend)({},this.get("privateLimits"),e)),m.a.resolve(e)}.bind(this)):m.a.reject("User is not authenticated.")},hasSubscribed:function(e){return!!this.get("subscriptions")[e]},getHasSubscribed:function(e){var t=this;return this.isAuthenticated()?k.b.hasCurrentUserSubscribed(e).then(function(n){return t.updateSubscription(e,n),n}):m.a.resolve(!1)},updateSubscription:function(e,t){this.updateSubscriptions(u()({},e,t))},updateSubscriptions:function(e){this.set("subscriptions",l()({},this.get("subscriptions"),e))},updateAvatar:function(e){return k.b.updateUserAvatar(e).catch(function(e){throw e&&e.detail||"Unexpected error, your user settings may not have been changed."})},updateEmailSettings:function(e){return k.b.updateUserEmailSettings(this.get("uid"),e)},setAllowsRestricted:function(e){return this.isAuthenticated()?this.save({allowsRestricted:e},{patch:!0}):(g.a.set("sb_allows_age_restricted",e),m.a.resolve())},doAllowRestricted:function(){return this.isAuthenticated()?this.get("allowsRestricted"):"true"===g.a.get("sb_allows_age_restricted")},isMe:function(){return C.me().get("uid")===this.get("uid")},canAccessFeature:function(e){return Object(d.includes)(this.get("features").map(d.toUpper),Object(d.toUpper)(e))},getThumbnails:function(){var e=this;return k.b.getUserThumbnails(this.get("uid")).then(function(t){return e.set("thumbnails",t),t})}},{login:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).next;return k.b.login({email:e,password:t,next:n}).then(function(e){return C.clear(),e.result})},authenticate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0,o=function(){var e=a()(i.a.mark(function e(t,o){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(6),n.e(18),n.e(22)]).then(n.bind(null,116)).then(function(e){return e.default});case 2:return r=e.sent,e.abrupt("return",new r({initialForm:"login",next:o}).open().then(function(e){return C.fetchMe().then(function(e){return t(e)}).then(function(t){return t||e}).catch(function(t){return console.error(t),e})}).then(function(e){e&&e!==window.location.href?window.location=e:window.location.reload(!0)}));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),r=C.me();return r.isAuthenticated()?m.a.resolve(e(r)):o(e,t)},getMeSingleton:function(){if(!this._me){var e=w.c.authUser.user(w.b.store.getState());this._me=new C(e,{me:!0})}return this._me},fetchMe:function(){return w.b.store.dispatch(w.a.authUser.get({allowPrefetching:!1})).then(function(){return C.getMeSingleton()})},me:function(){return w.c.authUser.isInflated(w.b.store.getState())||w.b.store.dispatch(w.a.authUser.getFromPrefetched()),C.getMeSingleton()},getByName:function(e){var t=this;return k.b.getUserByName(e).then(function(e){return new t(e)})},getByAttributes:function(e,t){t=Object(d.extend)({},t);var n=new this(e=Object(d.extend)({uid:null},e),Object(d.extend)({},t.userOptions)),o=function(e){return e.set({}),e};return t.immediate?(n.fetch(t),o(n)):n.fetch(t).then(o)},getByUsername:function(e,t){return this.getByAttributes({username:e},t)},getByUid:function(e,t){return this.getByAttributes({uid:e},t)},clear:function(){h.b.invalidate("/i/users/me"),this._me=void 0}});t.a=C},71:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var o=n(40),i=n.n(o),r=n(53),a=n.n(r),s=n(4),l=n.n(s),c=n(2),u=n.n(c),d=n(48),p=function(e){var t=e.name,n=e.test,o=e.onCreate;return{name:t,test:n,lifecycle:u()({onRemove:function(){},onUpdate:function(){return!1},onStartHandling:function(){},onStopHandling:function(){}},o()||{})}},m={push:function(e){return{type:"RouteStack.Push",onCreate:e}},replace:function(e){return{type:"RouteStack.Replace",onCreate:e}},reload:function(){return{type:"RouteStack.Reload"}},noOp:function(){return{type:"RouteStack.NoOp"}}},f=function(){function e(){var t=this;i()(this,e),l()(this,"isInit",!0),l()(this,"routes",[]),l()(this,"activeRoutesStack",[]),l()(this,"handlingRoute",null),l()(this,"onHistoryChange",void 0);var n=function(e){t.handlingRoute!==e&&e.lifecycle.onStartHandling(),t.handlingRoute=e},o=function(e){var o=t.activeRoutesStack[0];o&&function(e){t.handlingRoute===e&&e.lifecycle.onStopHandling(),t.handlingRoute=null}(o),t.activeRoutesStack.unshift(e),n(e)},r=function(e){e.lifecycle.onRemove(),t.activeRoutesStack=t.activeRoutesStack.filter(function(t){return t!==e})},a=function(e,o,i,a){var s=a.remove,l=!0,c=!1,u=void 0;try{for(var d,p=t.activeRoutesStack[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var m=d.value;if(m.test===e)if(m.lifecycle.onUpdate(o,i))return n(m),!0;s&&r(m)}}catch(e){c=!0,u=e}finally{try{l||null==p.return||p.return()}finally{if(c)throw u}}return!1};this.onHistoryChange=function(e,n){var i=t.isInit;t.isInit=!1;var r=!0,s=!1,l=void 0;try{for(var c,d=t.routes[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){var m=c.value,f=m.name,h=m.test,g=m.handler,b=h(e);if(null!==b&&void 0!==b){var v=u()({},n,{isInit:i,activeRoutes:t.activeRoutesStack}),k=g(b,v);switch(k.type){case"RouteStack.Replace":return void(a(h,b,v,{remove:!0})||o(p({name:f,test:h,onCreate:k.onCreate})));case"RouteStack.Push":return void(a(h,b,v,{remove:!1})||o(p({name:f,test:h,onCreate:k.onCreate})));case"RouteStack.Reload":return window.location.reload();case"RouteStack.NoOp":return}}}}catch(e){s=!0,l=e}finally{try{r||null==d.return||d.return()}finally{if(s)throw l}}n.isBack&&window.location.reload()},d.a.listen(this.onHistoryChange)}return a()(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var o=0;o<t.length;o++){var i=t[o],r=i.test,a=i.handler,s=i.name;this.routes.push({test:r,handler:a,name:s})}return this}},{key:"start",value:function(){this.onHistoryChange(d.a.getWindowUrl(),{isBack:!1})}}]),e}()},72:function(e,t,n){"use strict";var o=n(35),i=n.n(o),r=n(14),a=n(6),s=n(74),l=n(89),c=n(0),u=n(90),d=n(153),p=Object(s.a)(function(e){var t=e.createChildrenComponents,n=i()(e,["createChildrenComponents"]);return a.default.getFromString('\n        <div class="c-loading-popup">\n            {{ components.spinner | component }}\n            <p class="c-loading-popup__message">{{ options.message }}</p>\n        </div>\n        ',{options:n,components:t({spinner:{viewClass:d.a,options:{style:{margin:"auto"}}}})})});t.a=Object(l.a)(r.a.extend({displayName:"LoadingPopup",optionTypes:{title:c.b.string,message:c.b.string,width:c.b.number},defaultOptions:{title:"",message:"",width:350},template:function(){return a.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:u.a,options:{title:this.options.title,width:this.options.width,child:{viewClass:p,options:{message:this.options.message}}}}})})}}))},721:function(e,t,n){n(294),n(150),n(181),n(261),n(558),n(557),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-page/main.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/buttons.jinja",!1,"skfb_front/macros/components/organisms/model-page/main.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("star_like_button")){var u=c.star_like_button;t.setVariable("star_like_button",u),s+="\n",e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/organisms/model-page/main.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_name")){var u=c.model_name;t.setVariable("model_name",u),s+="\n",e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/organisms/model-page/main.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("user_name")){var u=c.user_name;t.setVariable("user_name",u),s+="\n",e.getTemplate("skfb_front/macros/components/atoms/button.jinja",!1,"skfb_front/macros/components/organisms/model-page/main.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("button")){var u=c.button;t.setVariable("button",u),s+="\n",e.getTemplate("skfb_front/macros/components/molecules/model-actions.jinja",!1,"skfb_front/macros/components/organisms/model-page/main.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_actions")){var u=c.model_actions;t.setVariable("model_actions",u),s+="\n",e.getTemplate("skfb_front/macros/components/organisms/model-page/model-description.jinja",!1,"skfb_front/macros/components/organisms/model-page/main.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_description")){var u=c.model_description;t.setVariable("model_description",u),s+="\n\n";var d=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c="";return l=e.getFilter("merge").call(t,{authUser:{},model:{},components:{},modelDownloadStatus:{},SKFB_FAQ_HOST:"",description:"",exporter:""},o.contextOrFrameLookup(t,n,"options")),n.set("options",l,!0),n.topLevel&&t.setVariable("options",l),n.topLevel&&t.addExport("options",l),c+='<div class="content-wrapper model-page-main">\n    <div>\n        <div class="viewer-additional">\n            <h1 class="model-name" itemprop="name">\n                ',c+=o.suppressValue((r=22,a=27,o.callWrap(o.contextOrFrameLookup(t,n,"model_name"),"model_name",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),{clickable:!1,withStaffpickLink:!0,withRestrictedFlag:!0}])),e.opts.autoescape),c+='\n                <span class="model-page-main__3d-model">\n                    3D Model\n                </span>\n            </h1>\n\n            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore")&&(c+='\n                <div class="store-informations">\n                    <div class="store-informations__buy">\n                        <div>\n                            <div class="store-informations__price">\n                                ',c+=o.suppressValue(e.getFilter("format_price").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"price")),e.opts.autoescape),c+='\n                            </div>\n                            <div class="rating help" data-action="scroll-to-reviews">\n\n                                ',c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"mobileModelRating")),e.opts.autoescape),c+='\n\n                                <span class="tooltip tooltip-down">\n                                    ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"averageRating")?(c+='\n                                        <span class="count">',c+=o.suppressValue(e.getFilter("format_rating").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"averageRating"),0)),e.opts.autoescape),c+="</span> star",c+=o.suppressValue(e.getFilter("pluralize").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"averageRating")),e.opts.autoescape),c+='\n                                        <br />\n                                        (<span class="count">',c+=o.suppressValue(e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewCount"),0),e.opts.autoescape),c+="</span> reviews)\n                                    "):c+="\n                                        no reviews\n                                    ",c+='\n                                </span>\n\n                                <span class="skfb-link">',c+=o.suppressValue(e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewCount"),0),e.opts.autoescape),c+=" review",c+=o.suppressValue(e.getFilter("pluralize").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewCount")),e.opts.autoescape),c+="</span>\n                            </div>\n                        </div>\n                        ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"addToCartButton"),"",(r=56,a=34,o.callWrap(o.contextOrFrameLookup(t,n,"button"),"button",t,[{text:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDeleted")||"Authorized"!=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"modelDownloadStatus"),"status")?"Add to cart":"download",attrs:{disabled:!0,classNames:{button:!0,"btn-large":!0,"btn-store":!0}}}]))),e.opts.autoescape),c+='\n                    </div>\n                    <div class="store-informations__more" data-action="open-information-popup">\n                        Show 3D model information\n                    </div>\n                </div>\n            '),c+='\n\n            <div class="owner-wrapper">\n                <div\n                    class="owner"\n                    id="data-author"\n                    itemprop="author"\n                    itemscope\n                    itemtype="http://schema.org/Person">\n                    <a\n                        href="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"profileUrl"),e.opts.autoescape),c+='"\n                        itemprop="url"\n                        class="avatar"\n                        data-action="show-user-summary"\n                        data-user="',c+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid"),e.opts.autoescape),c+='">\n                        ',c+=o.suppressValue(e.getFilter("image_container").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"avatars"),48,48),e.opts.autoescape),c+='\n                    </a>\n                    <div class="whoami">\n                        <div class="display-name">',c+=o.suppressValue((r=91,a=60,o.callWrap(o.contextOrFrameLookup(t,n,"user_name"),"user_name",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user")])),e.opts.autoescape),c+='</div>\n                        <div class="actions owner-actions-buttons">\n                            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")!=o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")&&(c+="\n                                ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"followButton"),"",(r=96,a=42,o.callWrap(o.contextOrFrameLookup(t,n,"button"),"button",t,[{text:"follow",attrs:{disabled:!0,classNames:{button:!0,"btn-small":!0,"btn-primary":!0}}}]))),e.opts.autoescape),c+="\n                            "),c+='\n                        </div>\n                    </div>\n                </div>\n\n                <div class="stats">\n                    ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")&&!o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDisabled")&&(c+="\n                        ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDownloadable")&&(c+='\n                            <div class="downloads help">\n                                <div class="icon fa fa-download"></div>\n                                <span class="count">',c+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"downloadCount"),0)),e.opts.autoescape),c+='</span>\n                                <div class="tooltip tooltip-down">\n                                    <span class="count">',c+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"downloadCount"),0)),e.opts.autoescape),c+="</span> Download",c+=o.suppressValue(e.getFilter("pluralize").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"downloadCount")),e.opts.autoescape),c+="\n                                </div>\n                            </div>\n                        "),c+='\n\n                        <div class="views help">\n                            <div class="icon custom-icons icon-eye-icon"></div>\n                            <span class="count">',c+=o.suppressValue(e.getFilter("humanize_number").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"viewCount")),e.opts.autoescape),c+='</span>\n                            <div class="tooltip tooltip-down">\n                                <span class="count">',c+=o.suppressValue(e.getFilter("humanize_number").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"viewCount")),e.opts.autoescape),c+="</span> View",c+=o.suppressValue(e.getFilter("pluralize").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"viewCount")),e.opts.autoescape),c+="\n                            </div>\n                        </div>\n                        ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"starLikeButton"),"",(r=134,a=44,o.callWrap(o.contextOrFrameLookup(t,n,"star_like_button"),"star_like_button",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),{count:{display:!0,like:e.getFilter("humanize_number").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"likeCount"))},popover:{display:!0,arrow:""},buttonClass:"help likes",tooltipClass:"tooltip-down"}]))),e.opts.autoescape),c+="\n                    "),c+='\n                </div>\n            </div>\n\n            <div class="js-model-actions">\n                ',c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelActions"),"",(r=154,a=33,o.callWrap(o.contextOrFrameLookup(t,n,"model_actions"),"model_actions",t,[{model:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),authUser:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),SKFB_FAQ_HOST:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"SKFB_FAQ_HOST")}]))),e.opts.autoescape),c+="\n            </div>\n        </div>\n\n        ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelDescription"),"",(r=165,a=29,o.callWrap(o.contextOrFrameLookup(t,n,"model_description"),"model_description",t,[{model:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),authUser:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),exporter:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"exporter")}]))),e.opts.autoescape),c+="\n\n        ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore")&&(c+='\n            <div class="store-suggestions">\n                ',c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"relatedStoreModels")),e.opts.autoescape),c+="\n            </div>\n        "),c+='\n\n        <div class="comments-wrapper" id="comments">\n            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")&&!o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDisabled")&&(c+="\n                ",c+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"feedbacks")),e.opts.autoescape),c+="\n            "),c+="\n        </div>\n    </div>\n</div>",n=s,new o.SafeString(c)});t.addExport("main"),t.setVariable("main",d),i(null,s+="\n")}else i(new Error("cannot import 'model_description'"))})})}else i(new Error("cannot import 'model_actions'"))})})}else i(new Error("cannot import 'button'"))})})}else i(new Error("cannot import 'user_name'"))})})}else i(new Error("cannot import 'model_name'"))})})}else i(new Error("cannot import 'star_like_button'"))})})}catch(e){i(o.handleError(e,r,a))}}}},722:function(e,t,n){n(261),n(560),n(492),n(559),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/model-page/sidebar.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/components/atoms/button.jinja",!1,"skfb_front/macros/components/organisms/model-page/sidebar.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("button")){var u=c.button;t.setVariable("button",u),s+="\n",e.getTemplate("skfb_front/macros/components/atoms/payment-solutions.jinja",!1,"skfb_front/macros/components/organisms/model-page/sidebar.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("payment_solutions")){var u=c.payment_solutions;t.setVariable("payment_solutions",u),s+="\n",e.getTemplate("skfb_front/macros/components/organisms/model-management.jinja",!1,"skfb_front/macros/components/organisms/model-page/sidebar.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_management")){var u=c.model_management;t.setVariable("model_management",u),s+="\n",e.getTemplate("skfb_front/macros/components/organisms/infinite-list.jinja",!1,"skfb_front/macros/components/organisms/model-page/sidebar.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("infinite_list")){var u=c.infinite_list;t.setVariable("infinite_list",u),s+="\n\n";var d=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c="";return l=e.getFilter("merge").call(t,{placeholdersCount:3},o.contextOrFrameLookup(t,n,"options")),n.set("options",l,!0),n.topLevel&&t.setVariable("options",l),n.topLevel&&t.addExport("options",l),c+='<h5 class="sidebar-title">',c+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"title"),e.opts.autoescape),c+='</h5>\n    <div class="c-vertical-list">\n        ',c+=o.suppressValue((r=11,a=22,o.callWrap(o.contextOrFrameLookup(t,n,"infinite_list"),"infinite_list",t,[{placeholdersCount:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"placeholdersCount")}])),e.opts.autoescape),c+="\n    </div>\n",n=s,new o.SafeString(c)});t.addExport("sidebar_list"),t.setVariable("sidebar_list",d),s+="\n\n\n";var p=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c,u="";return l=e.getFilter("merge").call(t,{model:{},metaImage:"",authUser:{},shouldDisplayModelManagement:!1,components:{},embedOptions:{},modelDownloadStatus:{}},o.contextOrFrameLookup(t,n,"options")),n.set("options",l,!0),n.topLevel&&t.setVariable("options",l),n.topLevel&&t.addExport("options",l),u+='<div>\n    <meta itemprop="commentCount" content="',u+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"commentCount"),e.opts.autoescape),u+='" />\n    <meta itemprop="contentSize" content="',u+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"archiveSize"),0)),e.opts.autoescape),u+='B" />\n    <meta itemprop="discussionUrl" content="',u+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"viewerUrl"),e.opts.autoescape),u+='#comments" />\n    <meta itemprop="embedUrl" content="',u+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"embedUrl"),e.opts.autoescape),u+='" />\n    <meta itemprop="isBasedOnUrl" content="',u+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"viewerUrl"),e.opts.autoescape),u+='/editor" />\n    <link itemprop="thumbnailUrl" href="',u+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"metaImage"),e.opts.autoescape),u+='"></link>\n\n    <div class="navigation">\n\n        ',c=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"uid")==o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"user"),"uid")||o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),"isStaff"),n.set("canEditModel",c,!0),n.topLevel&&t.setVariable("canEditModel",c),n.topLevel&&t.addExport("canEditModel",c),u+="\n\n        ",o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"shouldDisplayModelManagement")&&o.contextOrFrameLookup(t,n,"canEditModel")&&(u+="\n            ",u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelManagement"),"",(r=44,a=33,o.callWrap(o.contextOrFrameLookup(t,n,"model_management"),"model_management",t,[{authUser:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"authUser"),model:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),shareToken:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"embedOptions"),"shareToken")}]))),e.opts.autoescape),u+="\n        "),u+="\n\n        ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore")?(u+='\n            <div class="store-informations">\n                <div class="store-informations__header">\n                    <div class="store-informations__header__price">\n                        ',u+=o.suppressValue(e.getFilter("format_price").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"price")),e.opts.autoescape),u+='\n                    </div>\n                    <ul class="store-informations__header__list">\n                        <li><i class="fa fa-lock fa-fw"></i>Secure payment</li>\n                        <li><i class="fa fa-envelope-o fa-fw"></i>Support from sellers</li>\n                        <li><i class="custom-icons icon-future-update"></i>Access to future versions</li>\n                    </ul>\n\n                    ',u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"addToCartButton"),"",(r=66,a=30,o.callWrap(o.contextOrFrameLookup(t,n,"button"),"button",t,[{text:o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDeleted")||"Authorized"!=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"modelDownloadStatus"),"status")?"Add to cart":"download",attrs:{style:{width:"100%",height:"66px",fontSize:"18px"},disabled:!0,classNames:{button:!0,"btn-huge":!0,"btn-store":!0}}}]))),e.opts.autoescape),u+="\n                    ",u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"paymentSolutions"),"",(r=85,a=41,o.callWrap(o.contextOrFrameLookup(t,n,"payment_solutions"),"payment_solutions",t,[]))),e.opts.autoescape),u+='\n                </div>\n                <div class="store-informations__model">\n                    ',u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelInformation"),"",'<span class="spinner --centered"></span>'),e.opts.autoescape),u+="\n                </div>\n            </div>\n        "):(u+="\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"publishedAt")&&!o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDisabled")&&(u+="\n                ",u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"relatedCollections"),"",(r=99,a=32,o.callWrap(o.contextOrFrameLookup(t,n,"sidebar_list"),"sidebar_list",t,[{title:"In collections"}]))),e.opts.autoescape),u+="\n\n                ",u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"relatedModels"),"",(r=104,a=32,o.callWrap(o.contextOrFrameLookup(t,n,"sidebar_list"),"sidebar_list",t,[{title:"Suggested 3D models",placeholdersCount:6}]))),e.opts.autoescape),u+="\n            "),u+="\n        "),u+="\n    </div>\n</div>",n=s,new o.SafeString(u)});t.addExport("sidebar"),t.setVariable("sidebar",p),i(null,s+="\n")}else i(new Error("cannot import 'infinite_list'"))})})}else i(new Error("cannot import 'model_management'"))})})}else i(new Error("cannot import 'payment_solutions'"))})})}else i(new Error("cannot import 'button'"))})})}catch(e){i(o.handleError(e,r,a))}}}},723:function(e,t,n){"use strict";var o=n(51),i=n(6),r=n(0),a=n(57),s=n(1),l=n(14),c=n(44),u=n(78),d=n(89),p=n(90),m=function(e){return Object(s.dropRight)(Object(s.last)(e.split("/")).split("."),1).join(".")},f=l.a.extend({displayName:"Table",optionTypes:{columns:r.b.arrayOf(r.b.string.isRequired).isRequired,rows:r.b.arrayOf(r.b.object.isRequired).isRequired},template:function(){return i.default.getFromString(["{% if rows.length %}",'    <table class="table">',"        <thead>",'            <tr class="table__header-row">',"                {% for column in columns %}",'                    <th class="table__header-cell">{{ column }}</th>',"                {% endfor %}","            </tr>","        </thead>",'        <tbody class="table__body">',"            {% for row in rows %}",'                <tr class="table__row">',"                    {% for column in columns %}",'                        <td class="table__cell" title="{{ row[column] }}">{{ row[column] }}</td>',"                    {% endfor %}","                </tr>","            {% endfor %}","        </tbody>","    </table>","{% endif %}"].join("\n"),this.options)}}),h=l.a.extend({displayName:"ExtraArchivePopupContent",mixins:[Object(u.a)('[data-ref="content"]')],optionTypes:{threeD:r.b.arrayOf(r.b.shape({version:r.b.string.isRequired,filesize:r.b.number.isRequired,extension:r.b.string.isRequired,filepath:r.b.string.isRequired,fileformat:r.b.string.isRequired}).isRequired),image:r.b.arrayOf(r.b.shape({extension:r.b.string.isRequired,filepath:r.b.string.isRequired,format:r.b.string.isRequired,height:r.b.number.isRequired,width:r.b.number.isRequired,filesize:r.b.number.isRequired}).isRequired).isRequired,misc:r.b.arrayOf(r.b.shape({extension:r.b.string.isRequired,filepath:r.b.string.isRequired,filesize:r.b.number.isRequired}).isRequired).isRequired},defaultOptions:{threeD:[],image:[],misc:[]},template:function(){return i.default.getFromString(['<div data-ref="content" class="extra-archive-popup__content">',"    {% if hasContentToDisplay %}","        {{ components.table3D | component('extra-archive-popup__table') }}","        {{ components.tableTexture | component('extra-archive-popup__table') }}","        {{ components.tableMisc | component('extra-archive-popup__table') }}","    {% else %}","        Nothing was found in the additional file.","    {% endif %}","</div>"].join("\n"),{hasContentToDisplay:this.options.threeD.concat(this.options.image).concat(this.options.misc).length,components:this.createChildrenComponents({table3D:{viewClass:f,options:{columns:["3D files","Extension","Format","Size"],rows:this.options.threeD.map(function(e){return{"3D files":m(e.filepath),Extension:"."+e.extension,Format:e.fileformat,Size:Object(c.k)(e.filesize)}})}},tableTexture:{viewClass:f,options:{columns:["Textures","Resolution","Extension","Size"],rows:this.options.image.map(function(e){return{Textures:m(e.filepath),Resolution:e.width+"x"+e.height,Extension:"."+e.extension,Size:Object(c.k)(e.filesize)}})}},tableMisc:{viewClass:f,options:{columns:["Other files","Extension","Size"],rows:this.options.misc.map(function(e){return{"Other files":m(e.filepath),Extension:"."+e.extension,Size:Object(c.k)(e.filesize)}})}}})})}}),g=Object(d.a)(l.a.extend({displayName:"ExtraArchivePopup",optionTypes:{extraArchive:r.b.shape({metadata:r.b.shape({"3d":r.b.array.isRequired,image:r.b.array.isRequired,misc:r.b.array.isRequired}).isRequired}).isRequired},template:function(){return i.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:p.a,options:{title:"Additional file",className:"extra-archive-popup",child:{viewClass:h,options:{threeD:this.options.extraArchive.metadata["3d"],image:this.options.extraArchive.metadata.image,misc:this.options.extraArchive.metadata.misc}}}}})})}})),b=n(169);n(810),t.a=o.a.extend({displayName:"ModelInformation",optionTypes:{model:r.b.shape({isDownloadable:r.b.bool,downloadCount:r.b.number,ext:r.b.string,archiveSize:r.b.number,status:r.b.shape({processing:r.b.string.isRequired}),faceCount:r.b.number,vertexCount:r.b.number,license:r.b.object,extraArchive:r.b.shape({metadata:r.b.shape({"3d":r.b.arrayOf(r.b.object.isRequired),summary:r.b.arrayOf(r.b.string.isRequired)}).isRequired,filename:r.b.string.isRequired})}).isRequired,authUser:r.b.shape({features:r.b.arrayOf(r.b.string.isRequired).isRequired}).isRequired,onInspect:r.b.func,onReviewsClick:r.b.func},events:{'click [data-action="showExtraFile"]':function(){new g({extraArchive:this.options.model.extraArchive}).open()},'click [data-action="scrollToReviews"]':function(){this.options.onReviewsClick&&this.options.onReviewsClick()}},template:function(){var e={};return this.options.onInspect&&(e.inspectButton={viewClass:a.a,options:{text:"inspect the 3d model",subtext:"materials and more",size:"large",onClick:this.options.onInspect,iconClassName:"custom-icons icon-inspector",iconAttrs:{style:{transform:"scale(4)",marginTop:"5px"}},style:{width:"100%",fontWeight:"700"}}}),this.options.model.inStore&&this.options.onReviewsClick&&this.options.model.averageRating&&(e.modelRating={viewClass:b.a,options:{size:"medium",value:this.options.model.averageRating}}),i.default.getFromMacro("skfb_front/macros/components/molecules/model-information","model_information",[{model:this.options.model,authUser:this.options.authUser,components:this.createChildrenComponents(e),shouldDisplayReviews:!!this.options.onReviewsClick}])}})},724:function(e,t,n){"use strict";var o=n(28),i=n.n(o),r=n(26),a=n(18);t.a=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=Object(r.useRef)(e()),l=function(e){return t(function(t){var o=n(t,e);return s.current=o,o})},c=Object(r.useRef)(l);Object(r.useEffect)(function(){c.current=l});var u=Object(r.useMemo)(function(){var e=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},t={getState:function(){return s.current},dispatch:function(){return e.apply(void 0,arguments)}},n=o.map(function(e){return e(t)});return e=a.b.apply(void 0,i()(n))(function(){return c.current.apply(c,arguments)})},[]);return[e(),u]}},73:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n(2),i=n.n(o),r=n(5),a=n.n(r),s=n(24),l=n(32),c=500;function u(e){var t=e.loader,n=e.loading,o=n.viewClass,r=n.options,u=void 0===r?{}:r,d=new o(i()({},u,{shouldRejectOnCancel:!0})),p=Object(l.b)(t()),m=Object(l.b)(a.a.delay(c)),f=!1;return m.then(function(){f=!0,d.open().catch(function(){p.cancel()})}).catch(Object(s.g)(s.a)),p.then(function(e){var t=e.default;return f?d.close():m.cancel(),t}).catch(function(e){throw f?d.close():m.cancel(),e}).catch(function(e){throw e instanceof s.a?new s.e:e})}},74:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(1),i=n(51);function r(e){return i.a.extend({displayName:e.name||e.displayName||"StatelessComponent",optionTypes:e.optionTypes,initialize:function(){i.a.prototype.initialize.apply(this,arguments),this.createChildrenComponents=this.createChildrenComponents.bind(this),this.createChildComponent=this.createChildComponent.bind(this)},template:function(){return e(Object(o.extend)({},this.options,{createChildComponent:this.createChildComponent,createChildrenComponents:this.createChildrenComponents}))}})}},75:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(5),i=n.n(o);function r(){var e={},t=new i.a(function(t,n){e.resolve=t,e.reject=n});return t.resolve=e.resolve,t.reject=e.reject,t.promise=t,t}},76:function(e,t,n){"use strict";n.d(t,"b",function(){return a});var o=n(1),i=n(187),r=n.n(i),a=Symbol("instanceKey"),s=function(e){var t=e[a];return!t||t.shouldUpdate};t.a={name:"WithTemplate",template:function(){return""},renderDiff:function(e){var t=this.el.cloneNode();t.innerHTML=e,r()(this.el,t,{onBeforeElUpdated:s,onBeforeElChildrenUpdated:s,childrenOnly:!0})},render:function(){this.renderDiff(Object(o.result)(this,"template"))}}},77:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(3),a=n.n(r),s=n(1),l=n(19),c=n(46),u=Symbol("windowCallbackKey");t.a={name:"WithWindowEvents",constructor:function(){var e=this;this[u]={listeners:[]},this.events=Object(l.e)(this.events,function(t,n){var o=Object(c.e)(n);if("window"!==o.selector)return i()({},n,t);if("string"==typeof t&&!e[t])throw new Error("WithWindowEvents error: "+e.displayName+"."+t+" is not defined.");return e[u].listeners.push({eventName:o.eventName,callback:function(){for(var n,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return Object(s.isFunction)(t)?t.call.apply(t,[e].concat(i)):(n=e[t]).call.apply(n,[e].concat(i))}}),{}})},delegateEvents:function(){this[u].listeners.forEach(function(e){a()(window).on(e.eventName,e.callback)})},undelegateEvents:function(){this[u].listeners.forEach(function(e){a()(window).off(e.eventName,e.callback)})},beforeRemove:function(){this[u].listeners.forEach(function(e){a()(window).off(e.eventName,e.callback)})}}},78:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(3),a=n.n(r);t.a=function(e){return{name:"PreventPageScroll",constructor:function(){this.events=function(e,t){var n,o={},r=e?" "+e:"";return o["wheel"+r]=function(e){var t=-.25*e.originalEvent.wheelDelta;t&&(e.preventDefault(),a()(e.currentTarget).scrollTop(t+a()(e.currentTarget).scrollTop()))},o["touchstart"+r]=function(e){n=e.originalEvent.touches[0].pageY},o["touchmove"+r]=function(e){e.preventDefault();var t=n-e.originalEvent.touches[0].pageY;n=e.originalEvent.touches[0].pageY,a()(e.currentTarget).scrollTop(t+a()(e.currentTarget).scrollTop())},i()({},t,o)}(e,this.events)}}}},79:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(15),a=n(8),s=n(7),l=n(48),c=n(126),u=n(29),d=n(158),p=n(4),m=n.n(p),f=n(1),h=n(19),g=n(46),b=Symbol("routeCallbackKey"),v={name:"WithRouteEvents",constructor:function(){var e=this;this[b]={hash:{},onHashChange:function(){window.location.hash&&e[b].hash[window.location.hash]&&e[b].hash[window.location.hash](window.location.hash)}},this.events=Object(h.e)(this.events,function(t,n){var o=Object(g.e)(n);if("route"!==o.eventName)return m()({},n,t);if("string"==typeof t&&!e[t])throw new Error("WithRouteEvents error: ".concat(e.displayName,". ").concat(t," is not defined."));if(!o.selector.match("#"))throw new Error("WithRouteEvents error: ".concat(e.displayName,". ").concat(o.selector," is not supported. Currently only #s are supported."));return e[b].hash[o.selector]=Object(f.isFunction)(t)?t.bind(e):e[t].bind(e),{}})},initialize:function(){this[b].onHashChange()},viewDidMount:function(){window.addEventListener("hashchange",this[b].onHashChange,!1)},viewWillUnmount:function(){window.removeEventListener("hashchange",this[b].onHashChange,!1)}},k=n(68),w=n.n(k),y=n(245),C={name:"UserSummary",constructor:function(){this.enabled=!w.a.any,this.enabled&&(this.userSummary=new y.default,this.userSummaryOnBodyClick=this.userSummaryOnBodyClick.bind(this),this.userSummaryOnClick=this.userSummaryOnClick.bind(this),this.userSummaryEnterElement=this.userSummaryEnterElement.bind(this),this.userSummaryLeaveElement=this.userSummaryLeaveElement.bind(this),this.userSummaryEnterUserSummary=this.userSummaryEnterUserSummary.bind(this),this.userSummaryLeaveUserSummary=this.userSummaryLeaveUserSummary.bind(this))},delegateUserSummary:function(){if(this.enabled){var e=i()("body");e.on("click",this.userSummaryOnBodyClick),e.on("click",".user-summary",this.userSummaryOnClick),e.on("mouseenter",'[data-action="show-user-summary"][data-user]',this.userSummaryEnterElement),e.on("mouseleave",'[data-action="show-user-summary"][data-user]',this.userSummaryLeaveElement),e.on("mouseenter",".user-summary",this.userSummaryEnterUserSummary),e.on("mouseleave",".user-summary",this.userSummaryLeaveUserSummary)}},undelegateUserSummary:function(){if(this.enabled){var e=i()("body");e.off("click",this.userSummaryOnBodyClick),e.off("click",".user-summary",this.userSummaryOnClick),e.off("mouseenter",'[data-action="show-user-summary"][data-user]',this.userSummaryEnterElement),e.off("mouseleave",'[data-action="show-user-summary"][data-user]',this.userSummaryLeaveElement),e.off("mouseenter",".user-summary",this.userSummaryEnterUserSummary),e.off("mouseleave",".user-summary",this.userSummaryLeaveUserSummary)}},isUserSummaryVisible:function(){return!(!this._inAvatar&&!this._inUserSummary)},userSummaryToggleUserSummary:function(){this.isUserSummaryVisible()?this.userSummary.show():this.userSummary.hide()},userSummaryOnBodyClick:function(){this.isUserSummaryVisible()||this.userSummary.hide()},userSummaryOnClick:function(e){e.stopPropagation()},userSummaryEnterElement:function(e){clearTimeout(this.userSummaryLeaveElementTimeout);var t=i()(e.currentTarget),n=t.data("user"),o=this._getAnchor(t),r=this;this.userSummary.isVisible()&&n===this.userSummary.model.get("uid")||(this.userSummaryTimeout=setTimeout(function(){r._inAvatar=!0,r._inUserSummary=!1,r.userSummary.setUser(n,this.userSummaryOptions),r.userSummary.anchor(o),r.userSummaryToggleUserSummary()}.bind(this),300)),this.userSummary.isVisible()&&(this.userSummaryTimeout=setTimeout(function(){this._inAvatar=!0,this._inUserSummary=!1,this.userSummaryToggleUserSummary(),r.userSummary.anchor(o)}.bind(this),300))},userSummaryLeaveElement:function(){this.userSummaryLeaveElementTimeout=setTimeout(function(){clearTimeout(this.userSummaryTimeout),this._inAvatar=!1,this.userSummaryToggleUserSummary()}.bind(this),100)},userSummaryEnterUserSummary:function(){clearTimeout(this.userSummaryLeaveElementTimeout),this._inUserSummary=!0,this._inAvatar=!1,this.userSummaryToggleUserSummary()},userSummaryLeaveUserSummary:function(){this.userSummaryLeaveElementTimeout=setTimeout(function(){this._inUserSummary=!1,this.userSummaryToggleUserSummary()}.bind(this),100)},_getAnchor:function(e){var t=e.find("[data-user-summary-anchor]"),n=e.data("user-summary-anchor-class"),o=!!n;return t.length?t[0]:o?i()(n)[0]:e[0]}},_=n(10),O=n(253),L={name:"VrLink",initializeVrLink:function(e){if(Object(O.a)())this.removeVrLink();else{var t,n=this._makeQuery(e);t="/vr-launcher?model="+_.a.vr.launcherUid+"&vr_link_navigation=1#"+n,this.$(".vr-link-container").html(['<a href="'+t+'" class="button btn-medium btn-important">','   <i class="custom-icons icon-vr-icon"></i> View in VR',"</a>"].join(""))}},_makeQuery:function(e){var t="";return t=e.user?this._getQuery("user",e.user):e.collection?this._getQuery("collection",e.collection):e.categories&&e.categories.length?this._getQuery("category",e.categories[0].uid)+"&extra="+e.categories[0].slug:"query="+this.createJsonUrlParam(e),e.cursor&&(t+="&cursor="+e.cursor),t},createJsonUrlParam:function(e){for(var t in e){var n=e[t];(!n||Array.isArray(n)&&!n.length)&&delete e[t]}return encodeURIComponent(JSON.stringify(e))},_getQuery:function(e,t){return e+"?resourceIdentifier="+t},removeVrLink:function(){this.$(".vr-link-container").empty()}},x=n(67),S=n(24),F=n(134),E=n(23),P=n(93),j=n(0),R=n(78),T=n(27),M=n(77),N=n(14),A=n(6),D=n(212),U=N.a.extend({displayName:"NotificationsPopin",optionTypes:{isOpen:j.b.bool.isRequired},template:function(){return this.options.isOpen?A.default.getFromString('\n                <div class="header-action-icon__popin --open" data-action="stop-propagation">\n                    <div class="header-notifications__scrollable js-scrollable">\n                        {{ components.grid | component }}\n                    </div>\n                    <div class="header-notifications__see-all">\n                        <a href="/feed/activity?feed=activities">See all notifications</a>\n                    </div>\n                </div>\n            ',{components:this.createChildrenComponents({grid:{viewClass:D.a,options:{feedType:"notifications",itemOptions:{isSmall:!0},shouldHidePagination:!0,pageSize:10}}})}):""}}),V=r.a.extend({displayName:"HeaderNotification",mixins:[Object(R.a)(".js-scrollable"),M.a],optionTypes:{hasPopin:j.b.bool.isRequired},defaultOptions:{hasPopin:!0},children:{popin:{selector:'[data-action="display-notifications"]',viewClass:U,shouldCreateChild:function(){return this.options.hasPopin},options:function(){return{isOpen:this.state.isOpen}}}},events:{click:"toggle","click window":"onWindowClick",'click [data-action="stop-propagation"]':g.g},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.state={isOpen:!1,unseenNotifCount:0},this.close=this.close.bind(this),this.unseenModel=P.a.getSingleton(),this.unseenModel.on("change:activitiesCount",this.updateUnseenNotifCount,this)},viewWillUnmount:function(){this.unseenModel.off("change:activitiesCount",this.updateUnseenNotifCount,this)},updateUnseenNotifCount:function(){this.setState({unseenNotifCount:this.unseenModel.get("activitiesCount")})},onWindowClick:function(e){Object(T.g)(this.el,e.target)||this.close()},close:function(){this.setState({isOpen:!1})},toggle:function(e){if(this.options.hasPopin){e.preventDefault();var t=!this.state.isOpen;this.setState({isOpen:t,unseenNotifCount:0})}},render:function(){this.$('[data-action="unseen-count"]').html(this.state.unseenNotifCount).toggleClass("--hidden",0===this.state.unseenNotifCount),this.renderChildren()}}),B=n(130),I=n(9),z=n(115),q=n(57),$=n(180),W=n(203),H=n(202),G=(n(349),Object(z.a)(function(e){return{cartModels:I.c.cart.models(e)}},{removeModel:I.a.cart.removeModel,getCart:I.a.cart.get})(N.a.extend({displayName:"CartPopin",mixins:[M.a,Object(R.a)(".js-prevent-page-scroll")],optionTypes:{hasPopin:j.b.bool},defaultOptions:{hasPopin:!0},state:{isOpen:!1,cartModels:[]},events:{click:function(e){this.options.hasPopin&&(e.preventDefault(),this.setState({isOpen:!this.state.isOpen}))},"resize window":"resizePopin","click window":function(e){Object(T.g)(this.el,e.target)||this.setState({isOpen:!1,popinMaxHeight:this.getPopinMaxHeight()})},'click [data-action="stop-propagation"]':g.g},viewDidMount:function(){this.options.getCart(),this.resizePopin()},getPopinMaxHeight:function(){return"".concat(window.innerHeight-100,"px")},resizePopin:function(){this.setState({popinMaxHeight:this.getPopinMaxHeight()})},onRemoveModel:function(e){return this.options.removeModel(e)},template:function(){var e=this;return A.default.getFromMacro("skfb_front/macros/components/organisms/cart/cart-popin","cart_popin",[{popinMaxHeight:this.state.popinMaxHeight,count:this.options.cartModels.length,isOpen:this.state.isOpen,totalPrice:Object(B.e)(this.options.cartModels),components:this.createChildrenComponents({cartHeader:{viewClass:$.a,options:{title:"Shopping Cart",count:this.options.cartModels.length}},list:this.options.cartModels.length?this.options.cartModels.map(function(t){return{viewClass:W.a,options:{key:t.uid,model:t,onRemove:function(){return e.onRemoveModel(t)}}}}):{viewClass:H.a},checkoutButton:{viewClass:q.a,options:{text:"go to checkout",type:"store",size:"large"}}})}])}}))),J=n(69),Y=(n(348),Object(z.a)(function(e){return{canOpen:!I.c.search.isOpen(e)}})(N.a.extend({displayName:"Banner",mixins:[M.a],optionTypes:{canOpen:j.b.bool},events:{"resize window":"onResize",'click [data-action="close"]':function(){this.setState({isOpen:!1});u.a.set("sb_store_banner_closed","true",{expires:6048e5})}},initialize:function(){N.a.prototype.initialize.apply(this,arguments),this.onResize=this.onResize.bind(this),this.state={isOpen:!u.a.get("sb_store_banner_closed",!1),isSmallScreen:Object(J.d)()}},onResize:function(){this.setState({isSmallScreen:Object(J.d)()})},template:function(){var e=this.state.isOpen&&this.options.canOpen&&!this.state.isSmallScreen;return i()("body").toggleClass("--with-banner",e),A.default.getFromMacro("skfb_front/macros/components/molecules/banner","banner",[{isOpen:e}])}}))),K=n(116),X=n(16),Q=r.a.extend({displayName:"Header",mixins:[M.a],children:{headerNotifications:{selector:".js-header-notifications",viewClass:V,shouldCreateChild:function(){return!!this.$(".js-header-notifications").length}},headerCart:{selector:".js-header-cart",viewClass:G,shouldCreateChild:function(){return!!this.$(".js-header-cart").length}},storeBanner:{selector:".js-banner",viewClass:Y,shouldCreateChild:function(){return!!this.$(".js-banner").length&&[/^\/\w+\/store/,/^\/store/,/^\/signup/,/^\/login/].every(function(e){return!window.location.pathname.match(e)})}}},events:{'click [data-action="open-search"]':"openSearch",'click [data-action="userMenu"]':"toggleUserMenu",'click [data-action="open-signup"]':"openSignup",'click [data-action="open-login"]':"openLogin",'click [data-action="open-upload"]':"openUpload",'click [data-action="open-signup-upload"]':"openSignupUpload",'click [data-action="open-signup-store-seller"]':"openSignupStoreSeller",'click [data-action="exit-search"]':"onSearchCancel","focus .header-search-form":"onSearchFocus","click .clear":"onClickClear","keyup .value":"onQueryKeyup","input .value":"onQueryInput","focus .value":"onInputFocus","blur .value":"onInputBlur",'submit [data-action="search"]':function(e){e.preventDefault()},'submit [data-action="logout"]':"onLogout"},constructor:function(){this.onInputBlur=Object(f.debounce)(this.onInputBlur,200),this.setScrollClassName=Object(f.throttle)(this.setScrollClassName.bind(this),100),this.renderInputContent=this.renderInputContent.bind(this),r.a.prototype.constructor.apply(this,arguments)},initialize:function(){r.a.prototype.initialize.apply(this,arguments),this.state={isInputFocused:!1},window.addEventListener("scroll",this.setScrollClassName,{passive:!0}),this.unsubscribe=I.b.subscribeTo(I.c.search.query,this.renderInputContent),this.setScrollClassName(),this.render()},viewWillUnmount:function(){window.removeEventListener("scroll",this.setScrollClassName),this.unsubscribe()},onLogout:function(e){e.preventDefault(),X.b.logout().then(function(){window.location="/?logged_out=1"})},onQueryKeyup:function(e){13===e.keyCode&&e.stopPropagation()},onQueryInput:function(e){I.b.store.dispatch(I.a.search.updateQuery(e.target.value))},onClickClear:function(e){e.preventDefault(),I.b.store.dispatch(I.a.search.updateQuery("")),this.$(".value").focus()},onInputFocus:function(){this.setState({isInputFocused:!0})},onInputBlur:function(){this.setState({isInputFocused:!1})},setScrollClassName:function(){var e=i()(window).scrollTop();this.$el.toggleClass("--scroll",e>50)},toggleClearQueryButton:function(e){this.$(".clear").toggleClass("hidden",!e)},toggleUserMenu:function(){this.trigger("toggleMenu")},openSignup:function(e){e.preventDefault(),e.stopPropagation();var t=-1!==window.location.href.indexOf("store");new K.default({initialForm:"signup",shouldExitOnClickOutside:!0,shouldRejectOnCancel:!0,next:t?window.location.href:void 0,usageType:t?_.a.userUsageTypeChoices.buyer:void 0}).open().then(function(e){window.location=e}).catch(function(){})},openSignupUpload:function(e){e.preventDefault(),e.stopPropagation(),new K.default({initialForm:"signup",shouldExitOnClickOutside:!0,shouldRejectOnCancel:!0,next:"/feed#upload",usageType:_.a.userUsageTypeChoices.uploader}).open().then(function(e){window.location=e}).catch(function(){}),E.a.headerUploadSignupButtonClicked()},openSignupStoreSeller:function(e){this.openSignup(e),E.a.headerStoreSellerSignupButtonClicked()},openLogin:function(e){e.preventDefault(),new K.default({initialForm:"login"}).open().then(function(e){e?window.location=e:window.location.reload(!0)}).catch(Object(S.g)(S.e))},openUpload:function(){F.a.isMaintenance()?F.a.showPopup():(E.a.headerUploadButtonClicked(),Object(x.g)().then(function(e){return(new e).open()}).catch(Object(S.g)(S.e)))},openSearch:function(){I.b.store.dispatch(I.a.search.open()),this.$(".value").focus()},onSearchCancel:function(){I.b.store.dispatch(I.a.search.close())},onSearchFocus:function(){I.b.store.dispatch(I.a.search.open())},renderInputContent:function(e){if(this.el){var t=this.el.querySelector(".value");t&&(t.value!==e&&(t.value=e),this.toggleClearQueryButton(!!e))}},render:function(){this.renderInputContent(I.c.search.query(I.b.store.getState())),this.renderChildren()}}),Z=n(28),ee=n.n(Z),te=n(18),ne=Symbol("WithAccordions"),oe=r.a.extend({mixins:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-action="toggle-accordion"]',t=arguments.length>1?arguments[1]:void 0;return{name:"WithAccordions",constructor:function(){this[ne]={unsubscribe:te.d}},afterViewDidMount:function(){var n=document.querySelectorAll(e);this[ne].unsubscribe=ee()(n).reduce(function(e,n){var o=t?n.querySelector(t):n.nextElementSibling;o.classList.add("js-accordion-panel");var i=function(){n.classList.toggle("--active"),o.style.maxHeight?o.style.maxHeight=null:o.style.maxHeight=o.scrollHeight+"px"};return n.addEventListener("click",i),function(){n.removeEventListener("click",i),e()}},te.d)},beforeViewWillUnmount:function(){this[ne].unsubscribe()}}}('[data-action="toggle-accordion"]','[data-type="accordion-panel"]'),Object(R.a)(".responsive-navigation.slided .inner")],events:{'submit [data-action="logout"]':"onLogout"},onLogout:function(e){e.preventDefault(),X.b.logout().then(function(){window.location="/?logged_out=1"})}}),ie=r.a.extend({displayName:"ResponsiveHeader",children:{headerNotifications:{selector:".js-responsive-header-notifications",viewClass:V,options:{hasPopin:!1}},headerCart:{selector:".js-responsive-header-cart",viewClass:G,shouldCreateChild:function(){return!!this.$(".js-responsive-header-cart").length},options:function(){return{hasPopin:!1}}}},events:{'click [data-action="open-search"]':"openSearch",'click [data-action="close-search"]':"closeSearch",'submit [data-action="search"]':"search","input .search-field":"onQueryKeyup","click .clear":"onClickClear"},initialize:function(){var e=this;r.a.prototype.initialize.apply(this,arguments),this.unsubscribeFromQuery=I.b.subscribeTo(I.c.search.query,function(t){return e.onQueryChange(t)}),this.unsubscribeFromIsOpen=I.b.subscribeTo(I.c.search.isOpen,function(t){w.a.any&&t&&e.$(".search-field").focus()}),this.render()},viewWillUnmount:function(){this.unsubscribeFromQuery(),this.unsubscribeFromIsOpen()},onClickClear:function(e){e.preventDefault(),I.b.store.dispatch(I.a.search.updateQuery("")),this.$(".search-field").focus()},onQueryChange:function(e){var t=this.el.querySelector(".value");t&&(t.value!==e&&(t.value=e),this.toggleClearQueryButton(!!e))},toggleClearQueryButton:function(e){this.$(".clear").toggleClass("hidden",!e)},openSearch:function(){this.$(".search-field").val("").focus(),I.b.store.dispatch(I.a.search.open())},onQueryKeyup:function(){if(w.a.any&&window.innerWidth<=800||window.innerWidth<=800){var e=this.$(".search-field").val();I.b.store.dispatch(I.a.search.updateQuery(e))}},closeSearch:function(e){if(!l.a.hasPrevious()){e.preventDefault(),e.stopPropagation();var t="/",n=I.c.search.type(I.b.store.getState());return"models"===n?t+="models/popular":"users"===n?t+="users":"collections"===n&&(t+="collections"),document.location=t,!1}I.b.store.dispatch(I.a.search.close())},search:function(e){return this.$(".search-field").blur(),e.preventDefault(),!1},render:function(){this.renderChildren()}}),re=r.a.extend({state:{unseenNotifCount:0,documentTitle:document.title},initialize:function(){this.unseenModel=P.a.getSingleton(),this.unseenModel.on("change:activitiesCount",this.updateUnseenNotifCount,this)},updateUnseenNotifCount:function(){this.setState({unseenNotifCount:this.unseenModel.get("activitiesCount")})},renderNotif:function(){var e=this.state.unseenNotifCount;return e&&s.a.me().canAccessFeature("newsfeed_v2")?"("+e+") ":""},render:function(){document.title=this.renderNotif()+this.state.documentTitle}}),ae=r.a.extend({}),se=n(86);t.a=r.a.extend({displayName:"Page",mixins:[d.a,C,L,v],optionTypes:{isStandaloneSearch:j.b.bool,searchType:j.b.string},defaultOptions:{searchType:"models",isStandaloneSearch:!1},isMounted:!0,children:{documentTitle:{selector:"body",viewClass:re},header:{selector:".top",viewClass:Q,shouldCreateChild:function(){return!!i()(".top").length},options:function(){return{isStandaloneSearch:this.options.isStandaloneSearch}}},responsiveHeader:{selector:".responsive-top",shouldCreateChild:function(){return!!i()(".responsive-top").length},viewClass:ie},responsiveNavigation:{selector:".responsive-navigation",viewClass:oe},footer:{selector:".main-footer",viewClass:ae}},events:{'click [data-action="toggle-navigation"]':"toggleNavigation",'click .flashmessage [data-action="close"]':"flashMessageClose","route #upload":"openUploadPopup"},constructor:function(){this.bindGestureForNavigation=this.bindGestureForNavigation.bind(this),this.disableScroll=this.disableScroll.bind(this),r.a.prototype.constructor.apply(this,arguments)},initialize:function(){r.a.prototype.initialize.apply(this,arguments),a.c.bool("upload")&&this.openUploadPopup(),this.initializeChild("documentTitle"),this.initializeChild("header"),this.initializeChild("responsiveHeader"),this.initializeChild("footer"),this.initializeDragAndDrop(),function(){var e=s.a.me();if(e.isAuthenticated()){var t=u.a.get("sf_email_confirmed",void 0);if(void 0!==t){l.a.push(window.location.pathname);var n=!!t;n&&e.get("isEmailConfirmed")?new c.a({content:"Your e-mail has been confirmed.",class:"success",delay:5e3}):n||e.get("isEmailConfirmed")||new c.a({content:"Invalid code. Your current e-mail is "+e.get("email"),class:"error",delay:1e4}),u.a.remove("sf_email_confirmed")}}}(),this.renderChild("responsiveNavigation")},openUploadPopup:function(){Object(x.g)().then(function(e){return(new e).open()}).catch(Object(S.g)(S.e))},useMobileEnhancements:function(){var e=i()(".responsive-navigation").length>0,t=i()("#responsive-header").is(":visible");return e&&t},delegateEvents:function(){r.a.prototype.delegateEvents.apply(this,arguments),this.useMobileEnhancements()&&(i()(".responsive-navigation-bind-out").on("touchstart",this.disableScroll),i()(".show-hover-menu").on("touchend",this.bindGestureForTopMenu),i()(".responsive-navigation-bind-out").on("click touchend",this.bindGestureForNavigation)),this.options.dragAndDrop&&this.delegateDragAndDrop(),this.delegateUserSummary()},undelegateEvents:function(){r.a.prototype.undelegateEvents.apply(this,arguments),this.useMobileEnhancements()&&(i()(".responsive-navigation-bind-out").off("touchstart",this.disableScroll),i()(".show-hover-menu").off("touchend",this.bindGestureForTopMenu)),this.getDragAndDropEnabled()&&this.undelegateDragAndDrop(),this.undelegateUserSummary()},bindGestureForNavigation:function(){this.$(".content").hasClass("slided")&&this.toggleNavigation()},disableScroll:function(e){this.$(".content").hasClass("slided")&&e.preventDefault()},toggleNavigation:function(){window.requestAnimationFrame(function(){this.$(".content").toggleClass("slided"),this.$(".responsive-top").toggleClass("slided"),this.$(".responsive-navigation").toggleClass("slided"),this.$(".responsive-navigation-bind-out").toggleClass("slided"),this.$(".responsive-navigation-slidable").toggleClass("slided"),i()("html").toggleClass("noscroll")}.bind(this))},flashMessageClose:function(e){var t=i()(e.target).parents(".notification");t.addClass("hidden"),Object(se.a)(t).then(function(){return t.parent()[0].removeChild(t[0])})},bindGestureForTopMenu:function(e){e.stopPropagation(),e.preventDefault(),e.gesture&&(e.gesture.stopPropagation(),e.gesture.preventDefault(),e.gesture.srcEvent.stopPropagation(),e.gesture.srcEvent.preventDefault(),e.gesture.startEvent.stopPropagation(),e.gesture.startEvent.preventDefault()),i()(e.currentTarget).addClass("active")},onFilesDrop:function(e){Object(x.g)().then(function(t){return new t({files:e}).open()}).catch(Object(S.g)(S.e))},isDropPending:function(){return!!this.$("[class*=popup-upload]").not(".hidden").length}})},799:function(e,t,n){n(181),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/inline-likes.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/user.jinja",!1,"skfb_front/macros/components/molecules/inline-likes.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("user_name_list")){var u=c.user_name_list;if(t.setVariable("user_name_list",u),c.hasOwnProperty("user_inline_avatars")){var d=c.user_inline_avatars;t.setVariable("user_inline_avatars",d);var p=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l="";return l+='\n    <div class="c-inline-likes">',l+=o.suppressValue((r=4,a=28,o.callWrap(o.contextOrFrameLookup(t,n,"user_inline_avatars"),"user_inline_avatars",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"likes")])),e.opts.autoescape),l+="<div>",l+=o.suppressValue((r=7,a=30,o.callWrap(o.contextOrFrameLookup(t,n,"user_name_list"),"user_name_list",t,[o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"currentUser"),o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"likes"),{totalCount:o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"totalLikeCount"),otherAction:"on-total-click"}])),e.opts.autoescape),l+="<span> liked this model</span>\n        </div>\n    </div>\n",n=s,new o.SafeString(l)});t.addExport("inline_likes"),t.setVariable("inline_likes",p),i(null,s+="\n")}else i(new Error("cannot import 'user_inline_avatars'"))}else i(new Error("cannot import 'user_name_list'"))})})}catch(e){i(o.handleError(e,r,a))}}}},8:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d});var o=n(1),i=n(31),r=n(59);function a(e){return"cursor"===e||"page"===e}function s(e,t){arguments.length<2&&(t=e,e=""),t=Object(r.a)(t);var n=Object.keys(t).sort(function(e,t){return a(e)?1:a(t)?-1:e===t?0:e<t?-1:1}).map(function(e){return t[e].filter(function(e){return null!==e&&void 0!==e&&""!==e}).map(function(t){return!0!==t&&!1!==t||(t=Number(t)),[e,t].map(function(e){return encodeURIComponent(e).replace(/%20/g,"+").replace(/%25/g,"%").replace(/%2C/g,",")}).join("=")}).join("&")}).filter(function(e){return e.length>0}).join("&");return n?e+n:""}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.search.substr(1);return Object(r.a)(n)[e]||t}function c(e,t,n){var o=l(e,void 0,n);return o.length?o.pop():void 0!==t?t.toString():void 0}function u(e,t,n){var o=c(e,void 0,n);return void 0===o?void 0!==t?Boolean(t):void 0:"0"!==o}function d(e,t,n){var o=c(e,void 0,n);return void 0===o?void 0!==t?Number(t):void 0:Number(o)}t.c={craft:s,merge:function(){return Array.prototype.slice.call(arguments).map(r.a).reduce(function(e,t){return Object.keys(t).forEach(function(n,o){e[o]=(e[o]||[]).concat(t[o])}),e},{})},features:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c(e,"",arguments.length>2?arguments[2]:void 0),o=t.reduce(function(e,t){return e[t]=!1,e},{});return n.split(" ").map(i.snakeToCamelCase).reduce(function(e,t){return e[t]=!0,e},o)},reset:function(){return Array.prototype.slice.call(arguments).map(r.a).reduce(function(e,t){return Object(o.assign)(e,t)},{})},strings:l,string:c,bool:u,number:d,vec3:function(e,t,n){var o=c(e,void 0,n);if(!o)return t;if((o=o.split(",")).length<3)return t;o.length=3;for(var i=0;i<3;++i)o[i]=parseFloat(o[i]);return o}}},80:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(2),i=n.n(o),r=n(1),a=n(19);function s(e){return e[0].toUpperCase()+e.slice(1)}function l(e,t,n){t.mixins.forEach(function(o){o[e]&&o[e].apply(t,n)})}function c(e){var t=e||[];return function(e){return e.extend(Object(r.extend)(function(e,t){var n=function(e){return function(){if(t.prototype[e]){var n=t.prototype[e].apply(this,arguments);return l(e,this,arguments),n}l(e,this,arguments)}};return e.reduce(function(e,t){var o="after"+s(t),i="before"+s(t),r=n(t),a=n(i),l=n(o);return e[t]=r,e[i]=a,e[o]=l,e},{})}(t,e),{mixins:e.prototype.mixins||[],constructor:function(){Array.isArray(this.mixins)?this.mixins.forEach(function(e){!function(e,t){if(!e.name)throw new Error("Every mixin should have a `name` property. Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info");e.dependencies&&e.dependencies.forEach(function(n){if(-1===t.mixins.map(Object(a.k)("name")).indexOf(n))throw new Error("You must include the "+n+" mixin in order to use the "+e.name+" mixin. Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info")})}(e,this),Object(r.defaults)(this,Object(r.cloneDeep)(Object(r.omit)(e,["name","dependencies","constructor"].concat(t))))}.bind(this)):(this.mixins=[],console.error("Mixinable instances must have a `mixins` property of type Array.","Check https://sketchfab.atlassian.net/wiki/display/DOC/Mixins for more info")),t.forEach(function(e){var t="after"+s(e),n="before"+s(e),o=this[e];this[e]=function(){this[n].apply(this,arguments);var e=o.apply(this,arguments);return this[t].apply(this,arguments),e}}.bind(this)),l("constructor",this,arguments),e.apply(this,arguments)}}),{extend:function(t,n){var o=t.mixins||[],r=i()({},t,{mixins:this.prototype.mixins.filter(function(e){return o.every(function(t){return t.name!==e.name})}).concat(o)});return e.extend.call(this,r,n)}})}}},800:function(e,t){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/tabs.jinja"]={root:function(e,t,n,o,i){var r="";try{var a=o.makeMacro([],["options"],function(i){var r=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var a="";a+='\n    <section class="c-tabs ',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"className"),e.opts.autoescape),a+='">\n        <header class="c-tabs__header">\n            ',n=n.push();var s=o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"tabs");if(s)for(var l=s.length,c=0;c<s.length;c++){var u=s[c];n.set("tab",u),n.set("loop.index",c+1),n.set("loop.index0",c),n.set("loop.revindex",l-c),n.set("loop.revindex0",l-c-1),n.set("loop.first",0===c),n.set("loop.last",c===l-1),n.set("loop.length",l),a+='\n                <div\n                    class="',a+=o.suppressValue(e.getFilter("class_names").call(t,{"c-tabs__tab":!0,"--active":o.memberLookup(u,"isActive")}),e.opts.autoescape),a+='"\n                    data-action="open-tab"\n                    data-tab-index="',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"loop"),"index")-1,e.opts.autoescape),a+='">\n                    ',a+=o.suppressValue(o.memberLookup(u,"title"),e.opts.autoescape),a+="\n                </div>\n            "}return n=n.pop(),a+='\n        </header>\n        <main class="c-tabs__main">\n            ',a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"tabs"),o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"selectedTabIndex")),"component")),e.opts.autoescape),a+="\n        </main>\n    </section>\n",n=r,new o.SafeString(a)});t.addExport("tabs"),t.setVariable("tabs",a),i(null,r+="\n")}catch(e){i(o.handleError(e,null,null))}}}},801:function(e,t,n){e.exports=n.p+"static/assets/images/illustrations/upload-size-forbidden-7a8dc950f826ca0c638940762bffa75c.svg"},802:function(e,t,n){e.exports=n.p+"static/assets/images/favicon/safari-pinned-tab-fb836c71899177968b003fe7fd082f91.svg"},803:function(e,t,n){e.exports=n.p+"static/assets/images/favicon/android-chrome-192x192-1e910764ed1b5e9b99c272e4ce357c37.png"},804:function(e,t,n){e.exports=n.p+"static/assets/images/favicon/favicon-16x16-eec8260b68dee1925af28ad9046f1721.png"},805:function(e,t,n){e.exports=n.p+"static/assets/images/favicon/favicon-32x32-5f19c5a7117e725c070ba7141932b090.png"},806:function(e,t,n){e.exports=n.p+"static/assets/images/favicon/apple-touch-icon-e2192804197be7e1cfe2cd590a219202.png"},807:function(e,t,n){n(157),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/licenses.jinja"]={b_popup_content:function(e,t,n,o,i){var r="";try{n=n.push(!0),i(null,r+='\n<div>\n    <input type="hidden" name="license" id="license" value="cc">\n\n    <div class="license-infos">\n\n        \x3c!-- <div class="license-info license-info-rightsreserved" data-license="">\n            <p>\n                All rights reserved. Others must ask for your permission to\n                use your model.\n            </p>\n        </div> --\x3e\n\n        <div class="license-info license-info-cc" data-license="cc">\n            \x3c!-- <p>\n                Creative Commons is best for sharing freely your model while\n                keeping control on what others can and can\'t do.\n            </p> --\x3e\n            <p>\n                Select what others can and can\'t do:\n            </p>\n\n            <div class="license-info-cc-options">\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="attribution" disabled value="1000" class="form-checkbox" type="checkbox" name="attribution" checked="checked">\n                            <label class="form-checkbox-actor" for="attribution"></label>\n                        </div>\n                        <h2><label for="attribution">Attribution</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can distribute, remix, tweak, and build upon your\n                        work as long as they credit you for the original creation.\n                    </p>\n                </div>\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="noncommercial" value="100" class="form-checkbox" type="checkbox" name="noncommercial">\n                            <label class="form-checkbox-actor" for="noncommercial"></label>\n                        </div>\n                        <h2><label for="noncommercial">Non Commercial</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can not use your work commercially.\n                    </p>\n                </div>\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="noderivs" value="10" class="form-checkbox" type="checkbox" name="noderivs">\n                            <label class="form-checkbox-actor" for="noderivs"></label>\n                        </div>\n                        <h2><label for="noderivs">No derivatives</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can redistribute as long as it is passed along\n                        unchanged and in whole.\n                    </p>\n                </div>\n                <div class="option license-info-cc-options-attribution">\n                    <div class="title">\n                        <div class="form-checkbox-wrapper">\n                            <input id="sharealike" value="1" class="form-checkbox" type="checkbox" name="sharealike">\n                            <label class="form-checkbox-actor" for="sharealike"></label>\n                        </div>\n                        <h2><label for="sharealike">Share alike</label></h2>\n                    </div>\n                    <p class="description">\n                        Others can remix, tweak, and build upon your work as\n                        long as they license their new creations under\n                        the identical terms.\n                    </p>\n                </div>\n            </div>\n        </div>\n\n        <div class="license-info license-info-publicdomain" data-license="public-domain">\n            <p>\n                No Copyright. Others can copy, modify, distribute and perform the work, even for\n                commercial purposes, all without asking permission.\n                <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank" rel="noopener noreferrer nofollow">More info</a>\n            </p>\n        </div>\n\n    </div>\n</div>\n')}catch(e){i(o.handleError(e,null,null))}},b_popup_footer:function(e,t,n,o,i){var r="";try{n=n.push(!0),i(null,r+='\n\n    <div class="actions">\n        <button class="button btn-medium btn-tertiary" type="reset">Cancel</button>\n        <button class="button btn-medium btn-primary" type="submit">Select</button>\n    </div>\n\n')}catch(e){i(o.handleError(e,null,null))}},root:function(e,t,n,o,i){var r="";try{var a=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/licenses.jinja",!1,function(s,l){if(s)i(s);else{for(var c in(a=l).blocks)t.addBlock(c,a.blocks[c]);var u,d;r+="\n\n",u="Creative Commons license",n.set("popupTitle",u,!0),n.topLevel&&t.setVariable("popupTitle",u),n.topLevel&&t.addExport("popupTitle",u),r+="\n",d="popup-licenses",n.set("popupClass",d,!0),n.topLevel&&t.setVariable("popupClass",d),n.topLevel&&t.addExport("popupClass",d),r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_content"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_footer"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n",a?a.rootRenderFunc(e,t,n,o,i):i(null,r))}))})}})}catch(e){i(o.handleError(e,null,null))}}}},808:function(e,t){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/publish-button.jinja"]={root:function(e,t,n,o,i){var r="";try{var a=o.makeMacro([],["options"],function(i){var r=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var a,s="";return s+="\n    ",a=e.getFilter("merge").call(t,{components:{},model:{}},o.contextOrFrameLookup(t,n,"options")),n.set("options",a,!0),n.topLevel&&t.setVariable("options",a),n.topLevel&&t.addExport("options",a),s+='\n    <span class="help ',s+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"className"),e.opts.autoescape),s+='">\n        ',s+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"button")),e.opts.autoescape),s+='\n\n        <div class="tooltip tooltip-down">\n            ',s+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"tooltipText"),e.opts.autoescape),s+="\n        </div>\n    </span>\n",n=r,new o.SafeString(s)});t.addExport("publish_button"),t.setVariable("publish_button",a),i(null,r+="\n")}catch(e){i(o.handleError(e,null,null))}}}},809:function(e,t,n){n(157),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/popups/share-preview.jinja"]={b_popup_content:function(e,t,n,o,i){var r="";try{n=n.push(!0),r+='\n\n    <div class="form-column-layout">\n\n        <div class="link-share">\n            <div class="form-field">\n                <label class="form-label" for="directlink">\n                    Share this secret preview link:\n                    <output class="copy-result"></output>\n                </label>\n                <div class="popup-share-preview-link">\n                    <input class="form-input directlink" value="',r+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"model"),"viewerUrl")+"?share="+o.contextOrFrameLookup(t,n,"share"),e.opts.autoescape),i(null,r+='" readonly />\n                    <button class="button btn-primary" data-clipboard-target=".popup-share-preview .directlink">copy</button>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n')}catch(e){i(o.handleError(e,null,null))}},root:function(e,t,n,o,i){var r="";try{var a=null;e.getTemplate("skfb_front/layouts/popup.jinja",!0,"skfb_front/popups/share-preview.jinja",!1,function(s,l){if(s)i(s);else{for(var c in(a=l).blocks)t.addBlock(c,a.blocks[c]);var u,d;r+="\n\n",u="Share Preview",n.set("popupTitle",u,!0),n.topLevel&&t.setVariable("popupTitle",u),n.topLevel&&t.addExport("popupTitle",u),r+="\n",d="popup-share-preview",n.set("popupClass",d,!0),n.topLevel&&t.setVariable("popupClass",d),n.topLevel&&t.addExport("popupClass",d),r+="\n",n.set("popupClosable",!0,!0),n.topLevel&&t.setVariable("popupClosable",!0),n.topLevel&&t.addExport("popupClosable",!0),r+="\n\n",(a?function(e,t,n,o,i){i("")}:t.getBlock("popup_content"))(e,t,n,o,function(s,l){s?i(s):(r+=l,r+="\n",a?a.rootRenderFunc(e,t,n,o,i):i(null,r))})}})}catch(e){i(o.handleError(e,null,null))}}}},81:function(e,t,n){"use strict";t.a=function(e){var t=Array.prototype.slice.call(arguments,1),n=e.bind.apply(e,t);return n(),n}},810:function(e,t,n){n(150),(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/molecules/model-information.jinja"]={root:function(e,t,n,o,i){var r=null,a=null,s="";try{e.getTemplate("skfb_front/macros/model.jinja",!1,"skfb_front/macros/components/molecules/model-information.jinja",!1,function(l,c){l?i(l):c.getExported(function(l,c){if(l)i(l);else if(c.hasOwnProperty("model_license")){var u=c.model_license;if(t.setVariable("model_license",u),c.hasOwnProperty("model_unreal_icon")){var d=c.model_unreal_icon;if(t.setVariable("model_unreal_icon",d),c.hasOwnProperty("model_unity_icon")){var p=c.model_unity_icon;t.setVariable("model_unity_icon",p),s+="\n\n";var m=o.makeMacro(["extension"],[],function(t,i){var r=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("extension",t);var a="";return a+='\n    <p class="format">\n        <span class="format__name">\n            .',a+=o.suppressValue(t,e.opts.autoescape),a+="\n        </span>\n    </p>\n",n=r,new o.SafeString(a)});t.addExport("display_format"),t.setVariable("display_format",m),s+="\n\n";var f=o.makeMacro(["count","name"],[],function(i,r,a){var s=n;n=new o.Frame,(a=a||{}).hasOwnProperty("caller")&&n.set("caller",a.caller),n.set("count",i),n.set("name",r);var l="";return i&&(l+='<div class="help">\n            ',l+=o.suppressValue(r,e.opts.autoescape),l+=o.suppressValue(e.getFilter("pluralize").call(t,i),e.opts.autoescape),l+=" ",l+=o.suppressValue(e.getFilter("humanize_number").call(t,i),e.opts.autoescape),l+="\n        </div>"),n=s,new o.SafeString(l)});t.addExport("display_geometry"),t.setVariable("display_geometry",f),s+="\n\n";var h=o.makeMacro(["bool"],[],function(e,t){var i=n;n=new o.Frame,(t=t||{}).hasOwnProperty("caller")&&n.set("caller",t.caller),n.set("bool",e);var r="";return r+="\n        ",r+=e?'\n            <i class="fa fa-check --green"></i>\n        ':'\n            <i class="fa fa-times --red"></i>\n        ',r+="\n",n=i,new o.SafeString(r)});t.addExport("display_bool"),t.setVariable("display_bool",h),s+="\n\n";var g=o.makeMacro([],["options"],function(i){var s=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var l,c,u="";if(u+='\n    <div class="c-model-information">\n        ',l=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"license")&&o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"price"),n.set("isPaid",l,!0),n.topLevel&&t.setVariable("isPaid",l),n.topLevel&&t.addExport("isPaid",l),u+="\n        ",c=o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"license")&&!o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"price"),n.set("isFree",c,!0),n.topLevel&&t.setVariable("isFree",c),n.topLevel&&t.addExport("isFree",c),u+='\n\n        <div class="c-model-information__col --single">\n            ',(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDownloadable")||o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore"))&&o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"inspectButton")&&(u+="\n                ",u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"inspectButton")),e.opts.autoescape),u+="\n            "),u+="\n\n            ",o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"shouldDisplayReviews")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Reviews</div>\n                    <div class="c-model-information__value --inline" data-action="scrollToReviews">\n                        ',u+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"modelRating")),e.opts.autoescape),u+=' <span class="skfb-link">',u+=o.suppressValue(e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewCount"),0),e.opts.autoescape),u+=" review",u+=o.suppressValue(e.getFilter("pluralize").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"reviewCount")),e.opts.autoescape),u+="</span>\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"license")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">License</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue((r=51,a=38,o.callWrap(o.contextOrFrameLookup(t,n,"model_license"),"model_license",t,[o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"license")])),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"extraArchive")&&e.getFilter("length").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"extraArchive"),"metadata"),"summary"))&&o.contextOrFrameLookup(t,n,"isPaid")){u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Included formats</div>\n                    <div class="c-model-information__value">\n                        ',n=n.push();var d=o.memberLookup(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"extraArchive"),"metadata"),"summary");if(d)for(var p=d.length,m=0;m<d.length;m++){var f=d[m];n.set("format",f),n.set("loop.index",m+1),n.set("loop.index0",m),n.set("loop.revindex",p-m),n.set("loop.revindex0",p-m-1),n.set("loop.first",0===m),n.set("loop.last",m===p-1),n.set("loop.length",p),u+="\n                            ",u+=o.suppressValue((r=64,a=43,o.callWrap(o.contextOrFrameLookup(t,n,"display_format"),"display_format",t,[f])),e.opts.autoescape),u+="\n                        "}n=n.pop(),u+="\n                    </div>\n                </div>\n            "}return u+='\n\n            <div class="c-model-information__row">\n                <div class="c-model-information__label">Source format</div>\n                <div class="c-model-information__value">\n                    <p class="format">\n                        <span class="format__name">\n                            ',o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"ext")?(u+="\n                                .",u+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"ext"),e.opts.autoescape),u+="\n                            "):u+="\n                                Unknown format\n                            ",u+="\n                        </span>\n                    </p>\n                </div>\n            </div>\n\n            ",o.contextOrFrameLookup(t,n,"isPaid")&&o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"extraArchive")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Additional file</div>\n                    <div class="c-model-information__value">\n                        <p>',u+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"extraArchive"),"filename"),e.opts.autoescape),u+='</p>\n                        <a data-action="showExtraFile" class="c-model-information__link skfb-link">\n                            See what is included\n                        </a>\n                    </div>\n                </div>\n            '),u+="\n\n            ",(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"isDownloadable")||o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"inStore"))&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Compatible with</div>\n                    <div class="c-model-information__value">\n                        <a href="https://github.com/sketchfab/UnityGLTF/releases/latest" target="_blank" class="c-model-information__link skfb-link">\n                            ',u+=o.suppressValue((r=102,a=45,o.callWrap(o.contextOrFrameLookup(t,n,"model_unity_icon"),"model_unity_icon",t,[{className:"c-model-information__icon"}])),e.opts.autoescape),u+='\n                        </a>\n                        <a href="https://github.com/sketchfab/Sketchfab-Unreal/releases/latest" target="_blank" class="c-model-information__link skfb-link">\n                            ',u+=o.suppressValue((r=105,a=46,o.callWrap(o.contextOrFrameLookup(t,n,"model_unreal_icon"),"model_unreal_icon",t,[{className:"c-model-information__icon"}])),e.opts.autoescape),u+="\n                        </a>\n                    </div>\n                </div>\n            "),u+="\n\n            ",(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"quad")||o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"triangle")||o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"polygon")||o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"line")||o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"point")||o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"totalTriangle"))&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Geometry</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue((r=121,a=42,o.callWrap(o.contextOrFrameLookup(t,n,"display_geometry"),"display_geometry",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"quad"),"Quad"])),e.opts.autoescape),u+="\n                        ",u+=o.suppressValue((r=122,a=42,o.callWrap(o.contextOrFrameLookup(t,n,"display_geometry"),"display_geometry",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"triangle"),"Triangle"])),e.opts.autoescape),u+="\n                        ",u+=o.suppressValue((r=123,a=42,o.callWrap(o.contextOrFrameLookup(t,n,"display_geometry"),"display_geometry",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"polygon"),"Polygon"])),e.opts.autoescape),u+="\n                        ",u+=o.suppressValue((r=124,a=42,o.callWrap(o.contextOrFrameLookup(t,n,"display_geometry"),"display_geometry",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"line"),"Line"])),e.opts.autoescape),u+="\n                        ",u+=o.suppressValue((r=125,a=42,o.callWrap(o.contextOrFrameLookup(t,n,"display_geometry"),"display_geometry",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"point"),"Point"])),e.opts.autoescape),u+="\n                        ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"totalTriangle")!=o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"triangle")&&(u+="\n                            ",u+=o.suppressValue((r=127,a=46,o.callWrap(o.contextOrFrameLookup(t,n,"display_geometry"),"display_geometry",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"totalTriangle"),"converted to Triangle"])),e.opts.autoescape),u+="\n                        "),u+="\n                    </div>\n                </div>\n            "),u+='\n\n            <div class="c-model-information__row">\n                <div class="c-model-information__label">Vertices</div>\n                <div class="c-model-information__value">\n                    ',u+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"vertexCount"),0)),e.opts.autoescape),u+="\n                </div>\n            </div>\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"files"),"length")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Model size</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue(e.getFilter("humanize_file_size").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"files"),0),"modelSize")),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"archiveSize")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Archive size</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue(e.getFilter("humanize_file_size").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"archiveSize")),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+='\n        </div>\n\n        <div class="c-model-information__col">\n            ',o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"pbrType")!=o.contextOrFrameLookup(t,n,"null")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">PBR</div>\n                    <div class="c-model-information__value --capitalize">\n                        ',o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"pbrType")!=o.contextOrFrameLookup(t,n,"null")?(u+="\n                            ",u+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"pbrType"),e.opts.autoescape),u+="\n                        "):u+="\n                            No\n                        ",u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"textureCount")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Textures</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"textureCount"),0)),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"materialCount")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Materials</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"materialCount"),0)),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"morph")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Morphs</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"morph"),0)),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"animationCount")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Animations</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue(e.getFilter("humanize_number").call(t,e.getFilter("default").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"animationCount"),0)),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+='\n        </div>\n\n        <div class="c-model-information__col">\n            ',o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"hasNormal")!=o.contextOrFrameLookup(t,n,"null")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Normals</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue((r=215,a=37,o.callWrap(o.contextOrFrameLookup(t,n,"display_bool"),"display_bool",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"hasNormal")])),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n\n            ",u+="\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"hasVertexColor")!=o.contextOrFrameLookup(t,n,"null")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Vertex color</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue((r=237,a=37,o.callWrap(o.contextOrFrameLookup(t,n,"display_bool"),"display_bool",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"hasVertexColor")])),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"isRigged")!=o.contextOrFrameLookup(t,n,"null")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">Rigged</div>\n                    <div class="c-model-information__value">\n                        ',u+=o.suppressValue((r=246,a=37,o.callWrap(o.contextOrFrameLookup(t,n,"display_bool"),"display_bool",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"isRigged")])),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"uvMapped")&&(u+='\n                <div class="c-model-information__row">\n                    <div class="c-model-information__label">UV Mapped</div>\n                    <div class="c-model-information__value">\n                      ',u+=o.suppressValue((r=255,a=35,o.callWrap(o.contextOrFrameLookup(t,n,"display_bool"),"display_bool",t,[o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"model"),"metadata"),"uvMapped")])),e.opts.autoescape),u+="\n                    </div>\n                </div>\n            "),u+="\n\n            ",u+="\n        </div>\n    </div>\n",n=s,new o.SafeString(u)});t.addExport("model_information"),t.setVariable("model_information",g),i(null,s+="\n")}else i(new Error("cannot import 'model_unity_icon'"))}else i(new Error("cannot import 'model_unreal_icon'"))}else i(new Error("cannot import 'model_license'"))})})}catch(e){i(o.handleError(e,r,a))}}}},82:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var o=n(11),i=n.n(o),r=n(21),a=n.n(r),s=n(2),l=n.n(s),c=n(35),u=n.n(c),d=n(189),p=n.n(d),m=n(5),f=n.n(m),h=n(41),g=n(29),b=n(32),v=function(e){return e.match(new RegExp("^(".concat(window.location.origin,"|/)")))},k=function(e){return v(e)?{"X-CsrfToken":g.a.get("sb_csrftoken")||"skfb-no-token"}:{}},w=p.a.create({headers:{"X-Requested-With":"XMLHttpRequest"}}),y=function(){return g.a.get("sb_csrftoken")?f.a.resolve():w.get("/i/csrf").then(function(){return f.a.resolve()})},C=function(e){return{get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.allowPrefetching,i=void 0===o||o,r=n.headers,a=void 0===r?{}:r,s=u()(n,["allowPrefetching","headers"]),c=e.get(t);return i&&c?f.a.resolve(c):f.a.resolve(w.get(t,l()({},s,{headers:l()({},k(t),a)})).then(function(n){var o=n.data;return e.register(t,o),o}))},post:function(){var t=a()(i.a.mark(function t(n,o){var r,a,s,c,d,p,m=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>2&&void 0!==m[2]?m[2]:{},a=r.cacheBusting,s=void 0===a||a,c=r.headers,d=void 0===c?{}:c,p=u()(r,["cacheBusting","headers"]),s&&e.invalidate(n),!v(n)){t.next=6;break}return t.next=6,y();case 6:return t.abrupt("return",f.a.resolve(w.post(n,o,l()({},p,{headers:l()({},k(n),d)})).then(function(e){return e.data})));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),delete:function(){var t=a()(i.a.mark(function t(n,o){var r,a,s,c,d,p,m=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=m.length>2&&void 0!==m[2]?m[2]:{},a=r.cacheBusting,s=void 0===a||a,c=r.headers,d=void 0===c?{}:c,p=u()(r,["cacheBusting","headers"]),s&&e.invalidate(n),!v(n)){t.next=6;break}return t.next=6,y();case 6:return t.abrupt("return",f.a.resolve(w.request(l()({},p,{url:n,data:o,method:"DELETE",headers:l()({},k(n),d)})).then(function(e){return e.data})));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),patch:function(){var t=a()(i.a.mark(function t(n,o){var r,a,s,c,d=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>2&&void 0!==d[2]?d[2]:{},a=r.headers,s=void 0===a?{}:a,c=u()(r,["headers"]),e.update(n,o),!v(n)){t.next=6;break}return t.next=6,y();case 6:return t.abrupt("return",f.a.resolve(w.patch(n,o,l()({},c,{headers:l()({},k(n),s)})).then(function(e){return e.data})));case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),poll:function e(t,n,o){return Object(b.b)(w.get(t,{headers:l()({},k(t))}).then(function(i){var r=i.status,a=i.data,s="function"==typeof n?n(o||1e3):n||1e3;return 202===r||429===r?f.a.delay(s).then(function(){return e(t,n,s)}):a}))}}};t.b=C(h.b)},83:function(e,t,n){"use strict";n.d(t,"e",function(){return L}),n.d(t,"c",function(){return x}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return F}),n.d(t,"i",function(){return E}),n.d(t,"f",function(){return P}),n.d(t,"g",function(){return T}),n.d(t,"h",function(){return M}),n.d(t,"a",function(){return D});var o,i=n(39),r=n.n(i),a=n(11),s=n.n(a),l=n(21),c=n.n(l),u=n(35),d=n.n(u),p=n(4),m=n.n(p),f=n(2),h=n.n(f),g=n(10),b=n(1),v=n(20),k=n(37),w=n(17),y=n(22),C=n(8),_=n(141),O=n(42),L=Object(b.floor)(g.a.modelMinPrice,-2),x=5e4,S=0,F=25e4,E={UPDATE_QUERY:"storeSearch.UPDATE_QUERY",UPDATE_FILTERS:"storeSearch.UPDATE_FILTERS",LOAD_INITIAL_QUERY:Object(w.d)("storeSearch.LOAD_INITIAL_QUERY"),FIRST:Object(w.d)("storeSearch.FIRST"),NEXT:Object(w.d)("storeSearch.NEXT"),PREVIOUS:Object(w.d)("storeSearch.PREVIOUS")},P={query:"",filters:{sortBy:"-pertinence",animated:!1,rigged:!1,pbr:!1,restricted:!1,categories:[],inStore:!0,minFaceCount:S,maxFaceCount:F,minRating:"",fileFormats:[],minPrice:L,maxPrice:x,licenses:[]},pagination:O.c},j=function(e){return{cursors:e.effect.cursors,list:e.effect.models}},R=O.b("pagination"),T=Object(k.b)(P,h()((o={},m()(o,E.UPDATE_QUERY,function(e,t){return h()({},e,{query:t.query})}),m()(o,E.UPDATE_FILTERS,function(e,t){return h()({},e,{filters:h()({},e.filters,t.filters)})}),m()(o,E.LOAD_INITIAL_QUERY.PENDING,function(e,t){return h()({},e,{query:t.query,filters:t.filters})}),m()(o,E.LOAD_INITIAL_QUERY.RESOLVED,function(e,t){return h()({},e,{pagination:O.d(e.pagination,O.a.firstResolved({list:t.effect.models,cursors:t.effect.cursors}))})}),o),R(E.FIRST,O.f.FIRST,j),R(E.NEXT,O.f.NEXT,j),R(E.PREVIOUS,O.f.PREVIOUS,j))),M={query:function(e){return e.storeSearch.query},filters:function(e){return e.storeSearch.filters},models:function(e){return Object(v.a)(O.e.list(e.storeSearch.pagination),[y.f],e.entities)},cursors:function(e){return O.e.cursors(e.storeSearch.pagination)},isLoading:function(e){return O.e.isLoading(e.storeSearch.pagination)},loading:function(e){return O.e.loading(e.storeSearch.pagination)},hasNextPage:function(e){return O.e.hasNextPage(e.storeSearch.pagination)},hasPreviousPage:function(e){return O.e.hasPreviousPage(e.storeSearch.pagination)}},N=function(e,t){var n=t.animated,o=t.restricted,i=t.pbr,r=t.rigged,a=t.maxPrice,s=t.minPrice,l=t.maxFaceCount,c=t.minFaceCount,u=t.sortBy,p=d()(t,["animated","restricted","pbr","rigged","maxPrice","minPrice","maxFaceCount","minFaceCount","sortBy"]);return h()({},p,{q:e,maxPrice:a===x?void 0:a,minPrice:s===L?void 0:s,maxFaceCount:l===F?void 0:l,minFaceCount:c===S?void 0:c,inStore:!0,count:24,sortBy:e||"-pertinence"!==u?u:"-likeCount",processingStatus:"succeeded",animated:n||void 0,restricted:o||void 0,pbr:i||void 0,rigged:r||void 0})},A=function(){var e=c()(s.a.mark(function e(t,n){var o,i,r,a,l,c,u,p,m,f,g,b=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=b.length>2&&void 0!==b[2]?b[2]:null,i=M.filters(n),r=_.a.getSearchQueryParams(M.query(n)),a=r.q,l=d()(r,["q"]),e.next=5,t.searchModels(h()({},N(a,i),l,{cursor:o}));case 5:return c=e.sent,u=c.results,p=c.cursors,m=Object(v.b)(u,[y.f]),f=m.entities,g=m.result,e.abrupt("return",{entities:f,models:g,cursors:p});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),D={loadInitialQuery:function(e){var t=e.split("?"),n=r()(t,2)[1],o=void 0===n?"":n,i=Object(C.e)("sort_by",P.filters.sortBy,o),a=Object(C.e)("user","",o),s=Object(C.f)("tags",[],o),l={query:[a?"user:".concat(a," "):"",s.map(function(e){return"tag:".concat(e)}).join(" "),Object(C.e)("q","",o)].filter(Boolean).join(" "),sortBy:"-likeCount"===i?"-pertinence":i,animated:Object(C.a)("animated",P.filters.animated,o),rigged:Object(C.a)("rigged",P.filters.rigged,o),pbr:Object(C.a)("pbr",P.filters.pbr,o),restricted:Object(C.a)("restricted",P.filters.restricted,o),categories:Object(C.f)("categories",P.filters.categories,o),inStore:Object(C.a)("in_store",P.filters.inStore,o),minFaceCount:Object(C.d)("min_face_count",S,o),maxFaceCount:Object(C.d)("max_face_count",F,o),minRating:Object(C.e)("min_rating",P.filters.minRating,o),fileFormats:Object(C.f)("file_formats",P.filters.fileFormats,o),minPrice:Object(C.d)("min_price",L,o),maxPrice:Object(C.d)("max_price",x,o),licenses:Object(C.f)("licenses",P.filters.licenses,o)},c=l.query,u=d()(l,["query"]);return{type:E.LOAD_INITIAL_QUERY,payload:{query:c,filters:u,effect:function(t){var n=t.Prefetching.get(e);if(!n)throw new Error('No search response in prefetchedData for query "'.concat(e,'"'));var o=n.results,i=void 0===o?[]:o,r=n.cursors,a=void 0===r?{next:null,previous:null}:r,s=Object(v.b)(i,[y.f]);return{entities:s.entities,models:s.result,cursors:a}}}}},loadFirstPage:function(){return{type:E.FIRST,payload:{effect:function(e){var t=e.Api,n=e.getState;return A(t,n())}}}},loadNextPage:function(){return{type:E.NEXT,payload:{effect:function(e){var t=e.Api,n=e.getState,o=M.cursors(n()).next;return A(t,n(),o)}}}},loadPreviousPage:function(){return{type:E.PREVIOUS,payload:{effect:function(e){var t=e.Api,n=e.getState,o=M.cursors(n()).previous;return A(t,n(),o)}}}},updateQuery:function(e){return{type:E.UPDATE_QUERY,payload:{query:e}}},updateFilters:function(e){return{type:E.UPDATE_FILTERS,payload:{filters:e}}},resetFilters:function(){return D.updateFilters(P.filters)}}},837:function(e,t){(window.nunjucksPrecompiled=window.nunjucksPrecompiled||{})["skfb_front/macros/components/organisms/review-edit-form.jinja"]={root:function(e,t,n,o,i){var r="";try{var a=o.makeMacro([],["options"],function(i){var r=n;n=new o.Frame,(i=i||{}).hasOwnProperty("caller")&&n.set("caller",i.caller),n.set("options",i.hasOwnProperty("options")?i.options:{});var a="";return a+='\n    <form class="c-review-edit-form" data-ref="form">\n        <div class="c-review-edit-form__container">\n            <h1 class="c-review-edit-form__title">\n                Rate the model\n            </h1>\n\n            <div class="c-review-edit-form__grid">\n                <p>Info and preview accuracy</p>\n                <div class="c-review-edit-form__rating">\n                    ',a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"previewFidelityRating")),e.opts.autoescape),a+='\n                    <span\n                        class="value ',a+=o.suppressValue(e.getFilter("class_names").call(t,{"--invalid":o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"previewFidelity"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"previewFidelity"),"isTouched")}),e.opts.autoescape),a+='">\n                        ',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"previewFidelity"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"previewFidelity"),"isTouched")?o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"previewFidelity"),"error"):e.getFilter("format_rating").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"ratings"),"previewFidelity")),e.opts.autoescape),a+='\n                    </span>\n                </div>\n\n                <p>Ease of use</p>\n                <div class="c-review-edit-form__rating">\n                    ',a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"easeOfUseRating")),e.opts.autoescape),a+='\n                    <span\n                        class="value ',a+=o.suppressValue(e.getFilter("class_names").call(t,{"--invalid":o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"easeOfUse"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"easeOfUse"),"isTouched")}),e.opts.autoescape),a+='">\n                        ',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"easeOfUse"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"easeOfUse"),"isTouched")?o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"easeOfUse"),"error"):e.getFilter("format_rating").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"ratings"),"easeOfUse")),e.opts.autoescape),a+='\n                    </span>\n                </div>\n\n                <p>Value for money</p>\n                <div class="c-review-edit-form__rating">\n                    ',a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"valueForMoneyRating")),e.opts.autoescape),a+='\n                    <span\n                        class="value ',a+=o.suppressValue(e.getFilter("class_names").call(t,{"--invalid":o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"valueForMoney"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"valueForMoney"),"isTouched")}),e.opts.autoescape),a+='">\n                        ',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"valueForMoney"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"valueForMoney"),"isTouched")?o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"valueForMoney"),"error"):e.getFilter("format_rating").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"ratings"),"valueForMoney")),e.opts.autoescape),a+='\n                    </span>\n                </div>\n            </div>\n        </div>\n\n\n        <div class="c-review-edit-form__container">\n            <h1 class="c-review-edit-form__title">\n                What did you use the model for?\n            </h1>\n\n            ',a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"usageSelect")),e.opts.autoescape),a+='\n        </div>\n\n        <div class="c-review-edit-form__container">\n            <h1 class="c-review-edit-form__title">\n                Your review\n            </h1>\n\n            <div class="c-review-edit-form__horizontal">\n                <p>\n                    Others will see your review. Be respectful.\n                    <a target="_blank" href="',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"SKFB_FAQ_HOST"),e.opts.autoescape),a+='/articles/115005522026-Store-Review-Guidelines?utm_source=website&utm_campaign=review-edit-form" class="skfb-link">Read review guidelines</a>\n                </p>\n                <span class="c-review-edit-form__chars-count ',a+=o.suppressValue(e.getFilter("class_names").call(t,{"--invalid":o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"body"),"error")&&o.memberLookup(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"fields"),"body"),"isTouched")}),e.opts.autoescape),a+='">\n                    ',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"charsCount"),e.opts.autoescape),a+=" characters (",a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"minCharsCount"),e.opts.autoescape),a+=" required)\n                </span>\n            </div>\n\n            ",a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"commentEditor"),"c-review-edit-form__editor"),e.opts.autoescape),a+="\n\n            ",a+=o.suppressValue(e.getFilter("component").call(t,o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"options"),"components"),"publishButton")),e.opts.autoescape),a+="\n        </div>\n    </form>\n",n=r,new o.SafeString(a)});t.addExport("review_edit_form"),t.setVariable("review_edit_form",a),i(null,r+="\n")}catch(e){i(o.handleError(e,null,null))}}}},86:function(e,t,n){"use strict";var o=n(3),i=n.n(o),r=n(5),a=n.n(r),s=n(1),l=Object(s.find)({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},function(e,t){return t in document.body.style});t.a=function(e){return new a.a(function(t){return i()(e).one(l,t)})}},884:function(e,t,n){"use strict";var o=n(2),i=n.n(o),r=n(26),a=n.n(r),s=n(144),l=n(33),c=n(14),u=n(7),d=n(6),p=n(0),m=n(30),f=n(57),h=n(74),g=(n(560),Object(h.a)(function(){return d.default.getFromMacro("skfb_front/macros/components/atoms/payment-solutions","payment_solutions",[{}])})),b=n(723),v=n(61),k=n(221),w=n(490),y=n.n(w),C=n(58),_=(n(809),C.a.extend({template:function(){return d.default.get("skfb_front/popups/share-preview",{model:this.model.toJSON(),share:this.options.share})},initialize:function(){C.a.prototype.initialize.apply(this,arguments),this.initializeClipboard()},initializeClipboard:function(){this.clipboard=new y.a(this.$(".link-share button")[0]);var e=this.$(".copy-result");this.clipboard.on("success",function(){e.text(" Copied! ")}.bind(this)),this.clipboard.on("error",function(){e.text("Error. Please copy manually.")}.bind(this))},remove:function(){this.clipboard&&this.clipboard.destroy(),C.a.prototype.remove.apply(this,arguments)}})),O=n(1),L=n(262),x=n(295),S=(n(808),c.a.extend({displayName:"PublishButton",optionTypes:{model:p.b.modelShape({uid:p.b.string.isRequired,user:p.b.shape({uid:p.b.string.isRequired}).isRequired}).isRequired,onSuccess:p.b.func,onError:p.b.func},defaultOptions:{type:"important",onError:function(){},onSuccess:function(){}},state:{disabled:!1},onPublish:function(){var e=this;u.a.me().get("isLimited")?new L.default({reason:"publish"}).open():u.a.me().get("uid")===this.model.get("user").uid&&(this.setState({disabled:!0}),this.model.publish().then(function(){new x.default({model:e.model}).open().catch(function(){}).then(e.options.onSuccess.bind(e))},function(){e.setState({disabled:!1}),e.options.onError()}))},template:function(){var e=this.model.toJSON();return d.default.getFromMacro("skfb_front/macros/components/molecules/publish-button","publish_button",[{model:e,components:this.createChildrenComponents({button:{viewClass:f.a,options:Object(O.extend)({},this.options,{onClick:this.onPublish.bind(this),disabled:this.options.disabled||this.state.disabled,text:e.isProtected||e.isPrivate?"Publish privately":"Publish"})}}),tooltipText:this.options.disabled||this.state.disabled?"This model can't be published.":e.isProtected?"Only people with password and link will have access. No notifications will be sent.":e.isPrivate?"Only people with link will have access. No notifications will be sent.":"Everyone will have access. Followers will be notified."}])}})),F=n(246),E=n(104),P=n(248),j=n(16),R=n(28),T=n.n(R),M=n(10),N=n(5),A=n.n(N),D=n(25),U=n(56),V=U.a.extend({model:D.a,endpoint:"/licenses",defaultOptions:function(){return{filters:new D.a}},queryParams:function(){return Object(O.extend)({},U.a.prototype.queryParams.apply(this,arguments),{free:this.options.filters.get("free")})}}),B=n(350),I=n(185),z=n(112),q=n(24),$=n(161),W=n(44),H=n(19),G=n(23),J=n(49),Y=n(75),K=(n(807),C.a.extend({displayName:"LicensesPopup",optionTypes:{model:p.b.model,selectedLicense:p.b.shape({uid:p.b.string.isRequired})},state:{licenses:[],mainLicense:"cc",isLoading:!0,ccClauses:{attribution:!0,noncommercial:!1,noderivs:!1,sharealike:!1}},events:{"change #license":"onLicenseChanged","change #noncommercial":"onToggleNonCommercial","change #noderivs":"onToggleNoDerivs","change #sharealike":"onToggleSharelike","reset form":"cancel","submit form":"applyLicense"},template:function(){return d.default.get("skfb_front/popups/licenses",{})},initialize:function(){C.a.prototype.initialize.apply(this,arguments),this.model=this.model||new D.a,(new V).fetch().then(function(e){this.setState({isLoading:!1,licenses:e.results.filter(function(e){return e.free})})}.bind(this))},viewDidUpdate:function(e,t){t.licenses.length!==this.state.licenses.length&&(this.refreshLicenses(),setTimeout(this.center.bind(this),20))},refreshLicenses:function(){var e=this.model.get("license")?this.model.get("license").uid:null,t=e?this.findLicenseByUid(e):this.options.selectedLicense;t?"CC0 Public Domain"===t.label?this.setState({mainLicense:"cc"}):Object(O.has)(t,"ccClauses")&&this.setState({mainLicense:"cc",ccClauses:Object(O.extend)({},this.state.ccClauses,{noncommercial:Boolean(Object(O.indexOf)(t.ccClauses,"NonCommercial")>-1),noderivs:Boolean(Object(O.indexOf)(t.ccClauses,"NoDerivs")>-1),sharealike:Boolean(Object(O.indexOf)(t.ccClauses,"ShareAlike")>-1)})}):this.setState({mainLicense:"cc"})},updateState:function(){this.setState({mainLicense:this.$("#license").val(),ccClauses:{attribution:!0,noncommercial:this.$("#noncommercial").is(":checked"),noderivs:this.$("#noderivs").is(":checked"),sharealike:this.$("#sharealike").is(":checked")}})},getSelectedLicense:function(){switch(this.state.mainLicense){case"public-domain":return Object(O.clone)(Object(O.find)(this.state.licenses,{label:"CC0 Public Domain"}));case"cc":return Object(O.clone)(this.findCCLicenseByClause(Object.keys(this.state.ccClauses).reduce(function(e,t){return this.state.ccClauses[t]?e.concat(t):e}.bind(this),[])))}},applyLicense:function(){var e=this.getSelectedLicense();this.model.set("license",e),this.continue(e)},onLicenseChanged:function(){var e=this.$("#license").val();this.$("[data-license]").hide(),this.$('[data-license="'+e+'"]').show(),this.updateState()},onToggleNonCommercial:function(){this.updateState()},onToggleNoDerivs:function(){this.$("#noderivs").is(":checked")&&this.$("#sharealike").prop("checked",!1),this.updateState()},onToggleSharelike:function(){this.$("#sharealike").is(":checked")&&this.$("#noderivs").prop("checked",!1),this.updateState()},findLicenseByUid:function(e){return Object(O.find)(this.state.licenses,{uid:e})},findCCLicenseByClause:function(e){return Object(O.find)(this.state.licenses,function(t){return t.ccClauses&&e.map(O.toUpper).sort().join("-")===t.ccClauses.map(O.toUpper).sort().join("-")})},open:function(){return C.a.prototype.open.apply(this,arguments),this.deferred=new Y.a,this.deferred},cancel:function(){this.deferred.reject(),this.close()},continue:function(e){this.deferred.resolve(e),this.close()},render:function(){this.setIsLoading(this.state.isLoading),this.$("#license").val(this.state.mainLicense),this.$("[data-license]").hide(),this.$('[data-license="'+this.state.mainLicense+'"]').show(),this.$("#attribution").prop("checked",this.state.ccClauses.attribution),this.$("#noncommercial").prop("checked",this.state.ccClauses.noncommercial),this.$("#noderivs").prop("checked",this.state.ccClauses.noderivs),this.$("#sharealike").prop("checked",this.state.ccClauses.sharealike)}})),X=c.a.extend({displayName:"FreeDownload",optionTypes:{licenseField:p.b.shape({value:p.b.object.isRequired,onChange:p.b.func.isRequired}).isRequired},events:{'click [data-action="changeLicense"]':"onChangeLicense"},onChangeLicense:function(){new K({selectedLicense:this.options.licenseField.value}).open().then(function(e){this.options.licenseField.onChange(e),G.a.modelSettingsLicenseChanged(e.uid)}.bind(this)).catch(function(){})},template:function(){return d.default.getFromString(['<div class="model-management__row">','    <span class="model-management__label">License</span>','    <div class="model-management__right" data-action="changeLicense">','        <p class="download-section__text">{{ license.label }}</p>','        <a class="model-management__link">Change license</a>',"    </div>","</div>"].join("\n"),{license:this.options.licenseField.value})}}),Q=n(297),Z=n(335),ee=n(475),te=(n(129),c.a.extend({displayName:"PaidDownload",optionTypes:{user:p.b.model.isRequired,priceField:p.b.shape({value:p.b.string.isRequired,onChange:p.b.func.isRequired}).isRequired,licenseField:p.b.shape({value:p.b.string.isRequired,onChange:p.b.func.isRequired}).isRequired,fileField:p.b.shape({value:p.b.object,onChange:p.b.func.isRequired}).isRequired,licenseOptions:p.b.arrayOf(p.b.shape({title:p.b.string.isRequired,value:p.b.string.isRequired}).isRequired).isRequired},template:function(){var e=this.options.fileField.value&&this.options.fileField.value.name;return d.default.getFromString(['{% from "skfb_front/macros/common.jinja" import info_link_icon %}',"<span>",'    <div class="model-management__row">','       <span class="model-management__label --centered">',"           Price","           {{ info_link_icon({",'               "href": "https://help.sketchfab.com/hc/en-us/articles/115004276366-Seller-Guidelines?utm_source=website&utm_campaign=model-management",','               "tooltip": "Learn more"',"           }) }}","       </span>","       {{ components.priceInput | component('model-management__right') }}","    </div>",'    <div class="model-management__row">','        <span class="model-management__label --centered">License</span>','        <div class="model-management__right">',"            {{ components.licenseSelect | component }}","            <a",'               class="model-management__link"','               target="_blank"','               href="https://help.sketchfab.com/hc/en-us/articles/115004276346-Licenses?utm_source=website&utm_campaign=model-management">',"               Understand licenses","           </a>","        </div>","    </div>",'    <div class="model-management__row">','        <span class="model-management__label">',"            Additional file",'            <span class="model-management__small-text">',"                Textures, other 3D formats, etc.","            </span>","        </span>",'        <div class="model-management__right">',"            {{ components.fileInput | component }}",'            <p class="model-management__small-text">',"                <strong>Accepted formats:</strong> {{ acceptedFormats }}","            </p>",'            <p class="model-management__small-text">',"                <strong>Max size:</strong> {{ maxSize | humanize_file_size }}","            </p>","        </div>","    </div>","</span>"].join("\n"),{maxSize:M.a.maxExtraArchiveSize,acceptedFormats:[".zip",".rar",".7z"].join(", "),components:this.createChildrenComponents({priceInput:{viewClass:Q.a,options:Object(O.extend)({},this.options.priceField,{grey:!0,className:"form-input download-section__price-input"})},licenseSelect:{viewClass:Z.a,options:Object(O.extend)({},this.options.licenseField,{options:this.options.licenseOptions,grey:!0,style:{width:"100%"}})},fileInput:{viewClass:ee.a,options:i()({},this.options.fileField,{text:e?"Change file":"Upload a file"})}})})}})),ne=c.a.extend({displayName:"Message",optionTypes:{child:p.b.component.isRequired,type:p.b.oneOf(["error","warning"]).isRequired},template:function(){return d.default.getFromString(["<span>",'    <div class="download-section__warning {{ type }}-message --center">',"        {{ components.child | component }}","    </div>","</span>"].join("\n"),{components:this.createChildrenComponents({child:this.options.child}),type:this.options.type})}}),oe=n(69),ie=(n(492),"ProcessingType.Initial"),re="ProcessingType.Reprocess",ae="ProcessingType.None",se=function(e){return String(e/100||"")},le=function(e,t){return function(n){if(!n||!Object(O.includes)(e.map(Object(H.k)("uid")),n.uid))return t||"Item does not exist."}},ce=function(e,t,n){var o={uid:""},i=t||[],r=n||[];return{downloadType:{initialValue:"no",validators:[Object($.g)(["no","free","paid"])]},freeLicense:{initialValue:o,validators:"free"===e?[Object($.i)("License is required."),le(i,"License is required.")]:[]},paidLicense:{initialValue:o,validators:"paid"===e?[Object($.i)("License is required."),le(r,"License is required.")]:[],format:function(e){return e.uid},unformat:function(e){return"string"==typeof e?Object(z.a)(r,o,function(t){return t.uid===e}):e}},price:{initialValue:"25",validators:"paid"===e?[Object($.i)("The price is required."),Object($.b)(/^[^,]*$/,"Comma is an invalid character. Please use a dot to separate dollars from cents."),Object($.b)(/^[0-9]+(\.[0-9][0-9]?)?$/,"Invalid price."),Object($.e)(M.a.modelMinPrice/100,"Must be between "+Object(W.g)(M.a.modelMinPrice)+" and $10000."),Object($.c)(1e4,"Must be between "+Object(W.g)(M.a.modelMinPrice)+" and $10000.")]:[],format:function(e){return"$ "+e},unformat:function(e){return e.replace(/\$\s*/g,"")}},extraFile:{initialValue:null}}},ue=Object(h.a)(function(e){return"\n        <p>The model needs to be reprocessed to ".concat(e.inStore?"appear in the store":"be downloadable",'.</p>\n        <p>\n            <strong>This can change how the model is rendered</strong>. Please check the model once it has been re-processed.\n        </p>\n        <p>\n            <a\n                class="skfb-link"\n                target="_blank"\n                href="https://help.sketchfab.com/hc/en-us/articles/115005521546-Model-Reprocessing?utm_source=website&utm_campaign=model-management">\n                Learn more\n            </a>\n        </p>\n    ')}),de=Object(h.a)(function(){return'\n        <p>We are preparing your model so it can be downloaded.</p>\n        <p><strong>This may take a few minutes.</strong></p>\n        <p>\n           <span class="spinner-small --centered"></span>\n        </p>\n    '}),pe=Object(h.a)(function(){return"\n        <p><strong>An error occured while preparing your download.</strong></p>\n        <p>Your model won't appear as downloadable.</p>\n        <p>We have been notified and will fix it as soon as possible.</p>\n    "}),me=Object(h.a)(function(){return'\n        <p><strong>Downloading is disabled for this model.</strong></p>\n        <p>This model has been uploaded with software that does not allow downloading.</p>\n        <p>\n           <a\n               class="skfb-link"\n               target="_blank"\n               href="https://help.sketchfab.com/hc/en-us/articles/201368589-Downloading-Models?utm_source=website&utm_campaign=model-management#disabled">\n               Learn more\n           </a>\n        </p>\n    '}),fe=Object(h.a)(function(){return'\n        <p>Your models will appear in the store once your PayPal account is connected.</p>\n        <p>Go to <a class="skfb-link" href="{{ url(\'users:settings_account\') }}">Account Settings</a>.</p>\n    '}),he=Object(h.a)(function(){return'\n        <p><strong>Your PayPal account is pending verification.</strong></p>\n        <p>Your models will appear in the store once your PayPal account has been verified (you will be notified by e-mail).</p>\n        <p>\n           <a\n               class="skfb-link"\n               target="_blank"\n               href="https://help.sketchfab.com/hc/en-us/articles/115005848123-Getting-paid-with-Sketchfab?utm_source=website&utm_campaign=model-management#link-paypal">\n               Learn more\n           </a>\n        </p>\n    '}),ge=Object(h.a)(function(){return'\n        <p><strong>Your PayPal account is not properly configured.</strong></p>\n        <p>Make sure to read the <a class="skfb-link" target="_blank" href="https://help.sketchfab.com/hc/en-us/articles/115005848123-Getting-paid-with-Sketchfab?utm_source=website&utm_campaign=model-management#link-paypal">guidelines</a> and <a class="skfb-link" href="{{ url(\'users:settings_account\') }}">reconnect your PayPal account</a>.</p>\n        <p>Your models wont be available in the store until you resolve this issue.</p>\n    '}),be=Object(h.a)(function(){return'\n        <p><strong>Your seller account has been suspended.</strong></p>\n        <p>Your models will no longer appear in the store.</p>\n        <p>\n           <a\n               class="skfb-link"\n               target="_blank"\n               href="https://help.sketchfab.com/hc/en-us/requests/new?type=store_selling&utm_source=website&utm_campaign=model-management">\n               Contact support\n           </a>\n        </p>\n    '}),ve=Object(h.a)(function(){return'\n        <p>We are checking the integrity of your additional file.</p>\n        <p><strong>This may take a few minutes.</strong></p>\n        <p>\n            <span class="spinner-small --centered"></span>\n        </p>\n    '}),ke=Object(h.a)(function(e){return"<p>Your model will not ".concat(e.inStore?"appear in the store":"be downloadable"," until you publish it.</p>")}),we=Object(h.a)(function(){return d.default.getFromString('\n            <p><b>Your model is reprocessing.</b></p>\n            <p>Editing some properties is unavailable during reprocess.</p>\n            <p>This page will refresh automatically when the reprocessing is finished.</p>\n            <p>\n                <span class="spinner-small --centered"></span>\n            </p>\n        ',{})}),ye=Object(B.a)(ce("no"))(c.a.extend({displayName:"ModelManagementDownload",mixins:[I.a],optionTypes:{model:p.b.modelShape({uid:p.b.string.isRequired,hasStats:p.b.bool,status:p.b.shape({processing:p.b.oneOf(["PENDING","FAILED","PROCESSING","SUCCEEDED"])}).isRequired,extraFile:p.b.shape({status:p.b.oneOf(["pending","failed","processing","succeeded"])}),downloadStatus:p.b.oneOf(["ok","not_published","source_blocked","should_reprocess","archives_broken","archives_processing"]),isInspectable:p.b.bool.isRequired,disableInfo:p.b.shape({requiredPlan:p.b.string,detail:p.b.array.isRequired,isExempt:p.b.bool})}).isRequired,sellerStatus:p.b.oneOf(["confirmed","skfb_revoked","skfb_pending","skfb_confirmed","paypal_misconfigured","paypal_revoked","paypal_pending","paypal_confirmed"]),form:p.b.shape({hasSucceeded:p.b.bool.isRequired,isSubmitting:p.b.bool.isRequired,data:p.b.object.isRequired,fields:p.b.object.isRequired,hasErrors:p.b.bool.isRequired}).isRequired},events:{'click [data-action="selectTab"]':"getDownloadType |> onSelectDownloadType"},initialize:function(){c.a.prototype.initialize.apply(this,arguments);var e=Boolean(this.options.model.get("hasProcessingVersion")),t="SUCCEEDED"===this.model.get("status").processing,n=e?t?re:ie:ae,o=this.model.get("extraFile")&&this.model.get("extraFile").status,i="archives_processing"===this.model.get("downloadStatus")||"processing"===o||"pending"===o;this.state={paidLicenses:[],freeLicenses:[],processing:n,isArchivesProcessing:i},n!==ae&&this.pollStatus(),i&&this.pollArchivesStatus()},viewDidMount:function(){var e=this;this.options.form.onFieldConfigsChange(ce(this.model.getDownloadType())),this.resetFields(this.model.getDownloadType()),(new V).fetch().then(function(t){e.setState({freeLicenses:t.results.filter(function(e){return e.free}),paidLicenses:t.results.filter(function(e){return!e.free})})})},viewDidUpdate:function(e,t){var n=this.options.form.fields;this.wereLicensesUpdated(t)&&this.onSelectDownloadType(this.model.getDownloadType()),n.downloadType&&n.downloadType.value!==this.model.getDownloadType()&&G.a.modelSettingsDownloadButtonClicked(this.model.get("uid"),"no"===n.downloadType.value?0:1)},viewWillUnmount:function(){this.cancellableStatusPollingPromise&&this.cancellableStatusPollingPromise.cancel(),this.cancellableArchivesStatusPollingPromise&&this.cancellableArchivesStatusPollingPromise.cancel()},pollStatus:function(){var e=this;this.cancellableStatusPollingPromise=this.options.model.checkLatestVersionAndRetry(),this.cancellableStatusPollingPromise.then(function(t){e.setState({processing:ae}),"SUCCEEDED"===t.processing&&window.location.reload()})},pollArchivesStatus:function(){var e=this;this.setState({isArchivesProcessing:!0}),this.cancellableArchivesStatusPollingPromise=this.options.model.pollArchivesStatus(),this.cancellableArchivesStatusPollingPromise.then(function(){e.setState({isArchivesProcessing:!1})})},wereLicensesUpdated:function(e){return e.freeLicenses.concat(e.paidLicenses).length!==this.state.freeLicenses.concat(this.state.paidLicenses).length},hasChanged:function(){var e=this.options.form.data,t=this.model.toJSON(),n=this.model.getDownloadType(),o="paid"===n&&(se(t.price)!==e.price||(t.license||{}).uid!==(e.paidLicense||{}).uid),i="free"===n&&(t.license||{}).uid!==(e.freeLicense||{}).uid;return e.downloadType!==n||o||i||this.hasFileChanged()},hasFileChanged:function(){var e=this.options.form.data,t=this.model.toJSON();return!t.extraFile&&e.extraFile||t.extraFile&&!e.extraFile||t.extraFile&&e.extraFile&&(t.extraFile.name!==e.extraFile.name||t.extraFile.size!==e.extraFile.size)},getDownloadType:function(e){return e.target.getAttribute("data-tab")},getPaidLicenseOptions:function(){return[{title:"Choose a license",value:""}].concat(this.state.paidLicenses.map(function(e){return{value:e.uid,title:e.label}}))},onSelectDownloadType:function(e){this.options.form.onFieldConfigsChange(ce(e,this.state.freeLicenses,this.state.paidLicenses)),this.resetFields(e)},openMaxArchiveSizePopup:function(){var e=this;n.e(43).then(n.bind(null,1906)).then(function(t){new(0,t.default)({fileSize:e.options.form.data.extraFile.size}).open(),e.options.form.fields.extraFile.onChange(e.model.get("extraFile"))})},resetFields:function(e){var t=this.model.toJSON(),n=Object(O.head)(this.state.freeLicenses)||{},o=Object(O.head)(this.state.paidLicenses)||{};this.options.form.onFieldsChange({downloadType:e,price:se(t.price)||"25",extraFile:t.extraFile,freeLicense:t.license&&t.license.free?t.license:n,paidLicense:t.license&&!t.license.free?t.license:o})},checkModelMustBeInspectable:function(){return this.model.get("isInspectable")||"no"===this.options.form.data.downloadType?A.a.resolve():new J.default({title:"Model isn’t inspectable",text:"Downloadable (free or paid) models must be inspectable. Do you wish to activate model inspection?",buttons:{ok:!0,cancel:!0}}).open().then(function(){this.model.set("isInspectable",!0)}.bind(this)).catch(function(){throw this.onSelectDownloadType("no"),new q.e}.bind(this))},checkModelMustBeDisabled:function(){return Object(v.i)(u.a.me().get("account"),this.model.get("disableInfo").requiredPlan)||"staffpick"===this.model.get("disableInfo").exempt||!this.model.get("disableInfo").exempt||"no"!==this.options.form.data.downloadType?A.a.resolve():this.confirmModelWillBeDisabled(this.model)},confirmModelWillBeDisabled:function(e){var t="This model uses features not supported by your current plan. ".concat(e.get("inStore")?"If you remove it from the store it will be disabled.":"If you make it non downloadable it will be disabled."," Do you wish to continue?");return new E.a({title:"Your model will be disabled",text:t,renderButtons:function(e){return[{viewClass:f.a,options:{key:"cancel",type:"tertiary",text:"cancel",onClick:function(){return e.cancel(new q.e)}}},{viewClass:f.a,options:{key:"clear",type:"danger",text:"Yes, disable the model",onClick:function(){return e.continue()}}}]}}).open()},updateArchive:function(e){return"paid"===e.downloadType&&this.hasFileChanged()?e.extraFile?this.model.uploadExtraArchive(e.extraFile.originalFile):this.model.removeExtraArchive():A.a.resolve()},updateModel:function(e){var t=this,n="paid"===e.downloadType?function(e){return Math.round(100*Number(e)||0)}(e.price):0,o="paid"===e.downloadType?e.extraFile:null,i="no"===e.downloadType?null:"free"===e.downloadType?e.freeLicense:e.paidLicense;return this.model.set({extraArchive:o,price:n,license:i,isDownloadable:!1}).clone().save(Object(O.extend)({},Object(H.c)({price:n||null}),{license:i?i.uid:null,isInspectable:this.model.get("isInspectable")}),{patch:!0}).then(function(){i&&t.pollArchivesStatus()})},handleSubmitError:function(e){if(function(e){return e&&e.detail&&e.detail.extraFile&&e.detail.extraFile.some(function(e){return e.match("file size is too big")})}(e))this.openMaxArchiveSizePopup();else{var t=d.default.getFromString('{% if errors %}                        {{ errors | safe }}<br>                    {% else %}                        An unexpected error occured while saving settings.<br>                    {% endif %}                    If the error persists, please contact our <a class="skfb-link" target="_blank" href="https://help.sketchfab.com/hc/requests/new?type=store_selling&utm_source=website&utm_campaign=download-manage-error">Support Team</a>.                    ',{errors:!!e.responseJSON.detail&&Object(O.flatten)(Object.values(e.responseJSON.detail)).join("<br>")});new J.default({title:"Error while saving settings",text:t,safe:!0,buttons:{ok:!0}}).open()}return A.a.reject({})},onSubmit:function(){var e=this.options.form.data.extraFile;e&&e.size>M.a.maxExtraArchiveSize?this.openMaxArchiveSizePopup():this.checkModelMustBeInspectable().then(this.checkModelMustBeDisabled.bind(this)).then(function(){this.options.form.onSubmit(function(e){return this.updateArchive(e).then(this.updateModel.bind(this,e)).catch(this.handleSubmitError.bind(this))}.bind(this))}.bind(this)).catch(function(e){if(!(e instanceof q.e))throw e})},onReprocessModel:function(){var e=this;this.setState({processing:re}),this.options.model.reprocess().then(function(){e.setState({processing:ae})})},getDownloadOptions:function(e,t,n){return"archives_broken"===n?{viewClass:ne,options:{child:{viewClass:pe},type:"error"}}:"source_blocked"===n?{viewClass:ne,options:{child:{viewClass:me},type:"error"}}:"should_reprocess"===n?{viewClass:ne,options:{child:{viewClass:ue,options:{inStore:"paid"===e}},type:"warning"}}:t},getFreeComponent:function(e,t,n){return this.getDownloadOptions(e.data.downloadType,{viewClass:X,options:{user:t,licenseField:e.fields.freeLicense}},n)},getPaidComponent:function(e,t,n,o){return"skfb_revoked"===o?{viewClass:ne,options:{child:{viewClass:be},type:"warning"}}:this.options.model.get("hasStats")||"paid"!==e.data.downloadType||"archives_broken"===n?this.getDownloadOptions(e.data.downloadType,{viewClass:te,options:{user:t,licenseOptions:this.getPaidLicenseOptions(),priceField:e.fields.price,licenseField:e.fields.paidLicense,fileField:e.fields.extraFile}},n):{viewClass:ne,options:{child:{viewClass:ue},type:"warning"}}},getMessageComponent:function(e,t,n){var o=[];return this.state.processing===re&&o.push({viewClass:ne,options:{key:"ReprocessingMessage",child:{viewClass:we},type:"warning"}}),"paid"!==e||null!==t&&"paypal_revoked"!==t||o.push({viewClass:ne,options:{key:"PayPalRevokedMessage",child:{viewClass:fe},type:"warning"}}),"paid"===e&&"paypal_pending"===t&&o.push({viewClass:ne,options:{key:"PayPalPendingMessage",child:{viewClass:he},type:"warning"}}),"paid"===e&&"paypal_misconfigured"===t&&o.push({viewClass:ne,options:{key:"PayPalMisconfiguredMessage",child:{viewClass:ge},type:"warning"}}),"no"!==e&&"archives_processing"===n?o.push({viewClass:ne,options:{key:"ArchivesProcessingMessage",child:{viewClass:de},type:"warning"}}):"no"!==e&&"not_published"===n&&o.push({viewClass:ne,options:{key:"NotPublishedMessage",child:{viewClass:ke,options:{inStore:"paid"===e}},type:"warning"}}),o},getExtraFileMessage:function(){return{viewClass:ne,options:{key:"NotPublishedMessage",child:{key:"ExtraFileProcessing",viewClass:ve},type:"warning"}}},template:function(){var e=this.options.form,t=u.a.me(),n=["no","free"].concat(T()(this.options.sellerStatus?["paid"]:[])),o=this.options.model.get("downloadStatus"),i="paid"===e.data.downloadType&&!this.options.model.get("hasStats")&&"archives_broken"!==o||"no"!==e.data.downloadType&&"should_reprocess"===o,r="archives_broken"===o||"source_blocked"===o||"paid"===e.data.downloadType&&"skfb_revoked"===this.options.sellerStatus,a=this.options.model.get("extraFile")&&this.options.model.get("extraFile").status,s="paid"===e.data.downloadType&&("pending"===a||"processing"===a);return d.default.getFromMacro("skfb_front/macros/components/organisms/model-management","download_section",[{shouldShowSubmitButton:(this.hasChanged()||e.isSubmitting||e.hasSucceeded)&&("no"===e.data.downloadType||!r),shouldShowReprocessButton:i,activeTab:e.data.downloadType,tabs:n.map(function(t){return{name:t,isActive:e.data.downloadType===t}}),components:this.createChildrenComponents({message:this.getMessageComponent(e.data.downloadType,this.options.sellerStatus,o),free:this.getFreeComponent(e,t,o),paid:this.getPaidComponent(e,t,o,this.options.sellerStatus),extraFileMessage:s?this.getExtraFileMessage():[],submitButton:{viewClass:f.a,options:{text:e.hasSucceeded?"✔ changes saved":e.isSubmitting?e.data.extraFile?"Upload in progress...":"saving...":"save changes",subtext:e.isSubmitting&&e.data.extraFile?"it can take a few minutes":"",onClick:this.onSubmit.bind(this),loading:e.isSubmitting,size:"large",className:"download-section__main-button",style:{backgroundColor:e.hasSucceeded?oe.b.skfbBrightGreen:""}}},reprocessButton:{viewClass:f.a,options:{text:this.state.processing===re?"reprocessing model...":"reprocess model",subtext:this.state.processing===re?"it may take a few minutes":"",onClick:this.onReprocessModel.bind(this),size:"large",className:"download-section__main-button",loading:this.state.processing===re||"archives_processing"===o}}})}])}})),Ce=n(12),_e=n.n(Ce),Oe=_e()("p",{},void 0,_e()("strong",{},void 0,"This model has been disabled because it uses features not supported by your current plan:")),Le=function(e){var t=e.detail,n=e.requiredPlan,o=e.sellerStatus,i=e.modelIsPrivate;return a.a.createElement(a.a.Fragment,null,Oe,_e()("p",{},void 0,_e()("ul",{className:"--disc"},void 0,t.map(function(e,t){return _e()("li",{},t,e)}))),_e()("p",{},void 0," ","Upgrade to ",_e()("strong",{},void 0,Object(O.capitalize)(Object(v.j)(n)))," to enable this model again."),_e()("a",{className:"button btn-medium btn-plan-".concat(n),target:"_blank",rel:"noreferrer noopener",href:"https://sketchfab.com/plans"},void 0,"Upgrade to ",Object(O.capitalize)(Object(v.j)(n))),!i&&_e()("p",{},void 0,"You can also"," ","confirmed"===o?"add your model to the store or make it downloadable":"make your model downloadable"," ","to reactivate it."))},xe=_e()("p",{},void 0,_e()("strong",{},void 0,"This model has been disabled by a member of Sketchfab's staff.")),Se=_e()("p",{},void 0,"If you want more information you can ",_e()("a",{className:"skfb-link",target:"_blank",rel:"noreferrer noopener",href:"https://help.sketchfab.com/hc/en-us/requests/new?utm_source=website&utm_campaign=model-management&type=accounts_general&subject=Disabled%20Models"},void 0,"contact our support team"),"."),Fe=_e()(function(){return a.a.createElement(a.a.Fragment,null,xe,Se)},{}),Ee=Object(s.a)(function(e){return Object(O.isEqual)(e.detail,["Disabled by staff"])?Fe:a.a.createElement(Le,e)}),Pe=c.a.extend({displayName:"DisableSection",optionTypes:{modelIsPrivate:p.b.bool.isRequired,sellerStatus:p.b.string.isRequired,detail:p.b.arrayOf(p.b.string).isRequired,requiredPlan:p.b.string.isRequired},template:function(){return d.default.getFromMacro("skfb_front/macros/components/organisms/model-management","disable_section",[{components:this.createChildrenComponents({message:{viewClass:ne,options:{key:"DisabledMessage",child:{viewClass:Ee,options:this.options},type:"error"}}})}])}}),je={"materials.too_many":Object(h.a)(function(){return d.default.getFromString('\n        <div class="model-management__warning">\n            <p class="model-management__warning__title">Too many materials</p>\n            <p>Sketchfab only supports 100 materials, but your model exceeds this limit. We had to merge or remove the extra materials.</p>\n            <p>To upload your model with all of its materials, reduce or consolidate the number of materials and re-upload. For more details see <a target="_blank" href="{{ SKFB_FAQ_HOST }}/articles/202600873-Materials-and-Textures?utm_source=website&utm_campaign=model-management-warning-too-many-materials" class="skfb-link">Materials & Textures</a>.</p>\n        </div>\n        ',{SKFB_FAQ_HOST:M.a.hosts.faq})})},Re=c.a.extend({displayName:"ModelManagement",optionTypes:{model:p.b.modelShape({uid:p.b.string.isRequired,status:p.b.shape({monitors:p.b.arrayOf(p.b.string.isRequired),warning:p.b.object.isRequired,processing:p.b.oneOf(["FAILED","SUCCEEDED","PENDING"])}).isRequired,disableInfo:p.b.shape({requiredPlan:p.b.string,detail:p.b.array.isRequired,isExempt:p.b.bool})}).isRequired,shareToken:p.b.string},children:{quickSettings:{selector:".quicksettings",viewClass:P.a,shouldCreateChild:function(){return this.$(".quicksettings").length},options:function(){var e=this;return{model:this.model,settings3dButtonActionTrackerEvent:"modelPage3dSettingsButtonClicked",openSettingsPopupTrackerEvent:"modelPageSettingsButtonClicked",openAnnotationEditorTrackerEvent:"modelPageAnnotationsButtonClicked",openReuploadPopupTrackerEvent:"modelPageReuploadButtonClicked",deleteModelTrackerEvent:"modelPageDeleteButtonClicked",onDeleteModelSuccess:function(){window.location=e.model.get("user").profileUrl}}}}},events:{'click [data-action="share-preview"]':"onSharePreviewClicked",'click [data-action="open-settings-popup"]':"onOpenSettingsPopup",'click [data-action="toggle-management"]':"onToggleManagement",'click [data-action="show-processing-issues"]':"onShowProcessingIssues"},initialize:function(){var e=this;c.a.prototype.initialize.apply(this,arguments);var t=u.a.me().get("uid")===this.options.model.get("user").uid;this.state={closed:!t,sellerStatus:null},j.b.getSeller(this.options.model.get("user").uid).then(function(t){e.setState({sellerStatus:t&&t.status})})},viewDidMount:function(){var e=this;this.renderChild("quickSettings"),u.a.fetchMe().then(function(){return e.forceUpdate()})},viewDidUpdate:function(){this.renderChild("quickSettings")},getProcessingWarnings:function(){var e=this.options.model.get("status").monitors;return(void 0===e?[]:e).filter(function(e){return je[e]})},onOpenSettingsPopup:function(e){e.preventDefault(),new k.a({model:this.model,userIsUpdated:!0}).open()},onSharePreviewClicked:function(e){e.preventDefault(),new _({model:this.model,share:e.target.getAttribute("data-token")}).open()},onToggleManagement:function(e){e.preventDefault(),this.setState(function(e){return{closed:!e.closed}})},onShowProcessingIssues:function(){return new E.a({shouldRejectOnCancel:!1,title:"Processing information",children:this.getProcessingWarnings().map(function(e){return{viewClass:je[e],options:{key:e}}}),renderButtons:function(e){return[{viewClass:f.a,options:{key:"close",text:"close",type:"primary",onClick:function(){return e.continue()}}}]}}).open()},template:function(){var e=this.model.get("disableInfo"),t=!(!Object(v.i)(u.a.me().get("account"),e.requiredPlan)&&!e.exempt)&&(!this.model.get("isPrivate")&&!this.model.get("isProtected")||u.a.me().get("canProtectModels")),n=!(this.model.get("isDisabled")&&this.model.get("isPrivate"));return d.default.getFromMacro("skfb_front/macros/components/organisms/model-management","model_management",[{closed:this.state.closed,authUser:u.a.me().toJSON(),model:this.model.toJSON(),processingWarnings:this.getProcessingWarnings(),shareToken:this.options.shareToken,isDownloadSectionEnabled:n,components:this.createChildrenComponents({publishButton:{viewClass:S,options:{model:this.model,onSuccess:function(){window.location.reload()},size:"large",style:{width:"100%"},disabled:!t}},propertiesButton:{viewClass:f.a,options:{text:"properties",size:"medium",type:"tertiary",onClick:this.onOpenSettingsPopup.bind(this)}},download:{viewClass:ye,options:{model:this.model,sellerStatus:this.state.sellerStatus}},disableSection:{viewClass:Pe,options:{sellerStatus:this.state.sellerStatus,modelIsPrivate:this.model.get("isPrivate"),detail:e.detail,requiredPlan:e.requiredPlan}},privateLimits:{viewClass:F.a,options:{privateLimit:u.a.me().get("privateLimit"),canProtectModels:u.a.me().get("canProtectModels"),account:u.a.me().get("account")}}})}])}}),Te=n(446),Me=n(39),Ne=n.n(Me),Ae=n(20),De=n(9),Ue=n(17),Ve=n(724),Be=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=Object(r.useContext)(Ue.a),s=Object(r.useState)(t),l=Ne()(s,2),c=l[0],u=l[1],d=Object(r.useRef)(t),p=Object(r.useRef)({}),m=Object(r.useRef)(!1),f=Object(r.useCallback)(function(){var e=d.current,t=Object(Ae.b)(e,n),o=t.entities,i=t.result;Object(O.isEmpty)(o)||Object(O.isEqual)(o,p.current)||(p.current=o,m.current=!0,De.b.store.dispatch(De.a.entities.update(o)),m.current=!1);var r=Object(Ae.a)(i,n,De.c.entities.all(De.b.store.getState()));d.current=r,u(r)},[n]);Object(r.useEffect)(function(){return De.b.subscribeTo(De.c.entities.all,function(){m.current||f()})},[f]);var h=Object(r.useMemo)(function(){return[Object(Ue.c)(i()({},a,{store:De.b.store}))].concat(T()(o))},[a]),g=Object(Ve.a)(function(){return d.current},function(e){d.current=Object(O.isFunction)(e)?e(d.current):e,f()},e,h);return[c,Ne()(g,2)[1]]},Ie=_e()("div",{className:"placeholder c-list-item-placeholder --small-card"},void 0,_e()("div",{className:"placeholder__card"},void 0,_e()("div",{className:"placeholder__image"}),_e()("div",{className:"placeholder__container"},void 0,_e()("div",{className:"placeholder__text --w-80"}),_e()("div",{className:"placeholder__text --small --w-50"})))),ze=function(){return Ie},qe=n(103),$e=n.n(qe),We=n(568),He=n(264),Ge=n(567),Je=n(566),Ye=n(565),Ke=n(383),Xe=n(421),Qe=_e()("div",{className:"card__main__corner --bottom-left"},void 0,_e()("div",{className:"card-preview","data-action":"open-preview"},void 0,_e()("i",{className:"card-preview__icon fa fa-search",title:"see preview"}))),Ze=_e()("div",{className:"tooltip tooltip-up"},void 0,"Models"),et=a.a.memo(function(e){var t=e.deferImages,n=void 0===t||t,o=e.displayNew,i=void 0!==o&&o,r=e.collection,s=Object(Xe.a)(function(e){return e.Api.getCollectionThumbnails(r.uid)},[],[r.uid]),l=Ne()(s,2)[1];return _e()("div",{className:"collection-smallcard"},void 0,_e()("a",{className:"collection-smallcard__thumbnails",href:r.collectionUrl},void 0,Object(O.range)(0,4).map(function(e){return _e()(He.a,{className:"collection-smallcard__thumbnail",thumbnails:l[e]||[],width:85,height:765/16,deferImages:n},e)}),_e()("div",{className:"card__main__corner --top-left"},void 0,_e()(Ge.a,{collection:r,displayNew:i})),Qe),_e()("div",{className:"meta"},void 0,_e()("div",{className:"information"},void 0,_e()("div",{className:"name"},void 0,_e()(Je.a,{collection:r})),_e()("div",{className:"user"},void 0,_e()(Ke.a,{user:r.user,withoutBadge:!0}))),_e()("div",{className:"stats"},void 0,r.modelCount>0&&_e()("div",{className:"card__footer__stats --models help"},void 0,_e()("span",{className:"count"},void 0,Object(W.l)(r.modelCount)),Ze),_e()(We.a,{collection:r},void 0,function(e){return a.a.createElement(Ye.a,$e()({},e,{className:"card__footer__stats --subscribes",tooltipClassName:"tooltip tooltip-up",subscriberCount:e.subscriberCount||r.subscriberCount}))}))))}),tt=n(216),nt=n(22),ot=n(37),it=n(42),rt={GET_RELATED_COLLECTIONS:Object(Ue.d)("GET_RELATED_COLLECTIONS")},at={collections:{list:[nt.c]}},st={collections:it.c},lt=it.b("collections"),ct=Object(ot.b)(st,i()({},lt(rt.GET_RELATED_COLLECTIONS,it.f.FIRST,function(e){return{list:e.effect.results}}))),ut=function(e){return it.e.isLoading(e.collections)},dt=function(e){return it.e.list(e.collections)},pt=function(e){return{type:rt.GET_RELATED_COLLECTIONS,payload:{effect:function(t){return t.Api.getModelRelatedCollections(e)}}}},mt=_e()("h5",{className:"sidebar-title"},void 0,"In collections"),ft=function(e){var t=e.modelUid,n=Be(ct,st,at),o=Ne()(n,2),i=o[0],s=o[1],l=dt(i);Object(r.useEffect)(function(){s(pt(t))},[s,t]);var c=ut(i);return!Object(O.isEmpty)(l)||c?a.a.createElement(a.a.Fragment,null,mt,_e()("div",{className:"c-vertical-list"},void 0,_e()(tt.a,{value:l.map(function(e){return e.uid})},void 0,l.map(function(e){return _e()(et,{collection:!0},e.uid)})),c&&Object(O.range)(0,3).map(function(e){return _e()(ze,{},"placeholder-".concat(e))}))):null},ht=n(224),gt=n(402),bt=n(265),vt=n(223),kt=n(229),wt=n(192),yt=n(315),Ct=n(314),_t=_e()("span",{className:"help card-model__feature --animations"},void 0,_e()("span",{className:"tooltip tooltip-up"},void 0,"Animated")),Ot=_e()("span",{className:"help card-model__feature --downloads"},void 0,_e()("span",{className:"tooltip tooltip-up"},void 0,"Downloadable")),Lt=_e()("span",{className:"flag --draft"},void 0,"DRAFT"),xt=_e()("span",{className:"tooltip tooltip-up"},void 0,"Comment"),St=_e()("span",{className:"tooltip tooltip-up"},void 0,"Views"),Ft=a.a.memo(function(e){var t=e.deferImages,n=void 0===t||t,o=e.withStaffpickFlag,i=void 0===o||o,r=e.withRestrictedFlag,a=void 0===r||r,s=e.withStaffpickLink,l=void 0!==s&&s,c=e.model,u=c.isDownloadable||c.isStoreAllowed;return _e()(vt.a,{},void 0,_e()("div",{className:"model-smallcard",itemScope:!0,itemType:"http://schema.org/MediaObject","data-uid":c.uid},void 0,_e()("meta",{itemProp:"commentCount",content:c.commentCount}),_e()("meta",{itemProp:"contentSize",content:Object(W.k)(c.archiveSize||0)}),_e()("meta",{itemProp:"isBasedOnUrl",content:"".concat(c.viewerUrl,"/editor")}),_e()("meta",{itemProp:"embedUrl",content:c.embedUrl}),_e()("meta",{itemProp:"name",content:c.name}),_e()("div",{className:"model-smallcard__thumbnail"},void 0,_e()(tt.b,{shouldOpenPopup:c.isPublished,className:Object(oe.a)("card-model__thumbnail-link",{"--grey":c.isDisabled}),href:c.viewerUrl},void 0,_e()(He.a,{className:"thumbnail",width:170,height:95.625,thumbnails:c.thumbnails,deferImages:n}),_e()(bt.a,{},void 0,function(){return _e()("div",{className:"card__360-preview"},void 0,_e()(wt.a,{modelUid:c.uid}))})),_e()("div",{className:"card__main__corner --top-left"},void 0,_e()(yt.a,{model:c,withStaffpickLink:l,withStaffpickFlag:i,withRestrictedFlag:a,displayRecentlyStaffpicked:!0})),_e()("div",{className:"card__main__corner --top-right"},void 0,c.animationCount>0&&_t,u&&Ot)),_e()("div",{className:"meta"},void 0,_e()("div",{className:"information"},void 0,_e()("div",{className:"name",itemProp:"name"},void 0,!c.isPublished&&Lt,_e()(Ct.a,{model:c})),_e()("div",{className:"user"},void 0,_e()(Ke.a,{user:c.user,withoutBadge:!0}))),_e()("div",{className:"stats"},void 0,_e()("a",{className:"model-card-comments help",itemProp:"discussionUrl",href:"".concat(c.viewerUrl,"#comments")},void 0,_e()("span",{className:"count"},void 0,Object(W.l)(c.commentCount)),xt),_e()("span",{className:"views custom-icons icon-eye-icon help"},void 0,_e()("span",{className:"count"},void 0,Object(W.l)(c.viewCount)),St),_e()(gt.a,{model:c,trackerEvent:"modelCardFavoriteButtonClicked"},void 0,function(e){var t=e.doesLike,n=e.onToggleLike,o=e.likeCount;return _e()(kt.a,{className:"card__footer__stats --likes",tooltipClassName:"tooltip-up",likeCount:o,doesLike:t,onToggleLike:n})})))))});Ft.displayName="ModelSmallCard";var Et=Ft,Pt={GET_RELATED_MODELS:Object(Ue.d)("GET_RELATED_MODELS"),NEXT_RELATED_MODELS:Object(Ue.d)("NEXT_RELATED_MODELS")},jt={models:{list:[nt.f]}},Rt={models:it.c},Tt=it.b("models"),Mt=function(e){return{list:e.effect.results,cursors:e.effect.cursors}},Nt=Object(ot.b)(Rt,i()({},Tt(Pt.GET_RELATED_MODELS,it.f.FIRST,Mt),Tt(Pt.NEXT_RELATED_MODELS,it.f.NEXT,Mt))),At=function(e){return it.e.isLoading(e.models)},Dt=function(e){return it.e.cursors(e.models)},Ut=function(e){return it.e.hasNextPage(e.models)},Vt=function(e){return it.e.list(e.models)},Bt=function(e){return{type:Pt.GET_RELATED_MODELS,payload:{effect:function(t){return t.Api.getModelRelatedModels(e,0)}}}},It=function(e){return{type:Pt.NEXT_RELATED_MODELS,payload:{effect:function(t){var n=t.Api,o=t.getState,i=Dt(o()).next;return n.getModelRelatedModels(e,i)}}}},zt=_e()("h5",{className:"sidebar-title"},void 0,"Suggested 3D Models"),qt=a.a.memo(function(e){var t=e.modelUid,n=Be(Nt,Rt,jt),o=Ne()(n,2),i=o[0],s=o[1],l=Vt(i);Object(r.useEffect)(function(){s(Bt(t))},[s,t]);var c=Ut(i),u=At(i);return!Object(O.isEmpty)(l)||u?a.a.createElement(a.a.Fragment,null,zt,_e()("div",{className:"c-vertical-list"},void 0,_e()(tt.a,{value:l.map(function(e){return e.uid})},void 0,l.map(function(e){return _e()(Et,{model:e},e.uid)})),u&&Object(O.range)(0,6).map(function(e){return _e()(ze,{},"placeholder-".concat(e))}),c&&_e()(ht.a,{className:"c-vertical-list__button",text:"load more",size:"small",type:"tertiary",onClick:function(){s(It(t))},loading:u}))):null}),$t=(n(722),Object(s.a)(function(e){return a.a.createElement(ft,e)})),Wt=Object(s.a)(function(e){return a.a.createElement(qt,e)}),Ht=c.a.extend({displayName:"Sidebar",optionTypes:{model:p.b.model.isRequired,onInspect:p.b.func.isRequired,onScrollToReviews:p.b.func.isRequired,onOpenDownloadPopup:p.b.func.isRequired,getDownloadButtonText:p.b.func.isRequired,shouldDisplayModelManagement:p.b.bool.isRequired},template:function(){var e=this;return d.default.getFromMacro("skfb_front/macros/components/organisms/model-page/sidebar","sidebar",[{shouldDisplayModelManagement:this.options.shouldDisplayModelManagement,authUser:u.a.me().toJSON(),model:this.options.model.toJSON(),components:this.createChildrenComponents({modelManagement:{viewClass:Re,options:{model:this.options.model,shareToken:Object(l.a)().shareToken}},paymentSolutions:{viewClass:g},addToCartButton:{viewClass:Te.a,options:{model:this.options.model.toJSON(),render:function(t){var n=t.isModelInCart,o=t.isModelOwned,r=t.wasJustAdded,a=t.onAddToCart,s=t.isLoading;return{viewClass:f.a,options:i()({},e.options.getDownloadButtonText({isModelInCart:n,isModelOwned:o,wasJustAdded:r}),{disabled:s,onClick:function(){o?e.options.onOpenDownloadPopup():n?window.location=Object(m.e)("store:checkout"):a()},size:"huge",attrs:{type:"button"},style:{width:"100%",height:"66px",fontSize:"18px"},type:"store"})}}}},relatedCollections:{viewClass:$t,options:{modelUid:this.options.model.get("uid")}},relatedModels:{viewClass:Wt,options:{modelUid:this.options.model.get("uid")}},modelInformation:{viewClass:b.a,options:{model:this.options.model.toJSON(),authUser:u.a.me().toJSON(),onInspect:this.options.onInspect,onReviewsClick:this.options.onScrollToReviews}}})}])}});t.a=Ht},885:function(e,t,n){"use strict";var o,i=n(28),r=n.n(i),a=n(2),s=n.n(a),l=n(12),c=n.n(l),u=n(35),d=n.n(u),p=n(26),m=n.n(p),f=n(1),h=n(9),g=n(14),b=n(7),v=n(208),k=n(0),w=v.a.extend({displayName:"RelatedModels",optionTypes:{uid:k.b.string.isRequired},endpoint:function(){return"/models/"+this.options.uid+"/related"}}),y=n(6),C=n(32),_=n(23),O=n(69),L=n(24),x=n(30),S=n(67),F=n(144),E=n(169),P=n(57),j=g.a.extend({displayName:"StarLikeButton",optionsTypes:{likeCount:k.b.number.isRequired,doesLike:k.b.bool.isRequired,onToggleLike:k.b.func.isRequired,className:k.b.string,tooltipClassName:k.b.string},events:{'click [data-action="like-model"]':function(){this.options.onToggleLike()}},template:function(){return y.default.getFromString('\n            <div class="help c-star-like-button">\n                <div\n                    class="c-star-like-button__button {{ \'--liked\' if options.doesLike }} {{ options.className }}"\n                    data-action="like-model"\n                >\n                    {% if options.likeCount %}\n                        <span class="count">{{ options.likeCount | humanize_number }}</span>\n                    {% endif %}\n                </div>\n\n                {% if not options.doesLike %}\n                    <span class="tooltip liked-content {{\n                        options.tooltipClassName if options.tooltipClassName\n                        else \'tooltip-down\'\n                    }}">\n                        Like\n                    </span>\n                {% endif %}\n            </div>\n            ',{options:this.options})}}),R=n(10),T=(n(558),g.a.extend({displayName:"ModelActions",optionTypes:{model:k.b.shape({user:k.b.object.isRequired,uid:k.b.string.isRequired,name:k.b.string.isRequired,publishedAt:k.b.string,price:k.b.number,isDeleted:k.b.bool,isDownloadable:k.b.bool,isPrivate:k.b.bool}).isRequired,authUser:k.b.shape({features:k.b.arrayOf(k.b.string.isRequired).isRequired,uid:k.b.string}).isRequired,onOpenEmbedPopup:k.b.func.isRequired,onOpenSharePopup:k.b.func.isRequired,onOpenDownloadPopup:k.b.func.isRequired,onOpenCollectionPopup:k.b.func.isRequired},events:{'click [data-action="open-collection-popup"]':function(e){this.options.onOpenCollectionPopup(e)},'click [data-action="open-embed-popup"]':function(e){this.options.onOpenEmbedPopup(e)},'click [data-action="open-share-popup"]':function(e){this.options.onOpenSharePopup(e)},'click [data-action="open-download-popup"]':function(e){this.options.onOpenDownloadPopup(e)}},template:function(){return y.default.getFromMacro("skfb_front/macros/components/molecules/model-actions","model_actions",[s()({},this.options,{SKFB_FAQ_HOST:R.a.hosts.faq})])}})),M=n(185),N=(n(800),g.a.extend({displayName:"Tabs",optionTypes:{tabs:k.b.arrayOf(k.b.shape({title:k.b.string.isRequired,component:k.b.shape({viewClass:k.b.func.isRequired,options:k.b.object}).isRequired}).isRequired).isRequired,selectedTabIndex:k.b.number.isRequired,onSelectTab:k.b.func.isRequired,className:k.b.string},defaultOptions:{selectedTabIndex:0,className:""},mixins:[M.a],events:{'click [data-action="open-tab"]':"getTabIndex |> onOpenTab"},getTabIndex:function(e){return parseInt(e.target.getAttribute("data-tab-index"))},onOpenTab:function(e){this.options.onSelectTab(e)},template:function(){return y.default.getFromMacro("skfb_front/macros/components/molecules/tabs","tabs",[{className:this.options.className,selectedTabIndex:this.options.selectedTabIndex,tabs:this.options.tabs.map(function(e,t){return{title:e.title,component:this.createChildComponent("tab"+t,e.component),isActive:t===this.options.selectedTabIndex}}.bind(this))}])}})),A=n(39),D=n.n(A),U=n(31),V=n(292),B=n(4),I=n.n(B),z=n(37),q=n(17),$=n(42),W=n(8),H={UPDATE_COMMENT:"UPDATE_COMMENT",UPDATE_ERROR:"UPDATE_ERROR",REPLY:"REPLY",POST_COMMENT:Object(q.d)("POST_COMMENT"),DELETE_COMMENT:Object(q.d)("DELETE_COMMENT"),GET_COMMENTS:Object(q.d)("GET_COMMENTS"),NEXT_COMMENTS:Object(q.d)("NEXT_COMMENTS")},G={forceCommentFocus:!1,error:"",comment:"",comments:$.c,optimisticComments:[]},J=$.b("comments"),Y=function(e){return{list:e.effect.results,cursors:{next:W.c.string("offset","",e.effect.next||""),previous:null}}},K=Object(q.e)(Object(z.b)(G,s()((o={},I()(o,H.UPDATE_COMMENT,function(e,t){return s()({},e,{error:"",comment:t.comment})}),I()(o,H.UPDATE_ERROR,function(e,t){return s()({},e,{error:t.error})}),I()(o,H.REPLY,function(e,t){return s()({},e,{comment:"@".concat(t.username," ").concat(e.comment),forceCommentFocus:!0})}),I()(o,H.POST_COMMENT.PENDING,function(e,t){return s()({},e,{comment:"",error:"",optimisticComments:[function(e,t){return{uid:"optimistic-comment",body:e,user:t,isDeleted:!1,createdAt:(new Date).toISOString()}}(e.comment,t.user)]})}),I()(o,H.POST_COMMENT.RESOLVED,function(e,t){return s()({},e,{comment:"",error:"",optimisticComments:[],comments:$.d(e.comments,$.a.prepend(t.effect))})}),I()(o,H.POST_COMMENT.REJECTED,function(e,t){return s()({},e,{error:t.effect&&t.effect.response&&t.effect.response.data.detail&&t.effect.response.data.detail.body?t.effect.response.data.detail.body.join(", "):"An error occurred during comment submission, please try again."})}),I()(o,H.DELETE_COMMENT.PENDING,function(e,t){return s()({},e,{comments:s()({},e.comments,{list:e.comments.list.map(function(e){return e.uid===t.uid?s()({},e,{isDeleted:!0}):e})})})}),o),J(H.GET_COMMENTS,$.f.FIRST,Y),J(H.NEXT_COMMENTS,$.f.NEXT,Y)))),X={cursors:function(e){return $.e.cursors(e.comments)},isLoading:function(e){return $.e.isLoading(e.comments)},loading:function(e){return $.e.loading(e.comments)},hasNextPage:function(e){return $.e.hasNextPage(e.comments)}},Q={updateComment:function(e){return{type:H.UPDATE_COMMENT,payload:{comment:e}}},updateError:function(e){return{type:H.UPDATE_ERROR,payload:{error:e}}},getComments:function(e){return{type:H.GET_COMMENTS,payload:{effect:function(t){return t.Api.getModelComments(e)}}}},nextComments:function(e){return{type:H.NEXT_COMMENTS,payload:{effect:function(t){var n=t.Api,o=t.getState,i=X.cursors(o()).next;return n.getModelComments(e,i)}}}},postComment:function(e){var t=e.body,n=e.modelUid,o=e.user;return{type:H.POST_COMMENT,payload:{user:o,effect:function(e){return e.Api.postComment({body:t,modelUid:n})}}}},deleteComment:function(e){return{type:H.DELETE_COMMENT,payload:{uid:e,effect:function(t){return t.Api.deleteComment(e)}}}},reply:function(e){return{type:H.REPLY,payload:{username:e}}}},Z=n(49),ee=n(724),te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=Object(p.useState)(t),i=D()(o,2),a=i[0],l=i[1],c=Object(p.useRef)(a);Object(p.useEffect)(function(){c.current=a});var u=Object(p.useContext)(q.a),d=Object(p.useMemo)(function(){return[Object(q.c)(s()({},u,{store:h.b.store}))].concat(r()(n))},[u]);return Object(ee.a)(function(){return a},l,e,d)},ne=function(e){var t=Object(p.useRef)();return Object(p.useCallback)(function(){return t.current?t.current:(t.current=e.apply(void 0,arguments),t.current.catch(function(e){throw t.current=void 0,e}).then(function(e){return t.current=void 0,e}))},[e])},oe=c()("div",{className:"placeholder__image --rounded-corners --small"}),ie=c()("div",{className:"placeholder__container"},void 0,c()("div",{className:"placeholder__text --small --w-50"}),c()("div",{className:"placeholder__text --w-80"}),c()("div",{className:"placeholder__text --small --w-50"})),re=function(e){var t=e.className;return c()("div",{className:Object(O.a)("placeholder","c-list-item-placeholder","--comment",t)},void 0,oe,ie)},ae=n(224),se=n(40),le=n.n(se),ce=n(53),ue=n.n(ce),de=n(55),pe=n.n(de),me=n(52),fe=n.n(me),he=n(43),ge=n.n(he),be=n(54),ve=n.n(be),ke=n(18),we=n(46),ye=n(231),Ce=n(529),_e=c()("div",{className:"new --message"},void 0,c()("div",{className:"c-comment-form__editor-container"},void 0,c()("div",{className:"c-comment-form__title"},void 0,"You must confirm your e-mail address to be able to comment."),c()("div",{className:"inner"},void 0,c()("a",{href:"/settings/email",className:"button btn-medium btn-primary"},void 0,"Go to email settings")))),Oe=c()("button",{type:"submit",className:"c-comment-form__submit-button button btn-medium btn-primary",title:"Shortcut: CTRL + Enter"},void 0,"Post comment"),Le=c()("div",{className:"c-comment-form__title"},void 0,"You must log in to comment."),xe=function(e){function t(){var e,n;le()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=pe()(this,(e=fe()(t)).call.apply(e,[this].concat(i))),I()(ge()(n),"onSendComment",function(){var e=n.props.value;e&&n.props.onSubmit(e)}),I()(ge()(n),"openLogin",function(e){e.preventDefault(),b.a.authenticate(function(){return window.location.href})}),n}return ve()(t,e),ue()(t,[{key:"render",value:function(){var e=b.a.me().toJSON(),t=!!this.props.value,n=this.props,o=n.avatarSize,i=n.value,r=n.error,a=n.onChange,s=n.placeholder,l=n.getContextualUsers,u=n.autofocus,d=n.forceFocus;return c()("div",{className:"c-comment-form",onSubmit:Object(ke.b)(this.onSendComment,we.f,we.g)},void 0,e.isAnonymous?c()("div",{className:"new --message"},void 0,c()("div",{className:"c-comment-form__editor-container"},void 0,Le,c()("div",{className:"inner"},void 0,c()("button",{className:"button btn-medium btn-primary",onClick:this.openLogin},void 0,"Log in to comment")))):e.isLimited?_e:c()("form",{"data-ref":"form",className:"new","data-action":"send-comment"},void 0,c()("div",{className:"c-comment-form__editor-container"},void 0,c()("div",{className:"c-comment-form__avatar avatar"},void 0,c()("div",{style:{width:o,height:o}},void 0,c()(ye.a,{images:e.avatars,width:o,height:o}))),c()("div",{className:"c-comment-form__inner"},void 0,c()(Ce.a,{value:i,error:r,onChange:a,placeholder:s,getContextualUsers:l,onSubmit:this.onSendComment,autofocus:u,forceFocus:d,isTouched:!0}),t&&Oe))))}}]),t}(p.Component);I()(xe,"defaultProps",{autocompletion:{},placeholder:"Leave a comment",avatarSize:32,autofocus:!1,getContextualUsers:function(){return[]},className:""});var Se=n(95),Fe=n(96),Ee=n(383),Pe=c()("span",{className:"empty"},void 0,"This comment has been deleted."),je=c()("span",{className:"empty"},void 0,"This message is empty.");function Re(e){var t=e.body,n=e.isDeleted,o=t?Object(U.stripTags)(t.trim()):"";return n?Pe:o.length>0?c()("span",{dangerouslySetInnerHTML:{__html:Object(U.paragraphy)(Object(U.urlize)(o,{target:"_blank"}))}}):je}function Te(e){var t=e.host,n=e.type,o=e.uid,i=e.text,r=void 0===i?"Report abuse":i,a=e.subject,s=e.className,l="".concat(t,"/requests/new?type=report_abuse&utm_campaign=report_abuse&utm_source=website&").concat(n,"=").concat(o),u=a?"&report_string=".concat(encodeURI(a)):"";return c()("a",{href:"".concat(l).concat(u),className:Object(O.a)("report-link",s),target:"_blank",rel:"noopener noreferrer"},void 0,r)}var Me=Object(Se.b)(function(e){return{authUser:h.c.authUser.user(e)}}),Ne=c()("span",{className:"author"},void 0,"Model author"),Ae=c()("i",{className:"fa fa-cog"});var De=Me(function(e){var t=e.authUser,n=e.comment,o=e.model,i=e.onDelete,r=void 0===i?ke.d:i,a=e.onReply,s=void 0===a?ke.d:a,l=e.className;return c()("div",{className:Object(O.a)("comment-item",l,{"--deleted":n.isDeleted}),itemProp:"comment",itemScope:!0,itemType:"http://schema.org/Comment"},void 0,c()("div",{className:"comment-item__avatar","data-action":"show-user-summary","data-user":n.user.uid},void 0,c()(ye.a,{width:32,height:32,images:n.user.avatars})),c()("article",{className:"comment-item__body"},void 0,c()("div",{className:"comment-item__author-name"},void 0,c()(Ee.a,{authUser:t,user:n.user,withSummary:!0,tag:!0})),c()("div",{className:"comment-item__meta"},void 0,o.user.uid===n.user.uid&&Ne,c()("time",{className:"date datefuzz",itemProp:"datecreated",dateTime:n.createdAt,title:n.createdAt},void 0,Object(Fe.b)(n.createdAt))),c()("div",{className:"comment-item__text",itemProp:"text"},void 0,c()(Re,{body:n.body,isDeleted:n.isDeleted})),c()("div",{},void 0,!n.isDeleted&&t.uid!==n.user.uid&&c()("button",{className:"comment-item__reply button btn-textified",onClick:s},void 0,"Reply")),!n.isDeleted&&c()("div",{className:"comment-item__options"},void 0,Ae,c()("ul",{className:"hover-menu --left",style:{display:"none"}},void 0,t.uid!==n.user.uid?c()("li",{},void 0,c()(Te,{host:R.a.hosts.faq,type:"comment",uid:n.uid,text:"Report comment",subject:"Comment by ".concat(n.user.username," on ").concat(o.name)})):c()("li",{},void 0,c()("a",{onClick:r},void 0,"Delete"))))))});function Ue(e){var t=e.model,n=e.shouldDisplayTitle,o=e.totalCommentCount,i=e.onTotalCommentCountChange,a=p.useRef(null),s=te(K,G),l=D()(s,2),u=l[0],d=l[1],m=ne(function(e){var n=h.c.authUser.user(h.b.store.getState());_.a.modelPageNewCommentPosted(t.uid,n.uid===t.user.uid);var r=Object(U.sanitize)(e);if(r.length)return d(Q.postComment({user:n,modelUid:t.uid,body:r})).then(function(){i(o+1)})});p.useEffect(function(){d(Q.getComments(t.uid))},[d,t.uid]);var g=X.hasNextPage(u),b=X.isLoading(u),v="next"===X.loading(u);return p.createElement("div",{ref:a,className:"c-model-comments"},c()("p",{className:"c-model-comments__title"},void 0,n&&(o?"".concat(o," comment").concat(o>1?"s":""):"Comments")),c()(xe,{value:u.comment,onChange:function(e){return d(Q.updateComment(e))},onSubmit:m,error:u.error,forceFocus:u.forceCommentFocus,placeholder:0===o?"Be the first to comment!":"Leave a comment, share your feedback. Don't be shy ;)",getContextualUsers:function(){return[t.user].concat(r()(u.comments.list.map(function(e){return e.user}).filter(Boolean).sort(function(e,t){return Object(V.a)(e.username,t.username)})))}}),c()("div",{className:"c-model-comments__list"},void 0,c()("div",{className:"c-model-comments__items"},void 0,[].concat(r()(u.optimisticComments),r()(u.comments.list)).map(function(e){return c()(De,{className:"c-model-comments__item",comment:e,model:t,onDelete:function(){return function(e){var n=h.c.authUser.user(h.b.store.getState());return d(Q.deleteComment(e.uid)).then(function(){_.a.modelPageCommentDeleted(t.uid,n.uid===t.user.uid)}).catch(function(e){return new Z.default({title:"Error",text:"The comment could not be deleted (".concat(e.response.code,"). Please try again later."),buttons:{ok:!0}}).open()})}(e)},onReply:function(){return function(e){d(Q.reply(e.user.username)),a.current&&a.current.scrollIntoView(!0)}(e)}},e.uid)}),b&&Object(f.range)(0,5).map(function(e){return c()(re,{className:"c-model-comments__item"},e)})),g&&c()(ae.a,{className:"c-model-comments__button --next",text:"load more",onClick:function(){d(Q.nextComments(t.uid))},size:"small",type:"tertiary",loading:v})))}var Ve=n(25),Be=n(167),Ie=n(56),ze=Ie.a.extend({displayName:"Reviews",optionTypes:{filters:k.b.modelShape({model:k.b.string.isRequired,sortBy:k.b.string,rating:k.b.string}).isRequired,offset:k.b.number,pageSize:k.b.number},defaultOptions:function(){return{filters:new Ve.a}},model:Be.a,endpoint:"/reviews",queryParams:function(){return Object(f.extend)({},Ie.a.prototype.queryParams.call(this),{model:this.options.filters.get("model"),sort_by:this.options.filters.get("sortBy"),rating:this.options.filters.get("rating")})},getUsers:function(){return Object(f.sortBy)(this.pluck("user"),"username").filter(Boolean)}}),qe=n(312),$e=n(210),We=n(107),He=(n(559),g.a.extend({displayName:"InfiniteList",mixins:[We.a],optionTypes:{collection:k.b.collection.isRequired,getItemComponent:k.b.func.isRequired,itemClassName:k.b.string,placeholdersCount:k.b.number,placeholderType:k.b.string,shouldFetchFirstPage:k.b.bool,shouldHidePagination:k.b.bool,paginationType:k.b.oneOf(["cursor","offset"]),filters:k.b.model},defaultOptions:function(){return{placeholdersCount:3,shouldFetchFirstPage:!0,shouldHidePagination:!1,paginationType:"cursor",itemClassName:"",filters:new Ve.a}},state:{isMounted:!1},events:{"change this.options.collection":"forceUpdate","loadingChanged this.options.collection":"forceUpdate","reset this.options.collection":"forceUpdate","afterAdd this.options.collection":"forceUpdate","afterRemove this.options.collection":"forceUpdate","change this.options.filters":"onFiltersChange"},viewDidMount:function(){this.options.shouldFetchFirstPage&&this.options.collection.loadFirstPage(),this.setState({isMounted:!0})},viewDidUpdate:function(e){this.options.collection!==e.collection&&this.options.shouldFetchFirstPage&&this.options.collection.loadFirstPage()},onFiltersChange:function(){this.options.collection.loadFirstPage()},onLoadPrevious:function(){this.options.collection.loadPreviousPage()},onLoadNext:function(){this.options.collection.loadNextPage()},template:function(){var e=this,t=this.options.collection.models,n=!this.state.isMounted||!t.length&&this.options.collection.isLoading();return y.default.getFromMacro("skfb_front/macros/components/organisms/infinite-list","infinite_list",[{itemClassName:this.options.itemClassName,isLoading:n,placeholdersCount:this.options.placeholdersCount,placeholderType:this.options.placeholderType,hasNextPage:!n&&!this.options.shouldHidePagination&&this.options.collection.hasNextPage(),hasPreviousPage:!n&&!this.options.shouldHidePagination&&this.options.collection.hasPreviousPage(),components:this.createChildrenComponents({loadPrevious:{viewClass:P.a,options:{text:"load previous",onClick:this.onLoadPrevious.bind(this),size:"small",type:"tertiary",loading:"previous"===this.options.collection.loading()}},loadNext:{viewClass:P.a,options:{text:"load more",onClick:this.onLoadNext.bind(this),size:"small",type:"tertiary",loading:"next"===this.options.collection.loading()}},items:t.map(this.options.getItemComponent),placeholders:Object(f.range)(0,this.options.placeholdersCount).map(function(t){return{viewClass:$e.a,options:{key:t,type:e.options.placeholderType}}})})}])}})),Ge=g.a.extend({displayName:"Distribution",optionTypes:{distribution:k.b.shape({5:k.b.number.isRequired,4:k.b.number.isRequired,3:k.b.number.isRequired,2:k.b.number.isRequired,1:k.b.number.isRequired}).isRequired,selected:k.b.oneOf(["","1","2","3","4","5"]).isRequired,onSelect:k.b.func.isRequired},events:{'click [data-action="select"]':function(e){var t=e.currentTarget.getAttribute("data-value");this.options.onSelect(this.options.selected===t?"":t)}},template:function(){var e=this.options.distribution,t=Object.keys(e).reduce(function(t,n){return t+e[n]},0);return y.default.getFromString(['<div class="c-rating-distribution">',"    {% for item in items %}","        <div",'            class="c-rating-distribution__item {{ item.className }}"','            data-action="select"','            data-value="{{ item.key }}">','            <div class="label">{{ item.label }}</div>','            <div class="percentage-container">',"                <div",'                    class="percentage"',"                    style=\"width: {{ item.percentage * 100 + '%' }}\"></div>","            </div>",'            <div class="count">{{ item.count }}</div>','            <i class="close-icon fa fa-close"></i>',"        </div>","    {% endfor %}","</div>"].join("\n"),{items:Object.keys(e).sort(function(e,t){return parseInt(t)-parseInt(e)}).map(function(n){return{key:n,label:n+" star"+(parseInt(n)>1?"s":""),count:e[n],percentage:0===t?0:e[n]/t,className:this.options.selected?n===this.options.selected?"--active":"--inactive":""}}.bind(this))})}}),Je=g.a.extend({displayName:"ModelRating",optionTypes:{average:k.b.numberBetween(0,5),previewFidelity:k.b.numberBetween(0,5),easeOfUse:k.b.numberBetween(0,5),valueForMoney:k.b.numberBetween(0,5),reviewCount:k.b.number.isRequired,distribution:k.b.shape({5:k.b.number.isRequired,4:k.b.number.isRequired,3:k.b.number.isRequired,2:k.b.number.isRequired,1:k.b.number.isRequired}).isRequired,selectedRating:k.b.oneOf(["","1","2","3","4","5"]).isRequired,onSelectRating:k.b.func.isRequired},template:function(){return y.default.getFromString(['<div class="c-model-rating">','    <div class="c-model-rating__rating-block">','        <div class="c-model-rating__general">','            <span class="text">',"                {{ average | format_rating({ 'numberOnly': true }) if average else '-' }}","            </span>","            {{ components.generalStarRating | component }}","        </div>",'        <div class="c-model-rating__rating-details">',"            {% if isEmpty %}",'                <div class="col">',"                    Not enough reviews to display rating","                </div>","            {% else %}",'                <div class="col">',"                    <span>Preview accuracy</span>","                    <span>Ease of use</span>","                    <span>Value for money</span>","                </div>",'                <div class="col">',"                    <span>{{ previewFidelity | format_rating }}</span>","                    <span>{{ easeOfUse | format_rating }}</span>","                    <span>{{ valueForMoney | format_rating }}</span>","                </div>","            {% endif %}","        </div>","    </div>",'    <div class="c-model-rating__distribution-block">',"        {{ components.distribution | component }}","    </div>","</div>"].join("\n"),{isEmpty:!(this.options.previewFidelity||this.options.easeOfUse||this.options.valueForMoney),average:this.options.average,previewFidelity:this.options.previewFidelity,easeOfUse:this.options.easeOfUse,valueForMoney:this.options.valueForMoney,components:this.createChildrenComponents({generalStarRating:{viewClass:E.a,options:{value:this.options.average||0,size:"medium"}},distribution:{viewClass:Ge,options:{distribution:this.options.distribution,selected:this.options.selectedRating,onSelect:this.options.onSelectRating}}})})}}),Ye=n(112),Ke=(n(555),Object(F.a)(Ce.a)),Xe=g.a.extend({displayName:"ReviewReply",optionTypes:{review:k.b.shape({replyBody:k.b.string,replyCreatedAt:k.b.string,replyEditedAt:k.b.string}).isRequired,modelAuthor:k.b.shape({uid:k.b.string.isRequired,avatars:k.b.object.isRequired}).isRequired,onReply:k.b.func.isRequired},events:{'click [data-action="edit-reply"]':function(){this.setState({isEditing:!0})}},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this.state={value:this.options.review.replyBody||"",isEditing:!1}},onSubmit:function(){this.options.onReply(Object(U.sanitize)(this.state.value)).then(function(){this.setState({isEditing:!1})}.bind(this))},template:function(){var e=b.a.me().toJSON();return y.default.getFromMacro("skfb_front/macros/components/organisms/model-reviews","review_reply",[{authUser:e,review:this.options.review,isEditing:this.state.isEditing,isModelAuthor:e.uid===this.options.modelAuthor.uid,modelAuthor:this.options.modelAuthor,components:this.createChildrenComponents({replyButton:{viewClass:P.a,options:{text:"Reply",size:"small",onClick:function(){this.setState({isEditing:!0})}.bind(this)}},editor:{viewClass:Ke,options:{value:this.state.value,onChange:function(e){this.setState({value:e})}.bind(this),autofocus:!0,placeholder:"Your message...",onSubmit:this.onSubmit.bind(this)}},continueButton:{viewClass:P.a,options:{text:"publish",size:"small",onClick:this.onSubmit.bind(this)}},cancelButton:{viewClass:P.a,options:{text:"cancel",size:"small",type:"tertiary",onClick:function(){this.setState({isEditing:!1})}.bind(this)}}})}])}}),Qe=g.a.extend({displayName:"ModelReviewItem",mixins:[We.a],optionTypes:{review:k.b.shape({body:k.b.string.isRequired,usage:k.b.string.isRequired,uid:k.b.string.isRequired,createdAt:k.b.string.isRequired,user:k.b.shape({uid:k.b.string.isRequired,username:k.b.string.isRequired,avatars:k.b.shape({images:k.b.arrayOf(k.b.object.isRequired).isRequired}).isRequired}).isRequired,deletedAt:k.b.string,editedAt:k.b.string,averageRating:k.b.numberBetween(0,5).isRequired}).isRequired,model:k.b.shape({name:k.b.string.isRequired,user:k.b.shape({uid:k.b.string.isRequired,avatars:k.b.object.isRequired}).isRequired}).isRequired,onToggleUpvote:k.b.func,onReply:k.b.func.isRequired,authUser:k.b.model.isRequired},defaultOptions:function(){return{onToggleUpvote:ke.d,authUser:b.a.me()}},events:{'click [data-action="toggle-upvote"]':function(){this.options.onToggleUpvote()},"change:reviewUpvotes this.options.authUser":"forceUpdate"},viewDidMount:function(){this.options.authUser.getHasUpvotedReview(this.options.review.uid)},template:function(){var e=this.options,t=e.review,n=e.authUser,o=e.model,i=e.onReply;return y.default.getFromMacro("skfb_front/macros/components/organisms/model-reviews","review_item",[{authUser:n.toJSON(),review:Object(f.extend)({},t,{usage:function(e){return Object(Ye.a)(R.a.reviewsUsageOptions,{title:"Unknown"},function(t){return t.value===e}).title}(t.usage)}),SKFB_FAQ_HOST:R.a.hosts.faq,model:o,isUpvoted:n.hasUpvotedReview(t.uid),components:this.createChildrenComponents({reply:{viewClass:Xe,options:{review:t,modelAuthor:o.user,onReply:i}}})}])}}),Ze=g.a.extend({displayName:"ModelReviews",optionTypes:{model:k.b.modelShape({uid:k.b.string.isRequired,name:k.b.string.isRequired,user:k.b.shape({uid:k.b.string.isRequired}).isRequired}).isRequired,pageSize:k.b.number},defaultOptions:{pageSize:15},state:{ratings:{average:null,previewFidelity:null,easeOfUse:null,valueForMoney:null,reviewCount:0,distribution:{5:0,4:0,3:0,2:0,1:0}},canReview:!1},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this.reviewFilters=new Ve.a({model:this.options.model.get("uid"),sortBy:"",rating:""}),this.reviewCollection=new ze([],{pageSize:this.options.pageSize,filters:this.reviewFilters}),this.authUser=b.a.me()},viewDidMount:function(){var e=this;this.options.model.getRatings().then(function(t){return e.setState({ratings:t})}),this.authUser.canReview(this.options.model.get("uid")).then(function(t){return e.setState({canReview:t})}),this.reviewFilters.on("change",this.forceUpdate,this)},viewWillUnmount:function(){this.reviewFilters.off("change",this.forceUpdate,this)},template:function(){var e=this.options.model.toJSON();return y.default.getFromMacro("skfb_front/macros/components/organisms/model-reviews","model_reviews",[{model:e,canReview:this.state.canReview,components:this.createChildrenComponents({sortBySelect:{viewClass:qe.a,options:{value:this.reviewFilters.get("sortBy"),onChange:function(e){this.reviewFilters.set("sortBy",e)}.bind(this),options:[{title:"Most recent first",value:""},{title:"Highest ratings first",value:"-rating"},{title:"Lowest ratings first",value:"rating"},{title:"Most helpful first",value:"-upvoteCount"}]}},modelRating:{viewClass:Je,options:Object(f.extend)({},this.state.ratings,{selectedRating:this.reviewFilters.get("rating"),onSelectRating:function(e){this.reviewFilters.set("rating",e)}.bind(this)})},reviewList:{viewClass:He,options:{collection:this.reviewCollection,filters:this.reviewFilters,paginationType:"offset",placeholderType:"comment",itemClassName:"c-model-reviews__item",getItemComponent:function(t){return{viewClass:Qe,options:{key:t.get("uid"),review:t.toJSON(),model:e,onToggleUpvote:function(){t.toggleUpvote()},onReply:function(e){return t.updateReply(e)}}}}.bind(this)}}})}])}}),et=["reviews","comments"],tt=Object(F.a)(function(e){return m.a.createElement(Ue,e)}),nt=g.a.extend({displayName:"ModelFeedbacks",optionTypes:{model:k.b.modelShape({commentCount:k.b.number.isRequired,reviewCount:k.b.number.isRequired}).isRequired,selectedTab:k.b.oneOf(et)},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this.state={selectedTabIndex:this.options.model.get("reviewCount")?0:1}},getDerivedStateFromOptions:function(e){return{selectedTabIndex:e.selectedTab?et.indexOf(e.selectedTab):this.state.selectedTabIndex}},viewDidMount:function(){this.options.model.on("change",this.forceUpdate,this)},viewWillUnmount:function(){this.options.model.off("change",this.forceUpdate,this)},template:function(){var e="paid"===this.options.model.getDownloadType(),t={viewClass:tt,options:{model:this.options.model.attributes,totalCommentCount:this.options.model.get("commentCount"),onTotalCommentCountChange:function(e){this.options.model.set("commentCount",e)}.bind(this),shouldDisplayTitle:!e}},n={viewClass:Ze,options:{model:this.options.model}},o=e?{viewClass:N,options:{selectedTabIndex:this.state.selectedTabIndex,onSelectTab:function(e){this.setState({selectedTabIndex:e})}.bind(this),tabs:[{title:(this.options.model.get("reviewCount")||0)+" Reviews",component:n},{title:(this.options.model.get("commentCount")||0)+" Comments",component:t}]}}:t;return y.default.getFromString('<div class="c-model-feedbacks">{{ components.content | component }}</div>',{components:this.createChildrenComponents({content:o})})}}),ot=n(176),it=n(252),rt=n(115),at=Object(rt.a)(function(e,t){var n=h.c.entities.user(t.user.uid,e);return{doesFollow:h.c.authUser.doesFollow(t.user.uid,e),followerCount:n?n.followerCount:t.user.followerCount,hasEntity:!!n}},{updateEntities:h.a.entities.update,getDoesFollow:h.a.authUser.getDoesFollow,toggleFollow:h.a.authUser.toggleFollow})(g.a.extend({displayName:"FollowContainer",optionTypes:{user:k.b.shape({uid:k.b.string.isRequired}).isRequired,render:k.b.func.isRequired,trackerEvent:k.b.string,doesFollow:k.b.bool.isRequired,followerCount:k.b.number.isRequired,getDoesFollow:k.b.func.isRequired,toggleFollow:k.b.func.isRequired,hasEntity:k.b.bool.isRequired,updateEntities:k.b.func.isRequired},events:{mouseenter:function(){this.setState({isHover:!0})},mouseleave:function(){this.setState({isHover:!1})}},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this.onToggleFollow=C.e(this.onToggleFollow.bind(this)),this.state={isHover:!1}},viewDidMount:function(){this.options.getDoesFollow(this.options.user.uid)},onToggleFollow:function(){var e=this;return b.a.authenticate(function(){return e.options.hasEntity||e.options.updateEntities({users:[e.options.user]}),e.options.toggleFollow(e.options.user.uid).then(function(t){e.options.trackerEvent&&_.a[e.options.trackerEvent](e.options.user.uid,t)})})},template:function(){return y.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:this.options.render(s()({},this.state,{doesFollow:this.options.doesFollow,onToggleFollow:this.onToggleFollow,followerCount:this.options.followerCount}))})})}})),st=n(446),lt=n(216),ct=n(472),ut=n(461),dt=n(386),pt=n(89),mt=n(90),ft=n(723),ht=Object(pt.a)(g.a.extend({displayName:"ModelInformationPopup",optionTypes:{model:k.b.object.isRequired,authUser:k.b.shape({features:k.b.arrayOf(k.b.string.isRequired).isRequired}).isRequired,onInspect:k.b.func},template:function(){return y.default.getFromString("{{ components.popup | component }}",{components:this.createChildrenComponents({popup:{viewClass:mt.a,options:{title:"Model Information",className:"--small",child:{viewClass:ft.a,options:{model:this.options.model,authUser:this.options.authUser,onInspect:this.options.onInspect}}}}})})}})),gt=n(221),bt=n(313),vt=Ve.a.extend({}),kt=Ie.a.extend({model:vt,endpoint:"/likes",queryParams:function(){return s()({},Ie.a.prototype.queryParams.apply(this,arguments),{model:this.options.currentModel.get("uid")})},hasMore:function(){return this.options.currentModel.get("likeCount")>this.length}}),wt=n(183),yt=(n(799),g.a.extend({displayName:"InlineLikes",optionTypes:{likes:k.b.collection.isRequired,totalLikeCount:k.b.number.isRequired,onTotalLikeCountClick:k.b.func},defaultOptions:{onTotalLikeCountClick:ke.d},events:{'click [data-action="on-total-click"]':function(e){this.options.onTotalLikeCountClick(e)}},template:function(){return y.default.getFromMacro("skfb_front/macros/components/molecules/inline-likes","inline_likes",[{currentUser:b.a.me().toJSON(),likes:this.options.likes.toJSON(),totalLikeCount:this.options.totalLikeCount}])}})),Ct=(n(557),g.a.extend({displayName:"ModelDescription",mixins:[wt.a],optionTypes:{model:k.b.modelShape({uid:k.b.string.isRequired}).isRequired,onOpenModelInformation:k.b.func.isRequired,onOpenSettingsPopup:k.b.func.isRequired},events:{'click [data-action="open-information-popup"]':function(){this.options.onOpenModelInformation()},'click [data-action="open-modelsettings-popup"]':function(){this.options.onOpenSettingsPopup()},'click [data-action="show-more"]':"toggleShowMore",'click [data-action="open-exporter-link"]':"trackExporterClick","route #likes":"openLikesPopup"},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this.openLikesPopup=C.e(this.openLikesPopup.bind(this)),this.likeCollection=new kt([],{currentModel:this.options.model}),this.state={hasShowMore:!1,isDescriptionOpen:!1}},viewDidMount:function(){this.likeCollection.on("afterAdd",this.forceUpdate,this),this.options.model.get("isPublished")&&!this.options.model.get("isDisabled")&&this.likeCollection.loadFirstPage(),this.setState({hasShowMore:this.options.model.get("inStore")||this.refs.descriptionContent&&this.refs.descriptionContent.offsetHeight>100})},viewWillUnmount:function(){this.likeCollection.off("afterAdd",this.forceUpdate,this)},openLikesPopup:function(){var e=this;return Object(S.c)().then(function(t){return new t({collection:e.likeCollection}).open()}).catch(Object(L.g)(L.e))},trackExporterClick:function(e){_.a.wrapLink(e,_.a.modelPageExporterLinkClicked(e.currentTarget.getAttribute("data-exporter")))},toggleShowMore:function(){this.setState(function(e){return{isDescriptionOpen:!e.isDescriptionOpen}})},template:function(){return y.default.getFromMacro("skfb_front/macros/components/organisms/model-page/model-description","model_description",[{hasShowMore:this.state.hasShowMore,isDescriptionOpen:this.state.isDescriptionOpen,authUser:b.a.me().toJSON(),model:this.options.model.toJSON(),components:this.createChildrenComponents({inlineLikes:{viewClass:yt,options:{likes:this.likeCollection,totalLikeCount:this.options.model.get("likeCount"),onTotalLikeCountClick:this.openLikesPopup.bind(this)}}})}])}})),_t=(n(721),Object(F.a)(function(e){var t=e.playlist,n=d()(e,["playlist"]);return c()(lt.a,{value:t},void 0,m.a.createElement(ct.a,n))}));t.a=g.a.extend({displayName:"Main",optionTypes:{model:k.b.model.isRequired,onScrollToReviews:k.b.func.isRequired,onOpenDownloadPopup:k.b.func.isRequired,getDownloadButtonText:k.b.func.isRequired,onInspect:k.b.func.isRequired,forcedFeedbackTab:k.b.string},events:{'click [data-action="open-information-popup"]':"openInformationPopup",'click [data-action="scroll-to-reviews"]':function(){this.options.onScrollToReviews()},"route #share":"openSharePopup","route #embed":"openEmbedPopup"},initialize:function(){g.a.prototype.initialize.apply(this,arguments),this.openEmbedPopup=C.e(this.openEmbedPopup.bind(this)),this.createRelatedModelCollection(this.options.model.get("uid"))},viewWillUpdate:function(e){this.options.model.get("uid")!==e.model.get("uid")&&this.createRelatedModelCollection(e.model.get("uid"))},createRelatedModelCollection:function(e){this.relatedModelCollection=new w(null,{uid:e,pageSize:6})},openInformationPopup:function(){var e=this,t=new ht({model:this.options.model.toJSON(),authUser:b.a.me().toJSON(),onInspect:function(){t.close(),e.options.onInspect()}});return t.open()},openEmbedPopup:function(){var e=this;return _.a.modelPageEmbedButtonClicked(this.options.model.get("uid")),Object(S.d)().then(function(t){return new t({model:e.options.model}).open()}).catch(Object(L.g)(L.e))},openSharePopup:function(){_.a.modelPageShareButtonClicked(this.options.model.get("uid")),new bt.a({model:this.options.model}).open()},openCollectionPopup:function(){return _.a.modelPageAddToCollectionButtonClicked(this.options.model.get("uid")),Object(S.h)(this.options.model)},openSettingsPopup:function(){if(this.options.model.get("user").uid===b.a.me().get("uid"))return new gt.a({model:this.options.model,userIsUpdated:!0}).open()},template:function(){var e=this,t=this.options.model.toJSON();return y.default.getFromMacro("skfb_front/macros/components/organisms/model-page/main","main",[{model:t,authUser:b.a.me().toJSON(),components:this.createChildrenComponents({feedbacks:{viewClass:nt,options:{model:this.options.model,selectedTab:this.options.forcedFeedbackTab}},modelActions:{viewClass:T,options:{model:t,authUser:b.a.me().toJSON(),onOpenEmbedPopup:this.openEmbedPopup.bind(this),onOpenSharePopup:this.openSharePopup.bind(this),onOpenDownloadPopup:this.options.onOpenDownloadPopup.bind(this),onOpenCollectionPopup:this.openCollectionPopup.bind(this)}},modelDescription:{viewClass:Ct,options:{model:this.options.model,onOpenModelInformation:this.openInformationPopup.bind(this),onOpenSettingsPopup:this.openSettingsPopup.bind(this)}},addToCartButton:{viewClass:st.a,options:{model:this.options.model.toJSON(),render:function(t){var n=t.isModelInCart,o=t.isModelOwned,i=t.wasJustAdded,r=t.onAddToCart;return{viewClass:P.a,options:s()({},e.options.getDownloadButtonText({isModelInCart:n,isModelOwned:o,wasJustAdded:i}),{onClick:function(){o?e.options.onOpenDownloadPopup():n?window.location=Object(x.e)("store:checkout"):r()},type:"store",size:"large"})}}}},mobileModelRating:{viewClass:E.a,options:{size:"small",value:this.options.model.get("averageRating")||0}},relatedStoreModels:{viewClass:ot.a,options:{collection:this.relatedModelCollection,loadingDelayMs:0,render:function(e){var t=e.models,n=e.isLoading;return{viewClass:_t,options:{title:"Related 3D Models",color:O.b.storeColor,playlist:t.map(function(e){return e.get("uid")}),cards:[].concat(r()(t.map(function(e){return c()(h.b.Provider,{},e.get("uid"),c()(ut.a,{model:e.toJSON(),previewOnDrag:!1}))})),r()(Object(f.range)(0,n?4:0).map(function(e,t){return c()(dt.a,{},t)})))}}}}},starLikeButton:{viewClass:it.a,options:{model:t,trackerEvent:"modelPageFavoriteButtonClicked",render:function(e){return{viewClass:j,options:e}}}},followButton:{viewClass:at,options:{user:this.options.model.get("user"),trackerEvent:"modelPageFollowButtonClicked",render:function(e){var t=e.doesFollow,n=e.isHover,o=e.onToggleFollow;return{viewClass:P.a,options:{text:t?n?"unfollow":"following":"follow",type:t?"important":"primary",size:"small",onClick:o}}}}}})}])}})},89:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(2),i=n.n(o),r=n(14),a=n(6),s=n(58),l=n(76);function c(e){return s.a.extend({displayName:"Popup",mixins:[l.a],defaultOptions:e.prototype.defaultOptions,children:{componentWrapper:{selector:".js-popup-content",viewClass:r.a.extend({displayName:"PopupWrapper(".concat(e.prototype.displayName,")"),template:function(){return a.default.getFromString("{{ components.child | component }}",{components:this.createChildrenComponents({child:{viewClass:e,options:this.options}})})}}),options:function(){return i()({},this.options,{popup:{continue:this.continue.bind(this),cancel:this.cancel.bind(this),open:this.open.bind(this),close:this.close.bind(this),remove:this.remove.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),center:this.center.bind(this),resize:this.resize.bind(this),autofocus:this.autofocus.bind(this)}})}}},template:function(){return a.default.getFromString('\n                <div class="popup-container">\n                    <div class="popup-overlay"></div>\n                    <div class="js-popup js-popup-content"></div>\n                </div>\n                ',{})}})}},9:function(e,t,n){"use strict";var o={};n.r(o),n.d(o,"get",function(){return je}),n.d(o,"set",function(){return Re}),n.d(o,"remove",function(){return Te}),n.d(o,"getJSON",function(){return Me}),n.d(o,"setJSON",function(){return Ne});var i,r,a,s,l,c=n(27),u=n(85),d=n(11),p=n.n(d),m=n(21),f=n.n(m),h=n(4),g=n.n(h),b=n(2),v=n.n(b),k=n(1),w=n(18),y=n(20),C=n(17),_=n(37),O=n(22),L={GET_FROM_PREFETCHED:Object(C.d)("authUser.GET_FROM_PREFETCHED"),GET:Object(C.d)("authUser.GET"),LIKE_MODEL:Object(C.d)("authUser.LIKE_MODEL"),UNLIKE_MODEL:Object(C.d)("authUser.UNLIKE_MODEL"),GET_LIKES:Object(C.d)("authUser.GET_LIKES"),GET_PURCHASES:Object(C.d)("authUser.GET_PURCHASES"),GET_SUBSCRIPTIONS:Object(C.d)("authUser.GET_SUBSCRIPTIONS"),SUBSCRIBE:Object(C.d)("authUser.SUBSCRIBE"),UNSUBSCRIBE:Object(C.d)("authUser.UNSUBSCRIBE"),GET_FOLLOWINGS:Object(C.d)("authUser.GET_FOLLOWINGS"),FOLLOW:Object(C.d)("authUser.FOLLOW"),UNFOLLOW:Object(C.d)("authUser.UNFOLLOW")},x={uid:null,likes:{},purchases:{},followings:{},subscriptions:{}},S=Object(C.e)(Object(_.b)(x,(i={},g()(i,L.LIKE_MODEL.PENDING,function(e,t){return v()({},e,{likes:v()({},e.likes,g()({},t.modelUid,!0))})}),g()(i,L.UNLIKE_MODEL.PENDING,function(e,t){return v()({},e,{likes:v()({},e.likes,g()({},t.modelUid,!1))})}),g()(i,L.SUBSCRIBE.PENDING,function(e,t){return v()({},e,{subscriptions:v()({},e.subscriptions,g()({},t.collectionUid,!0))})}),g()(i,L.UNSUBSCRIBE.PENDING,function(e,t){return v()({},e,{subscriptions:v()({},e.subscriptions,g()({},t.collectionUid,!1))})}),g()(i,L.FOLLOW.PENDING,function(e,t){return v()({},e,{followings:v()({},e.followings,g()({},t.userUid,!0))})}),g()(i,L.UNFOLLOW.PENDING,function(e,t){return v()({},e,{followings:v()({},e.followings,g()({},t.userUid,!1))})}),i))),F=Object(_.b)(x,(r={},g()(r,L.GET_FROM_PREFETCHED.RESOLVED,function(e,t){return v()({},e,{uid:t.effect.result})}),g()(r,L.GET.RESOLVED,function(e,t){return v()({},e,{uid:t.effect.result})}),g()(r,L.GET_LIKES.RESOLVED,function(e,t){return v()({},e,{likes:v()({},e.likes,t.effect)})}),g()(r,L.GET_PURCHASES.RESOLVED,function(e,t){return v()({},e,{purchases:v()({},e.purchases,t.effect)})}),g()(r,L.GET_SUBSCRIPTIONS.RESOLVED,function(e,t){return v()({},e,{subscriptions:v()({},e.subscriptions,t.effect)})}),g()(r,L.GET_FOLLOWINGS.RESOLVED,function(e,t){return v()({},e,{followings:v()({},e.followings,t.effect)})}),r)),E=Object(_.a)(S,F),P={isInflated:function(e){return null!==e.authUser.uid},uid:function(e){return e.authUser.uid},user:function(e){return Object(y.a)(e.authUser.uid,O.h,e.entities)},isAuthenticated:function(e){return P.isInflated(e)&&!0!==P.user(e).isAnonymous},likes:function(e){return e.authUser.likes},doesLike:function(e,t){return t.authUser.likes[e]||!1},hasPurchased:function(e,t){return t.authUser.purchases[e]||!1},hasSubscribed:function(e,t){return t.authUser.subscriptions[e]||!1},doesFollow:function(e,t){return t.authUser.followings[e]||!1}},j=Object(k.memoize)(function(e){return Object(w.a)(function(t){return e({type:L.GET_LIKES,payload:{effect:function(){var e=f()(p.a.mark(function e(n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.Api,i=n.getState,!P.isAuthenticated(i())){e.next=7;break}return e.next=4,o.getCurrentUserLikes(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),R=Object(k.memoize)(function(e){return Object(w.a)(function(t){return e({type:L.GET_PURCHASES,payload:{effect:function(){var e=f()(p.a.mark(function e(n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.Api,i=n.getState,!P.isAuthenticated(i())){e.next=7;break}return e.next=4,o.getCurrentUserPurchases(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),T=Object(k.memoize)(function(e){return Object(w.a)(function(t){return e({type:L.GET_SUBSCRIPTIONS,payload:{effect:function(){var e=f()(p.a.mark(function e(n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.Api,i=n.getState,!P.isAuthenticated(i())){e.next=7;break}return e.next=4,o.getCurrentUserSubscriptions(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),M=Object(k.memoize)(function(e){return Object(w.a)(function(t){return e({type:L.GET_FOLLOWINGS,payload:{effect:function(){var e=f()(p.a.mark(function e(n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.Api,i=n.getState,!P.isAuthenticated(i())){e.next=7;break}return e.next=4,o.getCurrentUserFollowings(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={};case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})})}),N={getFromPrefetched:function(){return{type:L.GET_FROM_PREFETCHED,payload:{effect:function(e){var t=e.Prefetching,n=t.get("/i/users/me"),o=n.isAnonymous?v()({},n,{uid:"anonymous"}):t.get("/i/users/".concat(n.uid))||n;return Object(y.b)(o,O.h)}}}},get:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowPrefetching,t=void 0===e||e;return{type:L.GET,payload:{effect:function(){var e=f()(p.a.mark(function e(n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.Api,e.next=3,o.getCurrentUser({allowPrefetching:t});case 3:return i=e.sent,e.abrupt("return",Object(y.b)(i,O.h));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}},getDoesLike:function(e){return function(t){return j(t)([e]).then(function(t){return t[e]})}},likeModel:function(e){return{type:L.LIKE_MODEL,payload:{modelUid:e,entities:{models:g()({},e,{likeCount:function(e){return e+1}})},effect:function(t){return t.Api.likeModel(e)}}}},unlikeModel:function(e){return{type:L.UNLIKE_MODEL,payload:{modelUid:e,entities:{models:g()({},e,{likeCount:function(e){return e-1}})},effect:function(t){return t.Api.unlikeModel(e)}}}},toggleLikeModel:function(e){return function(t,n){return t(P.doesLike(e,n())?N.unlikeModel(e):N.likeModel(e))}},getHasPurchased:function(e){return function(t){return R(t)([e]).then(function(t){return t[e]||!1})}},getHasSubscribed:function(e){return function(t){return T(t)([e]).then(function(t){return t[e]})}},subscribe:function(e){return{type:L.SUBSCRIBE,payload:{collectionUid:e,entities:{collections:g()({},e,{subscriberCount:function(e){return e+1}})},effect:function(t){return t.Api.subscribeToCollection(e)}}}},unsubscribe:function(e){return{type:L.UNSUBSCRIBE,payload:{collectionUid:e,entities:{collections:g()({},e,{subscriberCount:function(e){return e-1}})},effect:function(t){return t.Api.unsubscribeFromCollection(e)}}}},toggleSubscribe:function(e){return function(t,n){return t(P.hasSubscribed(e,n())?N.unsubscribe(e):N.subscribe(e))}},getDoesFollow:function(e){return function(t){return M(t)([e]).then(function(t){return t[e]})}},follow:function(e){return{type:L.FOLLOW,payload:{userUid:e,entities:{users:g()({},e,{followerCount:function(e){return e+1}})},effect:function(t){return t.Api.followUser(e)}}}},unfollow:function(e){return{type:L.UNFOLLOW,payload:{userUid:e,entities:{users:g()({},e,{followerCount:function(e){return e-1}})},effect:function(t){return t.Api.unfollowUser(e)}}}},toggleFollow:function(e){return function(t,n){return t(P.doesFollow(e,n())?N.unfollow(e):N.follow(e))}}},A=n(19),D=Object(A.j)(3),U={UPDATE:"entities.UPDATE"},V={models:{},users:{},collections:{},categories:{},licenses:{},comments:{},reviews:{},uploadActivities:{},collectionActivities:{},collectActivities:{},commentActivities:{},mentionActivities:{},followActivities:{},subscribeActivities:{},likeActivities:{},staffpickActivities:{},reviewActivities:{},reviewReplyActivities:{}},B=function(e){return e.meta&&e.meta.isEffect},I=Object(C.e)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return(!B(t)||function(e){return B(e)&&e.meta.effectStatus===C.b.Pending}(t))&&t.payload&&t.payload.entities?Object(A.l)(t.payload.entities,e):e}),z=Object(_.b)(V,g()({},U.UPDATE,function(e,t){return D(e,t.entities)})),q=Object(_.a)(I,function(e,t){return function(e){return B(e)&&e.meta.effectStatus===C.b.Resolved}(t)&&t.payload.effect&&t.payload.effect.entities?D(e,t.payload.effect.entities):e},z),$={all:function(e){return e.entities},model:function(e,t){return Object(y.a)(e,O.f,t.entities)},user:function(e,t){return Object(y.a)(e,O.h,t.entities)},collection:function(e,t){return Object(y.a)(e,O.c,t.entities)},category:function(e,t){return Object(y.a)(e,O.b,t.entities)},license:function(e,t){return Object(y.a)(e,O.e,t.entities)},comment:function(e,t){return Object(y.a)(e,O.d,t.entities)},review:function(e,t){return Object(y.a)(e,O.g,t.entities)},activity:function(e,t){return Object(y.a)(e,O.a,t.entities)}},W={update:function(e){var t=e.models,n=void 0===t?[]:t,o=e.users,i=void 0===o?[]:o,r=e.collections,a=void 0===r?[]:r,s=e.categories,l=void 0===s?[]:s,c=e.licenses,u=void 0===c?[]:c,d=e.comments,p=void 0===d?[]:d,m=e.reviews,f=void 0===m?[]:m,h=e.activities,g=void 0===h?[]:h;return{type:U.UPDATE,payload:{entities:D(Object(y.b)(n,[O.f]).entities,Object(y.b)(i,[O.h]).entities,Object(y.b)(a,[O.c]).entities,Object(y.b)(l,[O.b]).entities,Object(y.b)(u,[O.e]).entities,Object(y.b)(p,[O.d]).entities,Object(y.b)(f,[O.g]).entities,Object(y.b)(g.map(function(e){var t=e.obj,n=e.target,o=e.actor,i=e.verb;return{timestamp:e.timestamp,uid:e.uid,obj:t,target:n,actor:o,verb:i}}),[O.a]).entities)}}}},H=n(28),G=n.n(H),J=n(5),Y=n.n(J),K=n(10),X=n(24),Q=n(32),Z={GET:Object(C.d)("cart.GET"),ADD_MODEL:Object(C.d)("cart.ADD_MODEL"),REMOVE_MODEL:Object(C.d)("cart.REMOVE_MODEL"),CLEAR:Object(C.d)("cart.CLEAR")},ee={models:[]},te=Object(C.e)(Object(_.b)(ee,(a={},g()(a,Z.ADD_MODEL.PENDING,function(e,t){var n=t.modelUid;return v()({},e,{models:e.models.concat(n)})}),g()(a,Z.REMOVE_MODEL.PENDING,function(e,t){var n=t.modelUid;return v()({},e,{models:e.models.filter(function(e){return e!==n})})}),g()(a,Z.CLEAR.PENDING,function(e){return v()({},e,{models:[]})}),a))),ne=Object(_.b)(ee,(s={},g()(s,Z.GET.RESOLVED,function(e,t){return v()({},e,{models:t.effect.result})}),g()(s,Z.ADD_MODEL.RESOLVED,function(e,t){return v()({},e,{models:t.effect.result})}),g()(s,Z.REMOVE_MODEL.RESOLVED,function(e,t){return v()({},e,{models:t.effect.result})}),s)),oe=Object(_.a)(te,ne),ie={isModelInCart:function(e,t){return t.cart.models.includes(e)},models:function(e){return Object(y.a)(e.cart.models,[O.f],e.entities)},modelUids:function(e){return e.cart.models}},re=function(){var e=f()(p.a.mark(function e(t,n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.addModelsToCart(t);case 2:return o=e.sent,i=o.results,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=f()(p.a.mark(function e(t,n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.removeModelsFromCart(t);case 2:return o=e.sent,i=o.results,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),se=function(e){return e.getJSON("skfb-cart").then(function(e){return e||[]}).catch(function(){return[]})},le=function(){var e=f()(p.a.mark(function e(t,n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(n);case 2:return o=e.sent,i=[].concat(G()(o),G()(t.filter(function(e){return o.every(function(t){return t.uid!==e.uid})}))),n.setJSON("skfb-cart",i),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=f()(p.a.mark(function e(t,n){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(n);case 2:return o=e.sent,i=o.filter(function(e){return t.every(function(t){return e.uid!==t})}),n.setJSON("skfb-cart",i),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=f()(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setJSON("skfb-cart",[]),e.abrupt("return",[]);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=f()(p.a.mark(function e(t,n,o,i){var r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length){e.next=11;break}if(!t.length){e.next=10;break}return e.next=4,ae(n.map(function(e){return e.uid}),o);case 4:return e.next=6,re(t.map(function(e){return e.uid}),o);case 6:return r=e.sent,e.next=9,ue(i);case 9:return e.abrupt("return",r);case 10:return e.abrupt("return",n);case 11:if(!t.length){e.next=18;break}return e.next=14,re(t.map(function(e){return e.uid}),o);case 14:return a=e.sent,e.next=17,ue(i);case 17:return e.abrupt("return",a);case 18:return e.abrupt("return",[]);case 19:case"end":return e.stop()}},e)}));return function(t,n,o,i){return e.apply(this,arguments)}}(),pe=Q.e(function(e){return e({type:Z.GET,payload:{effect:function(){var e=f()(p.a.mark(function e(t){var n,o,i,r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Api,o=t.LocalStorage,i=t.getState,e.next=3,se(o);case 3:if(r=e.sent,P.isAuthenticated(i())){e.next=8;break}e.t0=r,e.next=11;break;case 8:return e.next=10,n.getCart().then(function(e){var t=e.results;return de(r,t,n,o)});case 10:e.t0=e.sent;case 11:return a=e.t0,e.abrupt("return",Object(y.b)(a,[O.f]));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})}),me={get:function(){return pe},addModel:function(e){return function(t,n){var o=n(),i=ie.isModelInCart(e.uid,o),r=ie.models(o);return i?Y.a.resolve(Object(y.b)(r,[O.f])):t({type:Z.ADD_MODEL,payload:{modelUid:e.uid,entities:Object(y.b)(e,O.f).entities,effect:function(){var t=f()(p.a.mark(function t(n){var i,a,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Api,a=n.LocalStorage,!(r.length+1>K.a.storeCartMaxSize)){t.next=3;break}throw new X.b;case 3:if(!P.isAuthenticated(o)){t.next=9;break}return t.next=6,re([e.uid],i);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,le([e],a);case 11:t.t0=t.sent;case 12:return s=t.t0,t.abrupt("return",Object(y.b)(s,[O.f]));case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})}},removeModel:function(e){return function(t,n){var o=n(),i=ie.isModelInCart(e.uid,o),r=ie.models(o);return i?t({type:Z.REMOVE_MODEL,payload:{modelUid:e.uid,entities:Object(y.b)(e,O.f).entities,effect:function(){var t=f()(p.a.mark(function t(n){var i,r,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Api,r=n.LocalStorage,!P.isAuthenticated(o)){t.next=7;break}return t.next=4,ae([e.uid],i);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,ce([e.uid],r);case 9:t.t0=t.sent;case 10:return a=t.t0,t.abrupt("return",Object(y.b)(a,[O.f]));case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}}):Y.a.resolve(Object(y.b)(r,[O.f]))}},clear:function(){return function(e,t){var n=t();return e({type:Z.CLEAR,payload:{effect:function(){var e=f()(p.a.mark(function e(t){var o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.Api,i=t.LocalStorage,!P.isAuthenticated(n)){e.next=6;break}return e.next=4,ae(ie.modelUids(n),o);case 4:e.next=8;break;case 6:return e.next=8,ue(i);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})}}},fe={effect:function(e,t){return t.effects[e.ORIGINAL]||{}},isPending:function(e,t){return fe.effect(e,t).status===C.b.Pending},isResolved:function(e,t){return fe.effect(e,t).status===C.b.Resolved},isRejected:function(e,t){return fe.effect(e,t).status===C.b.Rejected}},he=n(83),ge=n(8),be=n(30),ve={UPDATE_QUERY:"search.UPDATE_QUERY",UPDATE_TYPE:"search.UPDATE_TYPE",OPEN:Object(C.d)("search.OPEN"),CLOSE:Object(C.d)("search.CLOSE")},ke={isOpen:!!Object(be.d)("search:search",window.location.pathname),query:ge.c.string("q",""),type:"models",previousLocation:""},we=Object(_.b)(ke,(l={},g()(l,ve.UPDATE_QUERY,function(e,t){return v()({},e,{query:t.query})}),g()(l,ve.UPDATE_TYPE,function(e,t){return v()({},e,{type:t.type})}),g()(l,ve.OPEN.PENDING,function(e){return v()({},e,{isOpen:!0})}),g()(l,ve.OPEN.RESOLVED,function(e,t){return v()({},e,{previousLocation:t.effect})}),g()(l,ve.CLOSE.RESOLVED,function(e){return v()({},e,{isOpen:!1})}),l)),ye={query:function(e){return e.search.query},type:function(e){return e.search.type},isOpen:function(e){return e.search.isOpen},previousLocation:function(e){return e.search.previousLocation||{models:"/models/popular",users:"/users",collections:"/collections"}[ye.type(e)]}},Ce={updateQuery:function(e){return{type:ve.UPDATE_QUERY,payload:{query:e}}},updateType:function(e){return{type:ve.UPDATE_TYPE,payload:{type:e}}},open:function(){return function(e,t){if(!ye.isOpen(t()))return e({type:ve.OPEN,payload:{effect:function(e){var t=e.History,n=Object(be.d)("search:search",window.location.pathname)?"":window.location.pathname;return t.pushRoute("search:search"),n}}})}},close:function(){return function(e,t){if(ye.isOpen(t()))return e({type:ve.CLOSE,payload:{effect:function(e){e.History.push(ye.previousLocation(t()),{shouldPreventModelPopup:!0})}}})}},toggle:function(){return function(e,t){return e(ye.isOpen(t())?Ce.close():Ce.open())}}},_e={authUser:L,entities:U,cart:Z,effects:{},storeSearch:he.i,search:ve},Oe=Object(u.c)({authUser:E,entities:q,cart:oe,effects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.meta&&t.meta.isEffect?v()({},e,g()({},t.meta.originalType,{status:t.meta.effectStatus})):e},storeSearch:he.g,search:we}),Le={authUser:P,entities:$,cart:ie,effects:fe,storeSearch:he.h,search:ye},xe={authUser:N,entities:W,cart:me,effects:{},storeSearch:he.a,search:Ce},Se=n(12),Fe=n.n(Se),Ee=(n(26),n(95)),Pe=n(16),je=function(e){return localStorage.getItem(e)},Re=function(e,t){return localStorage.setItem(e,t)},Te=function(e){return localStorage.removeItem(e)},Me=function(e){return Y.a.try(function(){return JSON.parse(je(e))})},Ne=function(e,t){return Re(e,JSON.stringify(t))},Ae=n(29),De=n(41),Ue=n(48),Ve=n(188);function Be(e,t){var n=[Ve.a,Object(C.c)(t)],o=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d;return Object(u.e)(Oe,e,o(u.a.apply(void 0,n)))}n(82);n.d(t,"b",function(){return $e}),n.d(t,"c",function(){return Le}),n.d(t,"d",function(){return _e}),n.d(t,"a",function(){return xe});var Ie=Object(c.j)()?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Be(e,t);return{store:n,StateProvider:function(e){var o=e.children;return Fe()(C.a.Provider,{value:t},void 0,Fe()(Ee.a,{store:n},void 0,o))}}}():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De.b.get("initialState"),t={Api:Pe.b,LocalStorage:o,CookieBag:Ae.a,Prefetching:De.b,History:Ue.a},n=Be(e,t);return{store:n,StateProvider:function(e){var o=e.children;return Fe()(C.a.Provider,{value:t},void 0,Fe()(Ee.a,{store:n},void 0,o))}}}(),ze=Ie.store,qe=Ie.StateProvider;Object(c.j)()&&(global.__setStore=function(e){ze=e},global.__setStateProvider=function(e){qe=e});var $e={get Provider(){return qe},get store(){return ze},subscribeTo:function(e,t){var n=e(ze.getState());return ze.subscribe(function(){var o=e(ze.getState());n!==o&&(t(o),n=o)})}}},90:function(e,t,n){"use strict";var o=n(14),i=n(6),r=n(0);n(293);t.a=o.a.extend({displayName:"Popup",optionTypes:{child:r.b.component.isRequired,title:r.b.string,className:r.b.string,isClosable:r.b.bool,width:r.b.number},defaultOptions:{className:"",isClosable:!0},state:{},events:{},template:function(){var e=this.options,t=e.width,n=e.className,o=e.isClosable,r=e.title,a=e.child;return i.default.getFromMacro("skfb_front/macros/components/molecules/popup","popup",[{className:n,isClosable:o,width:t,title:r,components:this.createChildrenComponents({child:a})}])}})},92:function(e,t,n){"use strict";var o,i=n(11),r=n.n(i),a=n(21),s=n.n(a),l=n(2),c=n.n(l),u=n(5),d=n.n(u),p=n(1),m=n(8),f=n(29),h=function(){return o||(o=new d.a(function(e){!function t(){window.mixpanel&&window.mixpanel.__loaded?e(window.mixpanel):setTimeout(t,500)}()}).timeout(5e3)),o};t.a={track:function(e,t){return h().then(function(n){return new d.a(function(o){return n.track(e,c()({},t),o)})}).timeout(1e3).catch(function(t){console.error(t),console.info("Tracking event skipped : "+JSON.stringify(e))})},identify:function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:e.sent.identify(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.info("couldn't load mixpanel");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),setSegment:function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:e.sent.register({"User Segment Name":t?t.get("name"):"None","User Segment Kind":t?t.get("kind"):"None"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.info("couldn't load mixpanel");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),setUsageType:function(){var e=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:e.sent.register({"User Usage Type":t||"None"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.info("couldn't load mixpanel");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),trackSignup:function(){return this.track("Signup")},trackSignupForm:function(){return this.track("Open signup form")},trackUploadForm:function(){return this.track("Open upload form")},trackOnboardingStep:function(e,t){return this.track("Onboarding - Open ".concat(e," step"),t)},clearCookie:function(){var e=s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:e.sent.reset(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.info("couldn't load mixpanel");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),collectLastTouchUTMs:function(){var e=s()(r.a.mark(function e(){var t,n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h();case 3:t=e.sent,n={utm_source:m.c.string("utm_source"),utm_medium:m.c.string("utm_medium"),utm_campaign:m.c.string("utm_campaign"),utm_content:m.c.string("utm_content"),utm_term:m.c.string("utm_term")},o="sf_has_mixpanel_last_touch",Object.values(n).some(function(e){return!!e})?(t.register(n),f.a.set(o,"true",{expires:864e5})):f.a.get(o)||t.register(Object(p.mapValues)(n,function(){return""})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.info("couldn't load mixpanel");case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}()}},93:function(e,t,n){"use strict";var o,i=n(1),r=n(5),a=n.n(r),s=n(269),l=n.n(s),c=n(7),u=n(10),d=Object(i.memoize)(function(){return l.a.connect(u.a.getstream.apiKey,null,u.a.getstream.appId,{location:u.a.getstream.location})}),p=Object(i.memoize)(function(){var e=c.a.me().get("streamFeedsCredentials").filter(function(e){return"notifications"===e.feedName})[0];return d().feed(e.feedName,e.feedId,e.token)}),m=(Object(i.memoize)(function(){var e=c.a.me().get("streamFeedsCredentials").filter(function(e){return"models"===e.feedName})[0];return d().feed(e.feedName,e.feedId,e.token)}),function(){if(!c.a.me().isAuthenticated())return a.a.reject();var e=p();return e.subscribe.apply(e,arguments)}),f=n(25),h=n(41),g=n(16),b=f.a.extend({defaults:{activitiesCount:0,modelsCount:0},initialize:function(){var e=c.a.me();e.isAuthenticated()&&e.canAccessFeature("newsfeed_v2")&&(m(Object(i.throttle)(this.refreshUnseenActivitiesCount.bind(this),5e3)),setTimeout(this.refreshUnseenActivitiesCount.bind(this),100))},refreshUnseenActivitiesCount:function(){var e=this;b.getUnseenActivitiesCount().then(function(t){t!==e.get("activitiesCount")&&(h.b.invalidate("/i/feeds"),e.set("activitiesCount",t))})},hasNewActivities:function(){return Boolean(this.get("activitiesCount"))}},{getSingleton:function(){return o||(o=new b),o},seeActivities:function(){return g.b.seeActivities().then(function(){b.getSingleton().set("activitiesCount",0)})},readActivities:function(e){return g.b.readActivities(e)},getUnseenActivitiesCount:function(){return g.b.getUnseenActivitiesCount()}});t.a=b},94:function(e,t,n){"use strict";var o=n(4),i=n.n(o),r=n(9);t.a=function(e){return{name:"WithEntitiesUpdate",initialize:function(){this.on("afterAdd",function(t){r.b.store.dispatch(r.a.entities.update(i()({},e,t.map(function(e){return e.toJSON()}))))})}}}},96:function(e,t,n){"use strict";n.d(t,"b",function(){return c});var o=n(84),i=n.n(o);n.d(t,"a",function(){return i.a});var r=n(205),a=n.n(r),s=n(204),l=n.n(s);i.a.extend(a.a),i.a.extend(l.a);i.a.extend(function(e,t,n){t.prototype.isValid=function(){return!isNaN(this.$s)},n.utc=function(e){return i()(function(e){if("number"==typeof e)return e;var t=new Date(e);return t.getTime()-60*t.getTimezoneOffset()*1e3}(e))};var o=t.prototype.format;t.prototype.format=function(){if(!this.isValid())return this.toString();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.call.apply(o,[this].concat(t))}});var c=function(e){return i.a.utc(e).fromNow()}},97:function(e,t,n){"use strict";var o=!1;t.a=function(e){return void 0!==e&&(o=e),o}},99:function(e,t,n){"use strict";t.a={name:"internal",domain:"/i",parse:function(e){return e.results||[]}}}},[[1111,47,50,49,48]]])});
//# sourceMappingURL=model-f4438b580fd0d19ab2eb.js.map